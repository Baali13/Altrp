exports.ids = [10];
exports.modules = {

/***/ "./resources/modules/admin/src/components/AutoUpdateInput.js":
/*!*******************************************************************!*\
  !*** ./resources/modules/admin/src/components/AutoUpdateInput.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"@babel/runtime/helpers/extends\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"@babel/runtime/helpers/asyncToGenerator\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"@babel/runtime/helpers/defineProperty\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"@babel/runtime/helpers/assertThisInitialized\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"@babel/runtime/helpers/inherits\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"@babel/runtime/helpers/possibleConstructorReturn\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"@babel/runtime/helpers/getPrototypeOf\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"@babel/runtime/regenerator\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _editor_src_js_classes_Resource__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../editor/src/js/classes/Resource */ \"./resources/modules/editor/src/js/classes/Resource.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar AutoUpdateInput = /*#__PURE__*/function (_Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(AutoUpdateInput, _Component);\n\n  var _super = _createSuper(AutoUpdateInput);\n\n  function AutoUpdateInput(props) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, AutoUpdateInput);\n\n    _this = _super.call(this, props);\n    _this.resource = new _editor_src_js_classes_Resource__WEBPACK_IMPORTED_MODULE_11__[\"default\"]({\n      route: _this.props.route\n    });\n    _this.state = {\n      value: _this.props.value || '',\n      disabled: !_this.props.value\n    };\n    _this.changeValue = _this.changeValue.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));\n    _this.onChange = _this.onChange.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));\n    _this.onKeyDown = _this.onKeyDown.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));\n    return _this;\n  }\n  /**\n   * Обновление роута или значения через пропсы\n   * @param {{}} prevProps\n   * @param {{}} prevState\n   */\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(AutoUpdateInput, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      if (prevProps.route !== this.props.route) {\n        this.resource = new _editor_src_js_classes_Resource__WEBPACK_IMPORTED_MODULE_11__[\"default\"]({\n          route: this.props.route\n        });\n        console.log(this.resource);\n      }\n\n      if (prevProps.value !== this.props.value && this.props.value !== this.state.value) {\n        // console.log(this.props.value);\n        this.setState(function (state) {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            value: _this2.props.value\n          });\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default.a.mark(function _callee() {\n        var _this3 = this;\n\n        var res;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.props.value !== undefined || !this.props.resourceid)) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _context.next = 4;\n                return this.resource.get(this.props.resourceid);\n\n              case 4:\n                res = _context.sent;\n                this.setState(function (state) {\n                  return _objectSpread(_objectSpread({}, state), {}, {\n                    value: res[_this3.props.resourceid] || '',\n                    disabled: false\n                  });\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n    /**\n     * При нажатии на enter тоже обновим данные\n     * @param e\n     */\n\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e) {\n      if (e.keyCode === 13) {\n        this.changeValue(e);\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      var newValue = e.target.value;\n      this.setState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          value: newValue\n        });\n      });\n\n      if (_.isFunction(this.props.changevalue)) {\n        this.props.changevalue(newValue);\n      }\n    }\n    /**\n     * Запрос на именение поля\n     * @param e\n     * @return {Promise<void>}\n     */\n\n  }, {\n    key: \"changeValue\",\n    value: function () {\n      var _changeValue = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default.a.mark(function _callee2(e) {\n        var newValue, res;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                newValue = e.target.value;\n                this.setState(function (state) {\n                  return _objectSpread(_objectSpread({}, state), {}, {\n                    disabled: true\n                  });\n                });\n\n                if (_.isFunction(this.props.onBlur)) {\n                  this.props.onBlur(newValue);\n                }\n\n                _context2.next = 5;\n                return this.resource.put(this.props.resourceid, {\n                  value: newValue,\n                  column_value: newValue\n                });\n\n              case 5:\n                res = _context2.sent;\n                this.setState(function (state) {\n                  return _objectSpread(_objectSpread({}, state), {}, {\n                    disabled: false\n                  });\n                });\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function changeValue(_x) {\n        return _changeValue.apply(this, arguments);\n      }\n\n      return changeValue;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.props.className;\n\n      if (this.state.disabled) {\n        className += ' pointer-event-none';\n      }\n\n      var inputProps = _objectSpread({}, this.props);\n\n      delete inputProps.changevalue;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(\"input\", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, inputProps, {\n        className: className,\n        onBlur: this.changeValue,\n        onKeyDown: this.onKeyDown,\n        onChange: this.onChange,\n        value: this.state.value\n      }));\n    }\n  }]);\n\n  return AutoUpdateInput;\n}(react__WEBPACK_IMPORTED_MODULE_10__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AutoUpdateInput);\n\n//# sourceURL=webpack:///./resources/modules/admin/src/components/AutoUpdateInput.js?");

/***/ }),

/***/ "./resources/modules/editor/src/js/components/altrp-query-component/altrp-query-component.js":
/*!***************************************************************************************************!*\
  !*** ./resources/modules/editor/src/js/components/altrp-query-component/altrp-query-component.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"@babel/runtime/helpers/defineProperty\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"@babel/runtime/helpers/asyncToGenerator\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"@babel/runtime/helpers/slicedToArray\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"@babel/runtime/regenerator\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _classes_Query__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../classes/Query */ \"./resources/modules/editor/src/js/classes/Query.js\");\n/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-query */ \"react-query\");\n/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../front-app/src/js/helpers */ \"./resources/modules/front-app/src/js/helpers.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n/**\n * Компонент для получения данных при помощи запросов\n * @param {{\n *  children: array,\n *  data: array,\n *  query: {Query}\n * }} props\n * @return {React.Component}\n * @constructor\n */\n\nvar AltrpQueryComponent = function AltrpQueryComponent(props) {\n  var _data = [],\n      _status,\n      _error,\n      _latestData;\n\n  var useQuerySettings = {\n    forceFetchOnMount: true,\n    refetchOnWindowFocus: true\n  };\n  var _props$children = props.children,\n      children = _props$children === void 0 ? [] : _props$children,\n      query = props.query,\n      data = props.data,\n      settings = props.settings,\n      updateToken = props.updateToken;\n  /**\n   * проверим есть ли настройки для сортировок по умолчанию\n   */\n\n  var defaultSortSettings = {};\n  settings.tables_columns && settings.tables_columns.forEach(function (column) {\n    if (column.column_is_default_sorted && !defaultSortSettings.order_by) {\n      defaultSortSettings.order_by = column.accessor;\n      defaultSortSettings.order = _.get(column, 'column_is_default_sorted_direction', 'ASC');\n    }\n  });\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(1),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),\n      page = _useState2[0],\n      setPage = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(defaultSortSettings),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),\n      sortSetting = _useState4[0],\n      setSortSettings = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])({}),\n      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState5, 2),\n      filterSetting = _useState6[0],\n      setFilterSettings = _useState6[1];\n\n  var fetchModels = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useCallback\"])( /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(key) {\n      var page,\n          sortSetting,\n          filterSetting,\n          params,\n          updateToken,\n          groupBy,\n          queryData,\n          filterSettingJSON,\n          _args = arguments;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              page = _args.length > 1 && _args[1] !== undefined ? _args[1] : 1;\n              sortSetting = _args.length > 2 ? _args[2] : undefined;\n              filterSetting = _args.length > 3 ? _args[3] : undefined;\n              params = _args.length > 4 ? _args[4] : undefined;\n              updateToken = _args.length > 5 ? _args[5] : undefined;\n              groupBy = _args.length > 6 ? _args[6] : undefined;\n\n              if (!(settings.choose_datasource === 'datasource')) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\", data);\n\n            case 8:\n              queryData = {\n                page: page\n              };\n              filterSettingJSON = JSON.stringify(filterSetting);\n\n              if (sortSetting) {\n                queryData = _.assign(sortSetting, queryData);\n              }\n\n              if (updateToken) {\n                queryData.altrpUdateToken = updateToken;\n              }\n\n              if (groupBy) {\n                queryData.order = 'ASC';\n                queryData.order_by = groupBy;\n              }\n\n              if (filterSettingJSON.length > 2) {\n                queryData.filters = filterSettingJSON;\n              }\n\n              _context.next = 16;\n              return query.getQueried(queryData);\n\n            case 16:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n\n  if (query.pageSize) {\n    /**\n     * Если есть пагинация\n     */\n    var _usePaginatedQuery = Object(react_query__WEBPACK_IMPORTED_MODULE_6__[\"usePaginatedQuery\"])([query.dataSourceName, page, sortSetting, filterSetting, query.getParams(), updateToken], fetchModels, useQuerySettings),\n        status = _usePaginatedQuery.status,\n        resolvedData = _usePaginatedQuery.resolvedData,\n        latestData = _usePaginatedQuery.latestData,\n        error = _usePaginatedQuery.error;\n\n    _data = resolvedData ? resolvedData : _data;\n    _status = status;\n    _error = error;\n    _latestData = latestData;\n    Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function () {\n      if (latestData !== null && latestData !== void 0 && latestData.hasMore) {\n        react_query__WEBPACK_IMPORTED_MODULE_6__[\"queryCache\"].prefetchQuery([query.dataSourceName, page + 1], fetchModels);\n      }\n    }, [latestData, fetchModels, page, sortSetting, filterSetting, updateToken]);\n  } else {\n    /**\n     * Если нет пагинации\n     */\n    var _useQuery = Object(react_query__WEBPACK_IMPORTED_MODULE_6__[\"useQuery\"])([query.dataSourceName, query.getParams(), updateToken], function (updateToken) {\n      return query.getResource().getQueried(_objectSpread(_objectSpread({}, sortSetting), {}, {\n        filters: filterSettingJSON,\n        groupBy: groupBy\n      }));\n    }, useQuerySettings),\n        _status2 = _useQuery.status,\n        _data2 = _useQuery.data,\n        _error2 = _useQuery.error;\n\n    _data = _data2;\n    _status = _status2;\n    _error = _error2;\n  }\n\n  if (_.isObject(_data) && !_.isArray(_data)) {\n    _data = [_data];\n  }\n\n  if (!_data.length) {\n    _data = data;\n  }\n\n  if (!_.isArray(children)) {\n    children = [children];\n  }\n\n  if (_.isEmpty(data)) {\n    data = _data;\n  }\n\n  react__WEBPACK_IMPORTED_MODULE_4___default.a.useEffect(function () {\n    Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_7__[\"setAltrpIndex\"])(data);\n  }, [data]);\n  var finalData = react__WEBPACK_IMPORTED_MODULE_4___default.a.useMemo(function () {\n    if (!_.isArray(data)) {\n      if (_.isObject(data)) {\n        return [data];\n      }\n\n      return [];\n    }\n\n    return data;\n  }, [data]);\n\n  var childrenProps = _objectSpread(_objectSpread({}, props), {}, {\n    data: finalData,\n    _status: _status,\n    setFilterSettings: setFilterSettings,\n    setSortSettings: setSortSettings,\n    filterSetting: filterSetting,\n    sortSetting: sortSetting,\n    _latestData: _latestData,\n    setPage: setPage,\n    page: page,\n    _error: _error\n  });\n\n  return children.map(function (child) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.cloneElement(child, _objectSpread(_objectSpread({}, childrenProps), {}, {\n      key: child.key\n    }));\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AltrpQueryComponent);\n\n//# sourceURL=webpack:///./resources/modules/editor/src/js/components/altrp-query-component/altrp-query-component.js?");

/***/ }),

/***/ "./resources/modules/editor/src/js/components/altrp-table/altrp-table.js":
/*!*******************************************************************************!*\
  !*** ./resources/modules/editor/src/js/components/altrp-table/altrp-table.js ***!
  \*******************************************************************************/
/*! exports provided: settingsToColumns, renderAdditionalRows, renderCellActions, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"settingsToColumns\", function() { return settingsToColumns; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderAdditionalRows\", function() { return renderAdditionalRows; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderCellActions\", function() { return renderCellActions; });\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"@babel/runtime/helpers/toConsumableArray\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"@babel/runtime/helpers/extends\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"@babel/runtime/helpers/defineProperty\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"@babel/runtime/helpers/slicedToArray\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_table__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-table */ \"react-table\");\n/* harmony import */ var react_table__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_table__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-query */ \"react-query\");\n/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _sass_altrp_pagination_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../sass/altrp-pagination.scss */ \"./resources/modules/editor/src/sass/altrp-pagination.scss\");\n/* harmony import */ var _sass_altrp_pagination_scss__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_sass_altrp_pagination_scss__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../front-app/src/js/helpers */ \"./resources/modules/front-app/src/js/helpers.js\");\n/* harmony import */ var _admin_src_js_helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../admin/src/js/helpers */ \"./resources/modules/admin/src/js/helpers.js\");\n/* harmony import */ var _admin_src_components_AutoUpdateInput__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../admin/src/components/AutoUpdateInput */ \"./resources/modules/admin/src/components/AutoUpdateInput.js\");\n/* harmony import */ var _altrp_query_component_altrp_query_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../altrp-query-component/altrp-query-component */ \"./resources/modules/editor/src/js/components/altrp-query-component/altrp-query-component.js\");\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n/**\n *\n * @param settings\n * @param {Query} query\n * @param {{}} data\n * @param {AltrpModel} currentModel\n * @param {string} _status\n * @param {{}} _error\n * @param {function} setSortSettings\n * @param {function} setFilterSettings\n * @param {function} setPage\n * @param {{}} filterSetting\n * @param {{}} sortSetting\n * @param {int} page\n * @param {[]} _latestData\n * @return {*}\n * @constructor\n */\n\nvar AltrpTable = function AltrpTable(_ref) {\n  var settings = _ref.settings,\n      query = _ref.query,\n      data = _ref.data,\n      currentModel = _ref.currentModel,\n      _status = _ref._status,\n      _error = _ref._error,\n      setSortSettings = _ref.setSortSettings,\n      setFilterSettings = _ref.setFilterSettings,\n      filterSetting = _ref.filterSetting,\n      setPage = _ref.setPage,\n      _latestData = _ref._latestData,\n      page = _ref.page,\n      sortSetting = _ref.sortSetting;\n\n  if (!(settings.tables_columns && settings.tables_columns.length)) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n      children: \"Please Add Column\"\n    });\n  }\n\n  var defaultSortSettings = {};\n  settings.tables_columns.forEach(function (column) {\n    if (column.column_is_default_sorted && !defaultSortSettings.order_by) {\n      defaultSortSettings.order_by = column.accessor;\n      defaultSortSettings.order = _.get(column, 'column_is_default_sorted_direction', 'ASC');\n    }\n  });\n  var groupBy = react__WEBPACK_IMPORTED_MODULE_4___default.a.useMemo(function () {\n    return _.get(settings, 'group_by_column_name') ? _.get(settings, 'group_by_column_name') : getGroupBy(settings.tables_columns);\n  }, [settings]);\n  react__WEBPACK_IMPORTED_MODULE_4___default.a.useEffect(function () {\n    if (groupBy) {\n      setSortSettings({\n        order: 'ASC',\n        order_by: groupBy\n      });\n    }\n  }, [groupBy]);\n  var counter = query.getCounterStart(page);\n  var collapsing = react__WEBPACK_IMPORTED_MODULE_4___default.a.useMemo(function () {\n    return settings.group_collapsing;\n  });\n  var collapsedInitiate = [];\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_4___default.a.useState(collapsedInitiate),\n      _React$useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_React$useState, 2),\n      collapsedGroups = _React$useState2[0],\n      setCollapsedGroups = _React$useState2[1];\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])({}),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState, 2),\n      updatedData = _useState2[0],\n      setUpdatedData = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])({}),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState3, 2),\n      doubleClicked = _useState4[0],\n      setDoubleClicked = _useState4[1];\n\n  var groupingStore = [];\n  var columns = [];\n  columns = settingsToColumns(settings);\n  /**\n   * обновление данных при изменении ячейки\n   * @type {any[]}\n   * @private\n   */\n\n  data = data.map(function (row) {\n    if (row.id === updatedData.rowId) {\n      row[updatedData.column] = updatedData.value;\n      return _objectSpread({}, row);\n    }\n\n    return row;\n  });\n\n  var _useTable = Object(react_table__WEBPACK_IMPORTED_MODULE_5__[\"useTable\"])({\n    columns: react__WEBPACK_IMPORTED_MODULE_4___default.a.useMemo(function () {\n      return columns || [];\n    }, [settings.tables_columns]),\n    data: react__WEBPACK_IMPORTED_MODULE_4___default.a.useMemo(function () {\n      return data || [];\n    }, [data])\n  }),\n      getTableProps = _useTable.getTableProps,\n      getTableBodyProps = _useTable.getTableBodyProps,\n      headerGroups = _useTable.headerGroups,\n      rows = _useTable.rows,\n      prepareRow = _useTable.prepareRow;\n  /**\n   * Обработка клика для сортировки\n   */\n\n\n  var sortingHandler = function sortingHandler(order_by) {\n    setSortSettings({\n      order_by: order_by,\n      order: sortSetting && sortSetting.order_by === order_by ? sortSetting.order === \"DESC\" ? \"ASC\" : \"DESC\" : \"ASC\"\n    });\n  };\n  /**\n   * Изменение поля для фильтрации\n   */\n\n\n  var filterHandler = function filterHandler(filteredColumn, searchString) {\n    setPage(1);\n\n    var filterParams = _objectSpread({}, filterSetting);\n\n    if (searchString) {\n      filterParams[filteredColumn] = searchString;\n    } else {\n      delete filterParams[filteredColumn];\n    }\n\n    setFilterSettings(filterParams);\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"table\", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({\n    className: \"altrp-table altrp-table_columns-\" + columns.length\n  }, getTableProps()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"thead\", {\n    className: \"altrp-table-head\"\n  }, renderAdditionalRows(settings), headerGroups.map(function (headerGroup) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"tr\", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, headerGroup.getHeaderGroupProps(), {\n      className: \"altrp-table-tr\"\n    }), headerGroup.headers.map(function (column) {\n      return renderTh({\n        column: column,\n        sortSetting: sortSetting,\n        sortingHandler: sortingHandler,\n        filterSetting: filterSetting,\n        filterHandler: filterHandler\n      });\n    }));\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"tbody\", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, getTableBodyProps(), {\n    className: \"altrp-table-tbody \".concat(settings.table_style_table_striple_style ? ' altrp-table-tbody--striped' : '')\n  }), _status === \"error\" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"td\", null, _error.message)) : _status === \"loading\" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"td\", null, \"Loading\")) : rows.map(function (row, i) {\n    prepareRow(row);\n\n    var rowStyles = _.get(settings, 'field_name_for_row_styling');\n\n    rowStyles = _.get(row.original, rowStyles, '');\n    rowStyles = Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"mbParseJSON\"])(rowStyles, {});\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, {\n      key: row.id\n    }, renderGroupingTr(row, groupBy, groupingStore, settings, collapsing, setCollapsedGroups, collapsedGroups), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"tr\", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, row.getRowProps(), {\n      style: rowStyles,\n      className: \"altrp-table-tr \".concat(settings.table_hover_row ? 'altrp-table-background' : '', \" \").concat(\n      /**\n       * Проверка нужно ли скрыть эту строку\n       */\n      collapsing && collapsedGroups.indexOf(_.last(groupingStore)) !== -1 ? 'altrp-d-none' : '')\n    }), row.cells.map(function (cell, _i) {\n      var cellContent = cell.render('Cell');\n      var linkTag = Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"isEditor\"])() ? 'a' : react_router_dom__WEBPACK_IMPORTED_MODULE_8__[\"Link\"];\n\n      if (columns[_i].column_external_link && !Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"isEditor\"])()) {\n        linkTag = 'a';\n      }\n\n      var style = cell.column.column_body_alignment ? {\n        textAlign: cell.column.column_body_alignment\n      } : {};\n\n      var cellProps = _objectSpread({}, cell.getCellProps());\n\n      var _cellContent = cell.value;\n      /**\n       * Если в настройках колонки установлено редактирование и есть url запроса на редактирование\n       * то добавляем особое поведение\n       */\n\n      var doubleClickContent = '';\n\n      if (columns[_i].column_is_editable && columns[_i].column_edit_url) {\n        var columnEditUrl = Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"parseURLTemplate\"])(columns[_i].column_edit_url, row.original);\n        doubleClickContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_admin_src_components_AutoUpdateInput__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n          className: \"altrp-inherit altrp-table-td__double-click-content\",\n          route: columnEditUrl,\n          resourceid: '',\n          changevalue: function changevalue(value) {\n            setUpdatedData({\n              value: value,\n              rowId: row.original.id,\n              column: columns[_i]._accessor\n            });\n          },\n          value: _cellContent\n        });\n\n        cellProps.onDoubleClick = function () {\n          if (doubleClicked.column === columns[_i]._accessor && doubleClicked.rowId === row.original.id) {\n            setDoubleClicked({});\n          } else {\n            setDoubleClicked({\n              column: columns[_i]._accessor,\n              rowId: row.original.id\n            });\n          }\n        };\n      }\n\n      var cellClassName = \"altrp-table-td \".concat(cell.column.column_body_alignment ? \"altrp-table-td_alignment-\".concat(cell.column.column_body_alignment) : '', \" \");\n\n      if (doubleClicked.column === columns[_i]._accessor && row.original.id === doubleClicked.rowId) {\n        cellClassName += ' altrp-table-td_double-clicked';\n      }\n      /**\n       * Если в настройках table_hover_row: false, - background для отдельной ячейки\n       */\n\n\n      if (!settings.table_hover_row) {\n        cellClassName += ' altrp-table-background';\n      }\n      /**\n       * Если значение объект или массив, то отобразим пустую строку\n       */\n\n\n      if (_.isObject(cell.value)) {\n        cellContent = '';\n      }\n      /**\n       * Если в настройках колонки есть url, и в данных есть id, то делаем ссылку\n       */\n\n\n      if (columns[_i].column_link) {\n        cellContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(linkTag, {\n          to: Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"parseURLTemplate\"])(columns[_i].column_link, row.original),\n          href: Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"parseURLTemplate\"])(columns[_i].column_link, row.original),\n          target: columns[_i].column_blank_link ? '_blank' : '',\n          className: 'altrp-inherit altrp-table-td__default-content',\n          dangerouslySetInnerHTML: {\n            __html: cell.value\n          }\n        });\n      } else {\n        cellContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement('span', {\n          className: 'altrp-inherit altrp-table-td__default-content',\n          dangerouslySetInnerHTML: {\n            __html: cell.value\n          }\n        });\n      }\n      /**\n       * Если нужно указать номер по порядку\n       */\n\n\n      if (cell.column._accessor && cell.column._accessor.trim() === '##') {\n        cellContent = counter++ + '';\n      }\n\n      var cellStyles = _.get(cell, 'column.column_styles_field');\n\n      cellStyles = _.get(row.original, cellStyles, '');\n      cellStyles = Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"mbParseJSON\"])(cellStyles, {});\n      style = _.assign(style, cellStyles);\n      /**\n       * Если есть actions, то надо их вывести\n       */\n\n      if (_.get(cell, 'column.actions.length')) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"td\", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, cellProps, {\n          className: cellClassName,\n          style: style\n        }), renderCellActions(cell, row));\n      }\n\n      if (_.isString(cellContent) && !doubleClickContent) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"td\", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, cellProps, {\n          className: cellClassName,\n          dangerouslySetInnerHTML: {\n            __html: cellContent + ''\n          },\n          style: style\n        }));\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"td\", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, cellProps, {\n        className: cellClassName,\n        style: style\n      }), cellContent, doubleClickContent);\n    })));\n  })), renderFooter(settings, data)), query.paginationType === 'prev-next' && query.pageSize ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n    className: \"altrp-pagination\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"button\", {\n    className: \"altrp-pagination__previous\",\n    onClick: function onClick() {\n      setPage(function (old) {\n        return Math.max(old - 1, 0);\n      });\n      setDoubleClicked({});\n      setUpdatedData({});\n    },\n    disabled: page === 1\n  }, settings.prev_text || ''), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n    className: \"altrp-pagination__count\"\n  }, settings.current_page_text || 'Current Page:', page), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"button\", {\n    className: \"altrp-pagination__next\",\n    onClick: function onClick() {\n      setUpdatedData({});\n      setDoubleClicked({});\n      setPage(function (old) {\n        return !_latestData || !_latestData.hasMore ? old : old + 1;\n      });\n    },\n    disabled: !_latestData || !_latestData.hasMore\n  }, settings.next_text || '')) : '');\n};\n/**\n * Парсинг колонок из настроек в колонки для react-table\n * @param settings\n * @return {Array}\n */\n\n\nfunction settingsToColumns(settings) {\n  var columns = [];\n  var tables_columns = settings.tables_columns;\n  tables_columns = tables_columns || [];\n  /**\n   * Если в колонке пустые поля, то мы их игнорируем, чтобы не было ошибки\n   */\n\n  tables_columns.forEach(function (_column) {\n    /**\n     * Колонку проказываем, если есть accessor или список actions\n     */\n    if (_column.column_name && (_column.actions && _column.actions.length || _column.accessor)) {\n      _column._accessor = _column.accessor;\n      columns.push(_column);\n    }\n  });\n  return columns;\n}\n/**\n *\n * @param {{}}settings\n * @return {string|array}\n */\n\nfunction renderAdditionalRows(settings) {\n  var additional_rows = settings.additional_rows;\n\n  if (!_.isArray(additional_rows)) {\n    return '';\n  }\n\n  return additional_rows.map(function (row) {\n    row.additional_cells = row.additional_cells || [];\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"tr\", {\n      key: \"additional-row-\".concat(row.id)\n    }, row.additional_cells.map(function (cell) {\n      cell.rowspan = cell.rowspan || 1;\n      cell.colspan = cell.colspan || 1;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"th\", {\n        key: \"additional-cell-\".concat(row.id, \"-\").concat(cell.id),\n        role: \"columnheader\",\n        className: \"altrp-table-th altrp-table-cell\",\n        colSpan: cell.colspan,\n        rowSpan: cell.rowspan\n      }, cell.title);\n    }));\n  });\n}\n/**\n * Отрисовка главного заголовка колонки для таблицы\n * @param {{}}column\n * @param {{}}sortSetting\n * @param {{}}filterSetting\n * @param {function}sortingHandler\n * @param {function}filterHandler\n * @return {*}\n */\n\nfunction renderTh(_ref2) {\n  var column = _ref2.column,\n      sortSetting = _ref2.sortSetting,\n      sortingHandler = _ref2.sortingHandler,\n      filterSetting = _ref2.filterSetting,\n      filterHandler = _ref2.filterHandler;\n  var column_width = column.column_width,\n      column_header_alignment = column.column_header_alignment;\n\n  var thProps = _objectSpread({}, column.getHeaderProps());\n\n  var style = {};\n  if (column_width) style.width = column_width;\n  if (column_header_alignment) style.textAlign = column_header_alignment;\n  thProps.className = 'altrp-table-th';\n\n  if (column.column_is_sorted) {\n    thProps.onClick = function () {\n      return sortingHandler(column._accessor);\n    };\n\n    thProps.className += ' clickable';\n  }\n\n  if (column.column_width) {\n    thProps.width = column.column_width + '%';\n  }\n\n  var thText = column.render('column_name');\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"th\", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, thProps, {\n    style: style\n  }), thText, sortSetting && column.column_is_sorted && sortSetting.order_by === column._accessor && (sortSetting.order === \"DESC\" ? Object(_admin_src_js_helpers__WEBPACK_IMPORTED_MODULE_10__[\"iconsManager\"])().renderIcon('chevron', {\n    className: 'rotate-180 sort-icon '\n  }) : Object(_admin_src_js_helpers__WEBPACK_IMPORTED_MODULE_10__[\"iconsManager\"])().renderIcon('chevron', {\n    className: 'sort-icon'\n  })), column.column_is_filtered && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"label\", {\n    className: \"altrp-label\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"input\", {\n    type: \"text\",\n    onClick: function onClick(e) {\n      e.stopPropagation();\n    },\n    onChange: function onChange(e) {\n      e.stopPropagation();\n      var value = e.target.value;\n      filterHandler(column._accessor, value);\n    },\n    value: filterSetting[column._accessor] || '',\n    className: \"altrp-field\"\n  })));\n}\n/**\n * Получить поле для группировки строк\n * @param {array} columns - array({\n *  group_by:{boolean},\n *  accessor:{string},\n * })\n *\n * @return {string|null}\n */\n\n\nfunction getGroupBy(columns) {\n  var groupBy = null;\n  columns.forEach(function (column) {\n    if (column.group_by) {\n      groupBy = column.accessor;\n    }\n  });\n  return groupBy;\n}\n/**\n * Выводит группирующую строку в таблице\n * @params {{}} row\n * @params {null|string} row\n * @params {array} groupingStore\n * @params {{}} settings\n * @params {boolean} collapsing\n * @params {function} setCollapsedGroups\n * @params {array} collapsedGroups\n * @return {string|React.Component}\n */\n\n\nfunction renderGroupingTr(row, groupBy, groupingStore) {\n  var settings = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var collapsing = arguments.length > 4 ? arguments[4] : undefined;\n  var setCollapsedGroups = arguments.length > 5 ? arguments[5] : undefined;\n  var collapsedGroups = arguments.length > 6 ? arguments[6] : undefined;\n\n  if (!groupBy) {\n    return null;\n  }\n\n  var text = _.get(row, 'original.' + groupBy, '');\n\n  if (!text) {\n    text = _.get(settings, 'group_default_text', '');\n  }\n\n  if (groupingStore.indexOf(text) >= 0) {\n    return null;\n  }\n\n  groupingStore.push(text);\n  var collapsed = collapsedGroups.indexOf(text) !== -1;\n  var collapsed_icon = settings.collapsed_icon,\n      expanded_icon = settings.expanded_icon;\n  /**\n   * С сервера может приходить массив если иконка удалена\n   */\n\n  if (_.isArray(collapsed_icon)) {\n    collapsed_icon = null;\n  }\n\n  if (_.isArray(expanded_icon)) {\n    expanded_icon = null;\n  }\n\n  return text ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"tr\", {\n    className: \"altrp-table-tr\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"td\", {\n    colSpan: _.get(row, 'cells.length', 1),\n    onClick: function onClick() {\n      collapsing && toggleGroup(text, setCollapsedGroups, collapsedGroups);\n    },\n    className: \"altrp-table-td__grouping altrp-table-td altrp-table-background \".concat(collapsing ? collapsed ? 'altrp-pointer' : 'altrp-pointer active' : '', \" \")\n  }, collapsing ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"span\", {\n    className: \"altrp-table__collapse-icon \".concat(collapsed ? 'altrp-table__collapse-icon_collapsed' : '')\n  }, collapsed ? Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"renderAsset\"])(collapsed_icon || {\n    assetType: \"icon\",\n    name: \"add\"\n  }) : Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"renderAsset\"])(expanded_icon || {\n    assetType: \"icon\",\n    name: \"minus\"\n  })) : null, text)) : null;\n}\n/**\n * Сохраняет/удаляет текущаю группу по заголовку из с списка схлопнутых групп в таблице\n * @param {string} currentRowHeading\n * @param {function} setCollapsedGroups - функция задает новый список collapsedGroups\n * @param {array} collapsedGroups - список заголовков, которые схлопнуты\n */\n\n\nfunction toggleGroup(currentRowHeading, setCollapsedGroups, collapsedGroups) {\n  if (collapsedGroups.indexOf(currentRowHeading) === -1) {\n    collapsedGroups.push(currentRowHeading);\n    setCollapsedGroups(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(collapsedGroups));\n  } else {\n    collapsedGroups = _.filter(collapsedGroups, function (g) {\n      return g !== currentRowHeading;\n    });\n    setCollapsedGroups(collapsedGroups);\n  }\n}\n/**\n * Отрисовка футера таблицы\n * @param {{}}settings\n * @param {array}data\n */\n\n\nfunction renderFooter(settings, data) {\n  var footerColumns = settings.footer_columns || [];\n\n  if (footerColumns.length === 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"tfoot\", {\n    className: \"altrp-table-foot\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"tr\", {\n    className: \"altrp-table-tr\"\n  }, footerColumns.map(function (footerColumn) {\n    var style = {\n      textAlign: footerColumn.column_footer_alignment || 'left'\n    };\n    var content = footerColumn.content;\n\n    if (content.indexOf('{{altrphelpers.') !== -1) {\n      window.altrphelpers.context = data;\n      content = content.replace(/{{/g, '').replace(/}}/g, '');\n\n      try {\n        content = eval(content);\n      } catch (e) {\n        console.log(content);\n        console.error(e);\n        content = '';\n      }\n    } else {\n      content = Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"replaceContentWithData\"])(content);\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"td\", {\n      className: \"altrp-table-td\",\n      key: footerColumn.id,\n      style: style,\n      colSpan: footerColumn.colspan || 1\n    }, content);\n  })));\n}\n/**\n * Выводит список элементов соответствующих настройкам Actions для колнки\n * @param cell\n * @param row\n */\n\n\nfunction renderCellActions(cell) {\n  var row = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var actions = _.get(cell, 'column.actions', []);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n    className: \"altrp-actions\"\n  }, actions.map(function (action) {\n    var tag = action.type || 'Link';\n    var actionContent = Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"replaceContentWithData\"])(action.text || '');\n    var link = Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"parseURLTemplate\"])(action.link, row.original);\n    var actionProps = {\n      className: 'altrp-actions-item altrp-link ' + (action.classes || ''),\n      style: {},\n      key: (action.id || '') + (row.id || ''),\n      title: action.text || ''\n    };\n    actionProps.style.marginLeft = _.get(action, 'spacing.left') ? _.get(action, 'spacing.left') + _.get(action, 'spacing.unit') : null;\n    actionProps.style.marginRight = _.get(action, 'spacing.right') ? _.get(action, 'spacing.right') + _.get(action, 'spacing.unit') : null;\n    actionProps.style.marginTop = _.get(action, 'spacing.top') ? _.get(action, 'spacing.top') + _.get(action, 'spacing.unit') : null;\n    actionProps.style.marginBottom = _.get(action, 'spacing.bottom') ? _.get(action, 'spacing.bottom') + _.get(action, 'spacing.unit') : null;\n\n    if (tag === 'Link') {\n      tag = react_router_dom__WEBPACK_IMPORTED_MODULE_8__[\"Link\"];\n      actionProps.to = link;\n    }\n\n    if (tag === 'a' && action.target_blank) {\n      actionProps.target = '_blank';\n    }\n\n    if (tag === 'a') {\n      actionProps.href = Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"parseURLTemplate\"])(action.link, row.original);\n    }\n\n    if (_.get(action, 'icon.assetType')) {\n      var iconSize = _.get(action, 'size.size') ? _.get(action, 'size.size') + _.get(action, 'size.unit', 'px') : null;\n      var iconProps = {\n        className: 'altrp-actions-item__icon',\n        style: {}\n      };\n\n      if (iconSize) {\n        iconProps.style.width = iconSize;\n        iconProps.style.height = iconSize;\n      }\n\n      actionContent = Object(_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_9__[\"renderAsset\"])(action.icon, iconProps);\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(tag, actionProps, actionContent);\n  }));\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_altrp_query_component_altrp_query_component__WEBPACK_IMPORTED_MODULE_12__[\"default\"], props, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(AltrpTable, null));\n});\n\n//# sourceURL=webpack:///./resources/modules/editor/src/js/components/altrp-table/altrp-table.js?");

/***/ }),

/***/ "./resources/modules/editor/src/sass/altrp-pagination.scss":
/*!*****************************************************************!*\
  !*** ./resources/modules/editor/src/sass/altrp-pagination.scss ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../../../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \".altrp-pagination {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center; }\\n  .altrp-pagination-pages {\\n    display: flex; }\\n  .altrp-pagination__goto-page {\\n    margin-left: 10px;\\n    height: 32px;\\n    border: solid #8e94aa 2px; }\\n  .altrp-pagination__select-size {\\n    margin-left: 10px; }\\n    .altrp-pagination__select-size .altrp-field-select2__single-value {\\n      font-size: 14px; }\\n    .altrp-pagination__select-size .altrp-field-select2__indicator-separator {\\n      display: none; }\\n    .altrp-pagination__select-size .altrp-field-select2__indicator {\\n      align-items: center; }\\n    .altrp-pagination__select-size .altrp-field-select2__control {\\n      width: 100px;\\n      min-height: 32px;\\n      padding: 0;\\n      border-radius: 0;\\n      outline: none;\\n      border-color: #8e94aa;\\n      -webkit-box-shadow: none;\\n      -moz-box-shadow: none;\\n      box-shadow: none; }\\n      .altrp-pagination__select-size .altrp-field-select2__control input {\\n        border: none; }\\n  .altrp-pagination__ellipsis {\\n    align-self: center;\\n    margin: 0 5px; }\\n\\n#editor-content .altrp-pagination__select-size,\\n#editor-content .altrp-table-th .altrp-label_select,\\n#editor-content .altrp-table__filter-select {\\n  pointer-events: none; }\\n\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack:///./resources/modules/editor/src/sass/altrp-pagination.scss?");

/***/ })

};;