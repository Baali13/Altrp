exports.ids=[14],exports.modules={146:function(e,t,n){"use strict";var r=n(12),a=n.n(r),s=n(9),i=n.n(s),o=n(17),c=n.n(o),p=n(2),l=n.n(p),u=n(0),g=n.n(u),d=(n(145),n(49)),f=n(6);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t,n,r,a=[],s={forceFetchOnMount:!0,refetchOnWindowFocus:!0},o=e.children,p=void 0===o?[]:o,m=e.query,b=e.data,v=e.settings,y=e.updateToken,O={};v.tables_columns&&v.tables_columns.forEach((function(e){e.column_is_default_sorted&&!O.order_by&&(O.order_by=e.accessor,O.order=_.get(e,"column_is_default_sorted_direction","ASC"))}));var P=Object(u.useState)(1),x=c()(P,2),j=x[0],E=x[1],w=Object(u.useState)(O),S=c()(w,2),k=S[0],N=S[1],T=Object(u.useState)({}),C=c()(T,2),D=C[0],I=C[1],z=Object(u.useCallback)(function(){var e=i()(l.a.mark((function e(t){var n,r,a,s,i,o,c,p=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.length>1&&void 0!==p[1]?p[1]:1,r=p.length>2?p[2]:void 0,a=p.length>3?p[3]:void 0,p.length>4?p[4]:void 0,s=p.length>5?p[5]:void 0,i=p.length>6?p[6]:void 0,"datasource"!==v.choose_datasource){e.next=8;break}return e.abrupt("return",b);case 8:return o={page:n},c=JSON.stringify(a),r&&(o=_.assign(r,o)),s&&(o.altrpUdateToken=s),i&&(o.order="ASC",o.order_by=i),c.length>2&&(o.filters=c),e.next=16,m.getQueried(o);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());if(m.pageSize){var M=Object(d.usePaginatedQuery)([m.dataSourceName,j,k,D,m.getParams(),y],z,s),A=M.status,Q=M.resolvedData,R=M.latestData;a=Q||a,t=A,n=M.error,r=R,Object(u.useEffect)((function(){null!=R&&R.hasMore&&d.queryCache.prefetchQuery([m.dataSourceName,j+1],z)}),[R,z,j,k,D,y])}else{var q=Object(d.useQuery)([m.dataSourceName,m.getParams(),y],(function(e){return m.getResource().getQueried(h(h({},k),{},{filters:filterSettingJSON,groupBy:groupBy}))}),s),F=q.status;a=q.data,t=F,n=q.error}_.isObject(a)&&!_.isArray(a)&&(a=[a]),a.length||(a=b),_.isArray(p)||(p=[p]),_.isEmpty(b)&&(b=a),g.a.useEffect((function(){Object(f.Q)(b)}),[b]);var B=g.a.useMemo((function(){return _.isArray(b)?b:_.isObject(b)?[b]:[]}),[b]),K=h(h({},e),{},{data:B,_status:t,setFilterSettings:I,setSortSettings:N,filterSetting:D,sortSetting:k,_latestData:r,setPage:E,page:j,_error:n});return p.map((function(e){return g.a.cloneElement(e,h(h({},K),{},{key:e.key}))}))}},149:function(e,t,n){(e.exports=n(61)(!1)).push([e.i,".altrp-pagination{display:flex;align-items:center;justify-content:center}.altrp-pagination-pages{display:flex}.altrp-pagination__goto-page{margin-left:10px;height:32px;border:solid #8e94aa 2px}.altrp-pagination__select-size{margin-left:10px}.altrp-pagination__select-size .altrp-field-select2__single-value{font-size:14px}.altrp-pagination__select-size .altrp-field-select2__indicator-separator{display:none}.altrp-pagination__select-size .altrp-field-select2__indicator{align-items:center}.altrp-pagination__select-size .altrp-field-select2__control{width:100px;min-height:32px;padding:0;border-radius:0;outline:none;border-color:#8e94aa;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.altrp-pagination__select-size .altrp-field-select2__control input{border:none}.altrp-pagination__ellipsis{align-self:center;margin:0 5px}#editor-content .altrp-pagination__select-size,#editor-content .altrp-table-th .altrp-label_select,#editor-content .altrp-table__filter-select{pointer-events:none}\n",""])},219:function(e,t,n){"use strict";n.r(t);var r,a=n(12),s=n.n(a),i=n(9),o=n.n(i),c=n(4),p=n.n(c),l=n(5),u=n.n(l),g=n(7),d=n.n(g),f=n(8),m=n.n(f),h=n(1),b=n.n(h),v=n(2),y=n.n(v),O=n(37),P=n.n(O),x=n(0),j=n.n(x),E=(n(149),n(162),n(146)),w=n(78),S=n(77),k=n(3),N=n(80),T=n(6),C=n(38),D=n.n(C),I=P.a.div(r||(r=D()(["{\n  grid-template-columns: repeat(",", 1fr);\n  display: grid;    \n  ","\n"])),(function(e){return e.columnsCount}),(function(e){var t=e.posts_columns_gap,n=e.posts_rows_gap,r="";return t&&!Number(t)?r+="grid-column-gap:".concat(t,";"):Number(t)&&(r+="grid-column-gap:".concat(t,"px;")),n&&!Number(n)?r+="grid-row-gap:".concat(n,";"):Number(n)&&(r+="grid-row-gap:".concat(n,"px;")),r})),z=n(174);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var R=function(e){d()(a,e);var t,n,r=Q(a);function a(e){var t;return p()(this,a),(t=r.call(this,e)).renderPost=function(e){var n=_.get(t.props.settings,"posts_card_hover_template",null),r=_.get(t.props.settings,"posts_transition_type",null),a=_.cloneDeep(t.props.data[e]||t.props.data),s=a.component||j.a.createElement("h2",null,a.title||a.id||"");if(t.state.simpleTemplate){var i=S.default.cloneElement(t.state.simpleTemplate);i.setCardModel(new k.a(a),e),s=j.a.createElement(i.componentClass,{element:i,ElementWrapper:N.default,children:i.children})}return j.a.createElement(j.a.Fragment,{key:(a.id||a.altrpIndex)+Math.random()},j.a.createElement("div",{className:"altrp-post"},s,n&&j.a.createElement("div",{className:"altrp-post altrp-post--hover altrp-post--hover--".concat(r)},s)))},t.state={simpleTemplate:"",simpleTemplateId:null,currentPage:1},t}return u()(a,[{key:"componentDidMount",value:(n=o()(y.a.mark((function e(){var t,n,r=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.settings,!(n=_.get(t,"posts_card_template"))){e.next=6;break}if(n){e.next=5;break}return e.abrupt("return");case 5:this.setState((function(e){return A(A({},e),{},{simpleTemplateId:n})}),o()(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.default.loadParsedTemplate(n);case 2:t=e.sent,r.setState((function(e){return A(A({},e),{},{simpleTemplate:t})}));case 4:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"shouldComponentUpdate",value:function(e,t){return!Object(T.x)()||(this.props.settings!==e.settings||(!_.isEqual(this.state.simpleTemplate,t.simpleTemplate)||(!_.isEqual(this.state.simpleTemplateId,t.simpleTemplateId)||(!_.isEqual(this.props.data,e.data)||this.state.currentPage!==t.currentPage))))}},{key:"componentDidUpdate",value:(t=o()(y.a.mark((function e(t){var n,r,a,s=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.settings,r=this.state.simpleTemplateId,a=_.get(n,"posts_card_template",r),_.isEqual(t.data,this.props.data)||this.setState((function(e){return A(A({},e),{},{posts:s.props.data})})),a===r){e.next=8;break}if(a){e.next=7;break}return e.abrupt("return");case 7:this.setState((function(e){return A(A({},e),{},{simpleTemplateId:a})}),o()(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.default.loadParsedTemplate(a);case 2:t=e.sent,s.setState((function(e){return A(A({},e),{},{simpleTemplate:t})}));case 4:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getPageCount",value:function(){var e=this.props.data,t=Number(Object(T.s)(this.props.settings,"posts_per_page"))||12;return t&&_.get(e,"length")?Math.ceil(e.length/t):1}},{key:"setPage",value:function(e){(e=Number(e))||(e=1),e<0&&(e=0),e>this.getPageCount()&&(e=this.getPageCount()),this.state.currentPage!==e&&this.setState((function(t){return A(A({},t),{},{currentPage:e})}))}},{key:"renderPagination",value:function(){var e=this,t=A({},this.props.settings);if(!this.props.data.length&&!Object(T.x)())return null;var n=Object(T.s)(this.props.settings,"posts_pagination_type")||"";if(n){var r=this.state.currentPage,a=this.getPageCount();if("pages"===n){t.hide_pagination_select=!0,t.hide_page_input=!0;var s={settings:t,pageCount:a,pageIndex:this.state.currentPage-1,nextPage:function(){e.setPage(e.state.currentPage+1)},previousPage:function(){e.setPage(e.state.currentPage-1)},gotoPage:function(t){e.setPage(t+1)},pageSize:this.props.element.getResponsiveSetting("posts_per_page"),widgetId:this.props.element.getId()};return j.a.createElement(z.a,s)}return"prev_next"===n?j.a.createElement("div",{className:"altrp-pagination-pages"},j.a.createElement("button",{className:"altrp-pagination__previous "+(r<=1?"state-disabled":""),disabled:r<=1,onClick:function(){e.setPage(r-1)}},j.a.createElement("span",null,t.posts_prev_text||""),Object(T.K)(t.prev_icon)),j.a.createElement("button",{className:"altrp-pagination__next "+(r===a?"state-disabled":""),disabled:r===a,onClick:function(){e.setPage(r+1)}},j.a.createElement("span",null,t.posts_next_text||""),Object(T.K)(t.next_icon))):j.a.createElement("div",{className:"altrp-pagination"},!t.hide_pre_page_button&&j.a.createElement("button",{className:"altrp-pagination__previous",onClick:function(){return e.setPage(r-1)},disabled:r<=1},j.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.prev_text||"Previous Page"}}),Object(T.K)(t.prev_icon)),!t.hide_pages_buttons_button&&j.a.createElement("div",{className:"altrp-pagination__count"},t.pageText),!t.hide_next_page_button&&j.a.createElement("button",{className:"altrp-pagination__next",onClick:function(){return e.setPage(r+1)},disabled:r===a},j.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.next_text||"Next Page"}}),Object(T.K)(t.next_icon)))}return null}},{key:"render",value:function(){var e=this,t=this.state.currentPage,n=Number(Object(T.s)(this.props.settings,"posts_per_page"))||12,r=this.props.data;!_.isArray(r)&&_.isObject(r)&&(r=[r]),_.isArray(r)||(r=[]);var a=0;n&&Number(n)&&(t>1&&(a=(t-1)*n),r=r.slice(a,a+n));var s=Number(Object(T.s)(this.props.settings,"posts_columns"))||1,i=Object(T.s)(this.props.settings,"posts_columns_gap")||"",o=Object(T.s)(this.props.settings,"posts_rows_gap")||"";return j.a.createElement(j.a.Fragment,null,j.a.createElement(I,{columnsCount:s,posts_columns_gap:i,posts_rows_gap:o,className:"altrp-posts"},r.map((function(t,n){return e.renderPost(a+n)}))),this.renderPagination())}}]),a}(j.a.Component);t.default=function(e){return"datasource"===e.settings.choose_datasource?(Object(T.x)()&&((e=A({},e)).settings=A({},e.settings),e.data=Array.from({length:100},(function(){return{}})),Object(T.Q)(e.data)),j.a.createElement(R,e)):j.a.createElement(E.a,e,j.a.createElement(R,null))}}};