{"version":3,"sources":["webpack:///./resources/modules/front-app/src/js/helpers.js","webpack:///./resources/modules/front-app/src/js/components/AreaComponent.js","webpack:///./resources/modules/front-app/src/js/components/RouteContent.js","webpack:///./resources/modules/editor/src/js/components/Styles.js","webpack:///./resources/modules/front-app/src/js/components/AppContent.js","webpack:///./resources/modules/front-app/src/FrontApp.js","webpack:///./resources/modules/front-app/src/js/store/routes/actions.js","webpack:///./resources/modules/front-app/src/js/store/routes/reducers.js","webpack:///./resources/modules/front-app/src/js/store/reducers.js","webpack:///./resources/modules/front-app/src/js/store/store.js"],"names":["defaultTitle","AreaComponent","rootElement","window","frontElementsFabric","parseData","this","props","template","data","page","model","classes","id","className","join","React","createElement","componentClass","element","children","Component","RouteContent","title","titleElement","document","innerHTML","style","zIndex","areas","map","area","key","Styles","state","elementStyles","stylesModule","stylesModuleResolve","elementId","styles","elementFound","forEach","elementStyle","push","setState","data-styles-id","AppContent","routes","route","path","exact","connect","_export","appRoutes","frontApp","getTemplates","getRoutes","then","res","templates","store","appStore","CHANGE_APP_ROUTES","changeAppRoutes","type","defaultState","combineReducers","action","createStore","rootReducer"],"mappings":"qGAmCIA,E,glBCnBWC,E,qIAZT,IAAIC,EAAeC,OAAOC,oBAAoBC,UAAUC,KAAKC,MAAMC,SAASC,KAAM,KAAMH,KAAKC,MAAMG,KAAMJ,KAAKC,MAAMI,OAChHC,EAAU,CAAC,WAAD,mBAAyBN,KAAKC,MAAMM,KAClD,OAAO,yBAAKC,UAAWF,EAAQG,KAAK,MAClCC,IAAMC,cAAcf,EAAYgB,eAC5B,CACEC,QAASjB,EACTkB,SAAUlB,EAAYkB,gB,GARRC,a,obC4BbC,E,gJFZR,IAAkBC,EACnBC,EADmBD,EEXZjB,KAAKC,MAAMgB,MFYlBC,EAAeC,SAASF,MACxBvB,IACFA,EAAewB,EAAaE,WAEzBH,IACHA,EAAQvB,GAEPyB,SAASF,QAAUA,IACpBE,SAASF,MAAQA,K,+BElBX,WACN,OACA,kBAAC,aAAD,CACEI,MAAO,CAACC,OAAQ,QAMlB,yBAAKd,UAAU,iBACbR,KAAKC,MAAMsB,MAAMC,KAAI,SAAAC,GAAI,OAAI,kBAAC,EAAD,OACrBA,EADqB,CAEzBrB,KAAM,EAAKH,MAAMM,GACjBF,MAAO,EAAKJ,MAAMI,MAClBqB,IAAK,WAAaD,EAAKlB,e,GAlBNQ,a,+gCC0CZY,E,gCA5Cb,WAAY1B,GAAM,0BAChB,cAAMA,IACD2B,MAAQ,CACXC,cAAe,IAEjBhC,OAAOiC,aAAP,OACAjC,OAAOkC,oBAAP,QANgB,E,qDAYDC,EAAWC,GAC1B,GAAIA,EAAJ,CAGA,IAAIC,GAAe,EACfL,EAAgB,IAAI7B,KAAK4B,MAAMC,eACnCA,EAAcM,SAAQ,SAAAC,GACjBA,EAAaJ,YAAcA,IAC5BE,GAAe,EACfE,EAAaH,OAASA,MAGtBC,GACFL,EAAcQ,KAAK,CACjBL,YACAC,WAGJjC,KAAKsC,SAAL,OACKtC,KAAK4B,OADV,IAEEC,sB,+BAIF,OAAO,yBAAKrB,UAAU,oBACnBR,KAAK4B,MAAMC,cAAcL,KAAI,SAAAY,GAC5B,OAAM,2BAAOG,iBAAgBH,EAAaJ,UAAWN,IAAKU,EAAaJ,WAAYI,EAAaH,gB,GAvCnFlB,a,4aCSfyB,E,qIAEF,OAAO,yBAAKhC,UAAU,qBACpB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACGR,KAAKC,MAAMwC,OAAOjB,KAAI,SAAAkB,GAAK,OAAE,kBAAC,IAAD,CAAOhB,IAAKgB,EAAMnC,GAAIoC,KAAMD,EAAMC,KAAMC,OAAK,GACzE,kBAAC,EAAiBF,SAIxB,kBAAC,EAAD,W,GAVmB3B,aAqBV8B,ICDXC,EDCWD,eANf,SAAyBjB,GACvB,MAAO,CACLa,OAAQb,EAAMmB,UAAUN,UAIbI,CAAyBL,G,waCCtCM,E,gCAzBA,WAAY7C,GAAM,yBAChB,cAAMA,GACNJ,OAAOmD,SAAP,OACA,EAAKC,eACL,EAAKC,YAJW,E,mDAMJ,WACZ,OLdK,8BKciBC,MAAK,SAAAC,GACzB,EAAKC,UAAYD,EAAG,a,kCAGb,WACT,OLfK,8BKecD,MAAK,SAAAC,GACtB,EAAKX,OAASW,EAAG,a,+BAInB,OAAO,kBAAC,IAAD,CAAUE,MAAOC,KACtB,kBAAC,EAAD,W,GAnBiBxC,aA+BR+B,a,gCCtCf,oEAAO,IAAMU,EAAoB,oBAE1B,SAASC,EAAgBhB,GAC9B,MAAO,CACLiB,KAAMF,EACNf,Y,oDCHEkB,EAAe,CACnBlB,OAAQ,ICCKmB,kBAAgB,CAC7Bb,UDCK,SAA0BnB,EAAOiC,GAEtC,OADAjC,EAAQA,GAAS+B,EACTE,EAAOH,MACb,KAAKF,IACH5B,EAAQ,CACNa,OAAQoB,EAAOpB,QAIrB,OAAOb,KEZL2B,EAAWO,YAAYC,GAEZR","file":"16471dfbf79c49ee9752.bundle.js","sourcesContent":["export function getTemplates() {\r\n  return import('./classes/Templates.js');\r\n\r\n}\r\nexport function getRoutes() {\r\n  return import('./classes/Routes.js');\r\n}\r\n/**\r\n * @return {IconsManager}\r\n * */\r\nexport function iconsManager() {\r\n    return window.iconsManager;\r\n}\r\n\r\n/**\r\n * Устанавливаент заголовок страницы на фронтенде\r\n * @param {string} title\r\n */\r\nexport function setTitle(title){\r\n  let titleElement = document.title;\r\n  if(!defaultTitle){\r\n    defaultTitle = titleElement.innerHTML;\r\n  }\r\n  if(! title){\r\n    title = defaultTitle;\r\n  }\r\n  if(document.title !== title){\r\n    document.title = title;\r\n  }\r\n}\r\n\r\n/**\r\n * Переменная, в которой храниться измначальный заголовок\r\n * @var {string}\r\n */\r\nlet defaultTitle;","import React, {Component} from \"react\";\r\n\r\nclass AreaComponent extends Component {\r\n    render(){\r\n      let rootElement  = window.frontElementsFabric.parseData(this.props.template.data, null, this.props.page, this.props.model);\r\n      let classes = [`app-area`, `app-area_${this.props.id}`];\r\n      return <div className={classes.join(' ')}>{\r\n        React.createElement(rootElement.componentClass,\r\n            {\r\n              element: rootElement,\r\n              children: rootElement.children\r\n            })\r\n      }</div>\r\n    }\r\n}\r\n\r\nexport default AreaComponent","import React, {Component} from \"react\";\r\nimport AreaComponent from \"./AreaComponent\";\r\nimport {setTitle} from \"../helpers\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nclass RouteContent extends Component {\r\n  componentDidMount(){\r\n    setTitle(this.props.title);\r\n  }\r\n  render(){\r\n    return (\r\n    <Scrollbars\r\n      style={{zIndex: 99999}}\r\n      // autoHide\r\n      // autoHideTimeout={500}\r\n      // autoHideDuration={200}\r\n    >\r\n\r\n    <div className=\"route-content\">{\r\n      this.props.areas.map(area => <AreaComponent\r\n          {...area}\r\n          page={this.props.id}\r\n          model={this.props.model}\r\n          key={'appArea_' + area.id}/>)\r\n    }</div>\r\n    </Scrollbars>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RouteContent","import React, {Component} from \"react\";\r\n\r\nclass Styles extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      elementStyles: []\r\n    };\r\n    window.stylesModule = this;\r\n    window.stylesModuleResolve(this);\r\n  }\r\n  /**\r\n   * @param {string} elementId\r\n   * @param {string} styles\r\n   * */\r\n  addElementStyles(elementId, styles){\r\n    if(!styles){\r\n      return\r\n    }\r\n    let elementFound = false;\r\n    let elementStyles = [...this.state.elementStyles];\r\n    elementStyles.forEach(elementStyle=>{\r\n      if(elementStyle.elementId === elementId){\r\n        elementFound = true;\r\n        elementStyle.styles = styles;\r\n      }\r\n    });\r\n    if(!elementFound){\r\n      elementStyles.push({\r\n        elementId,\r\n        styles,\r\n      })\r\n    }\r\n    this.setState({\r\n      ...this.state,\r\n      elementStyles\r\n    })\r\n  }\r\n  render(){\r\n    return <div className=\"styles-container\">\r\n      {this.state.elementStyles.map(elementStyle => {\r\n        return<style data-styles-id={elementStyle.elementId} key={elementStyle.elementId}>{elementStyle.styles}</style>\r\n      })}\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Styles","import React, {Component} from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport RouteContent from \"./RouteContent\";\r\nimport Styles from \"../../../../editor/src/js/components/Styles\";\r\n\r\nclass AppContent extends Component {\r\n  render(){\r\n    return <div className=\"front-app-content\">\r\n      <Router>\r\n        <Switch>\r\n          {this.props.routes.map(route=><Route key={route.id} path={route.path} exact>\r\n            <RouteContent {...route}/>\r\n          </Route>)}\r\n        </Switch>\r\n      </Router>\r\n      <Styles/>\r\n    </div>;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    routes: state.appRoutes.routes\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AppContent);\r\n","import React, {Component} from \"react\";\r\nimport {hot} from \"react-hot-loader\";\r\nimport {getRoutes, getTemplates} from \"./js/helpers\";\r\nimport appStore from \"./js/store/store\";\r\nimport AppContent from \"./js/components/AppContent\";\r\nimport {Provider} from 'react-redux'\r\n\r\nclass FrontApp extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    window.frontApp = this;\r\n    this.getTemplates();\r\n    this.getRoutes();\r\n  }\r\n  getTemplates(){\r\n    return getTemplates().then(res => {\r\n      this.templates = res.default\r\n    });\r\n  }\r\n  getRoutes(){\r\n    return getRoutes().then(res => {\r\n      this.routes = res.default;\r\n    });\r\n  }\r\n  render(){\r\n    return <Provider store={appStore}>\r\n      <AppContent/>\r\n    </Provider>;\r\n  }\r\n}\r\n\r\nlet _export;\r\nif (process.env.NODE_ENV === 'production') {\r\n  _export = FrontApp;\r\n} else {\r\n  _export = hot(module)(FrontApp);\r\n}\r\n\r\nexport default _export;\r\n","export const CHANGE_APP_ROUTES = 'CHANGE_APP_ROUTES';\r\n\r\nexport function changeAppRoutes(routes) {\r\n  return {\r\n    type: CHANGE_APP_ROUTES,\r\n    routes\r\n  };\r\n}\r\n\r\n","import {CHANGE_APP_ROUTES} from './actions'\r\n\r\nconst defaultState = {\r\n  routes: [],\r\n};\r\n\r\nexport function appRoutesReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type) {\r\n    case CHANGE_APP_ROUTES:{\r\n      state = {\r\n        routes: action.routes,\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}","import {combineReducers} from 'redux';\r\nimport {appRoutesReducer} from \"./routes/reducers\";\r\n\r\n\r\nexport default combineReducers({\r\n  appRoutes: appRoutesReducer,\r\n});\r\n","import {createStore} from 'redux';\r\nimport rootReducer from './reducers'\r\n\r\nlet appStore = createStore(rootReducer);\r\n\r\nexport default appStore;"],"sourceRoot":""}