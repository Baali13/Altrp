(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{304:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(10),l=a.n(c),i=a(12),s=a.n(i),u=a(46),o=a.n(u),m=a(137),d=a(32),h=a.n(d),f=function(){return n.a.createElement("div",{className:"spinner-container"},n.a.createElement("div",{className:"spinner-border",style:{width:"3rem",height:"3rem"},role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")))},p=function(){return n.a.createElement("div",{className:"spinner-container"},n.a.createElement("div",{className:"spinner-container__text"},"Нет данных"))},E=function(e){var t=e.dataUrl,a=e.width,c=void 0===a?300:a,i=e.height,u=void 0===i?300:i,d=e.colorScheme,E=Object(r.useState)(!1),v=o()(E,2),y=v[0],S=v[1],w=Object(r.useState)([]),g=o()(w,2),b=g[0],A=g[1],k=function(){var e=s()(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,h()(t);case 3:200===(a=e.sent).status&&"string"!=typeof a.data&&(A(a.data),S(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){k(t)}),[t]),y?n.a.createElement(f,null):Array.isArray(b)&&0!==b.length?n.a.createElement(m.BarChart,{height:u,width:c,data:b,series:n.a.createElement(m.BarSeries,{colorScheme:d})}):n.a.createElement(p,null)},v=function(e){var t=e.dataUrl,a=e.width,c=void 0===a?300:a,i=e.height,u=void 0===i?300:i,d=e.colorScheme,E=e.options,v=void 0===E?{explode:!1}:E,y=Object(r.useState)(!1),S=o()(y,2),w=S[0],g=S[1],b=Object(r.useState)([]),A=o()(b,2),k=A[0],O=A[1],j=function(){var e=s()(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,h()(t);case 3:200===(a=e.sent).status&&"string"!=typeof a.data&&(O(a.data),g(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){j(t)}),[t]),w?n.a.createElement(f,null):Array.isArray(k)&&0!==k.length?n.a.createElement(m.PieChart,{height:u,width:c,data:k||[],series:n.a.createElement(m.PieArcSeries,{explode:v.explode,colorScheme:d})}):n.a.createElement(p,null)},y=function(e){var t=e.dataUrl,a=e.width,c=void 0===a?300:a,i=e.height,u=void 0===i?300:i,d=e.colorScheme,E=(e.options,Object(r.useState)([])),v=o()(E,2),y=v[0],S=v[1],w=Object(r.useState)(!1),g=o()(w,2),b=g[0],A=g[1],k=function(){var e=s()(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,h()(t);case 3:200===(a=e.sent).status&&"string"!=typeof a.data&&(r=a.data.map((function(e){var t=new Date(e.key);if(t)return{key:t,data:e.data}})),S(r),A(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){k(t)}),[t]),b?n.a.createElement(f,null):Array.isArray(y)&&0!==y.length?n.a.createElement(m.AreaChart,{height:u,width:c,data:y,colorScheme:d}):n.a.createElement(p,null)},S=function(e){var t=e.dataUrl,a=e.width,c=void 0===a?300:a,i=e.height,u=void 0===i?300:i,d=e.strokeWidth,E=void 0===d?3:d,v=e.colorScheme,y=Object(r.useState)(!1),S=o()(y,2),w=S[0],g=S[1],b=Object(r.useState)([]),A=o()(b,2),k=A[0],O=A[1],j=function(){var e=s()(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,h()(t);case 3:200===(a=e.sent).status&&"string"!=typeof a.data&&(r=a.data.map((function(e){var t=new Date(e.key);if(t)return{key:t,data:e.data}})),O(r),g(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){j(t)}),[t]),w?n.a.createElement(f,null):Array.isArray(k)&&0!==k.length?n.a.createElement(m.LineChart,{height:u,width:c,data:k,series:n.a.createElement(m.LineSeries,{line:n.a.createElement(m.Line,{strokeWidth:E}),colorScheme:v})}):n.a.createElement(p,null)},w=function(e){var t=e.dataUrl,a=e.options,c=void 0===a?{}:a,i=Object(r.useState)([]),u=o()(i,2),m=u[0],d=u[1],E=Object(r.useState)(!1),v=o()(E,2),y=v[0],S=v[1],w=function(){var e=s()(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,h()(t);case 3:200===(a=e.sent).status&&"string"!=typeof a.data&&(d(a.data),S(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){w(t)}),[t]),y?n.a.createElement(f,null):Array.isArray(m)&&0!==m.length?c.isVertical?n.a.createElement("div",{className:"widget-table"},n.a.createElement("table",{className:"vertical-table"},n.a.createElement("tbody",null,m.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.key),n.a.createElement("td",null,e.data))}))))):n.a.createElement("div",{className:"widget-table"},n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,m.map((function(e,t){return n.a.createElement("th",{key:t},e.key)})))),n.a.createElement("tbody",null,n.a.createElement("tr",null,m.map((function(e,t){return n.a.createElement("td",{key:t},e.data)})))))):n.a.createElement(p,null)},g=function(e){var t=e.dataUrl,a=e.width,c=void 0===a?300:a,i=e.height,u=void 0===i?300:i,d=e.colorScheme,E=Object(r.useState)([]),v=o()(E,2),y=v[0],S=v[1],w=Object(r.useState)(!1),g=o()(w,2),b=g[0],A=g[1],k=function(){var e=s()(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,h()(t);case 3:200===(a=e.sent).status&&"string"!=typeof a.data&&(S(a.data),A(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){k(t)}),[t]),b?n.a.createElement(f,null):Array.isArray(y)&&0!==y.length?n.a.createElement(m.PieChart,{height:u,width:c,data:y,series:n.a.createElement(m.PieArcSeries,{doughnut:!0,colorScheme:d})}):n.a.createElement(p,null)};t.default=function(e){var t,a,r=e.settings,c=null===(t=r.query)||void 0===t||null===(a=t.dataSource)||void 0===a?void 0:a.value;if(!c)return n.a.createElement("div",{className:"altrp-chart"},"Choose data for chart");switch(r.type){case"CHART/BAR":return n.a.createElement("div",{className:"altrp-chart"},n.a.createElement(E,{dataUrl:c,colorScheme:r.colorScheme}));case"CHART/PIE":return n.a.createElement("div",{className:"altrp-chart"},n.a.createElement(v,{dataUrl:c,colorScheme:r.colorScheme}));case"CHART/DONUT":return n.a.createElement("div",{className:"altrp-chart"},n.a.createElement(g,{dataUrl:c,colorScheme:r.colorScheme}));case"CHART/LINE":return n.a.createElement("div",{className:"altrp-chart"},n.a.createElement(S,{dataUrl:c,colorScheme:r.colorScheme}));case"CHART/TABLE":return n.a.createElement("div",{className:"altrp-chart"},n.a.createElement(w,{dataUrl:c}));case"CHART/AREA":return n.a.createElement("div",{className:"altrp-chart"},n.a.createElement(y,{dataUrl:c,colorScheme:r.colorScheme}));default:return n.a.createElement(n.a.Fragment,null)}}}}]);
//# sourceMappingURL=577a4e86d26684062f1a.bundle.js.map