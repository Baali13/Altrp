(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{398:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.text;return r.a.createElement("div",{className:"spinner-container"},r.a.createElement("div",{className:"spinner-container__text"},t||"Нет данных"))}},399:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(9),r=a.n(n),c=a(12),i=a.n(c),l=a(56),s=a.n(l),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,a,n){return[t,0===n?"?":"&",a=encodeURIComponent(a),"=",encodeURIComponent(e[a])].join("")}),"")},u=function(){var e=i()(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o(a),e.prev=1,e.next=4,s()(t+n);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{status:500});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}()},403:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(){return r.a.createElement("div",{className:"spinner-container"},r.a.createElement("div",{className:"spinner-border",style:{width:"3rem",height:"3rem"},role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}},446:function(e,t,a){"use strict";var n=a(9),r=a.n(n),c=a(12),i=a.n(c),l=a(22),s=a.n(l),o=a(0),u=a.n(o),d=a(402),m=a(403),h=a(398),f=a(399),p=a(104);t.a=function(e){var t,a=e.widget,n=e.width,c=void 0===n?300:n,l=e.height,E=void 0===l?300:l,v=Object(o.useState)(!1),g=s()(v,2),b=g[0],w=g[1],y=Object(o.useState)([]),k=s()(y,2),O=k[0],S=k[1],j=Object(o.useCallback)(i()(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,Object(f.a)(a.source,a.filter);case 3:200===(t=e.sent).status&&(S(t.data.data),w(!1));case 5:case"end":return e.stop()}}),e)}))),[a]);if(Object(o.useEffect)((function(){j()}),[j]),b)return u.a.createElement(m.a,null);if(0===O.length)return u.a.createElement(h.a,null);var x=O.map((function(e,t){return u.a.createElement(d.DiscreteLegendEntry,{key:t,className:"discrete__legend-item",label:"".concat(e.key," (").concat(e.data,")"),color:p.g[t]||"#606060"})}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(d.BarChart,{height:E,width:c,data:O,series:u.a.createElement(d.BarSeries,{colorScheme:"Custom"===a.options.colorScheme?p.g:a.options.colorScheme,bar:u.a.createElement(d.Bar,{gradient:u.a.createElement(d.Gradient,{stops:[u.a.createElement(d.GradientStop,{stopOpacity:1})]})}),animated:a.options.animated})}),(null===(t=a.options)||void 0===t?void 0:t.legend)&&u.a.createElement(d.DiscreteLegend,{className:"discrete__legend",orientation:a.options.legend,entries:x}))}},459:function(e,t,a){"use strict";var n=a(9),r=a.n(n),c=a(12),i=a.n(c),l=a(22),s=a.n(l),o=a(0),u=a.n(o),d=a(402),m=a(403),h=a(398),f=a(399),p=a(104);t.a=function(e){var t,a=e.widget,n=e.width,c=void 0===n?300:n,l=e.height,E=void 0===l?300:l,v=Object(o.useState)(!1),g=s()(v,2),b=g[0],w=g[1],y=Object(o.useState)([]),k=s()(y,2),O=k[0],S=k[1],j=Object(o.useCallback)(i()(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,Object(f.a)(a.source,a.filter);case 3:200===(t=e.sent).status&&(S(t.data.data||[]),w(!1));case 5:case"end":return e.stop()}}),e)}))),[a]);if(Object(o.useEffect)((function(){j()}),[j]),b)return u.a.createElement(m.a,null);if(!O||0===O.length)return u.a.createElement(h.a,null);var x=O.map((function(e,t){return u.a.createElement(d.DiscreteLegendEntry,{key:t,className:"discrete__legend-item",label:"".concat(e.key," (").concat(e.data,")"),color:p.g[t]||"#606060"})}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(d.PieChart,{height:E,width:c,data:O||[],series:u.a.createElement(d.PieArcSeries,{animated:a.options.animated,explode:a.options.explode,colorScheme:"Custom"===a.options.colorScheme?p.g:a.options.colorScheme,label:u.a.createElement(d.PieArcLabel,{fontSize:12,fontFill:"#000000"})})}),(null===(t=a.options)||void 0===t?void 0:t.legend)&&u.a.createElement(d.DiscreteLegend,{className:"discrete__legend",orientation:a.options.legend,entries:x}))}},460:function(e,t,a){"use strict";var n=a(9),r=a.n(n),c=a(12),i=a.n(c),l=a(22),s=a.n(l),o=a(0),u=a.n(o),d=a(402),m=a(435),h=a(438),f=a(437),p=a(403),E=a(398),v=a(399),g=a(104);t.a=function(e){var t=e.widget,a=e.width,n=void 0===a?300:a,c=e.height,l=void 0===c?300:c,b=e.strokeWidth,w=void 0===b?3:b,y=Object(o.useState)(!1),k=s()(y,2),O=k[0],S=k[1],j=Object(o.useState)([]),x=s()(j,2),L=x[0],N=x[1],C=Object(o.useCallback)(i()(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,Object(v.a)(t.source,t.filter);case 3:200===(a=e.sent).status&&(n=a.data.data.map((function(e){var t=new Date(e.key);if(t)return{key:t,data:e.data}})),N(n),S(!1));case 5:case"end":return e.stop()}}),e)}))),[t]);return Object(o.useEffect)((function(){C()}),[C]),O?u.a.createElement(p.a,null):0===L.length?u.a.createElement(E.a,null):u.a.createElement(u.a.Fragment,null,u.a.createElement(d.LineChart,{height:l,width:n,data:L,xAxis:u.a.createElement(d.LinearXAxis,{type:"time",tickSeries:u.a.createElement(d.LinearXAxisTickSeries,{label:u.a.createElement(d.LinearXAxisTickLabel,{format:function(e){var t=L.slice().shift(),a=L.slice().pop(),n=parseInt(Object(h.a)(t.key,a.key,{unit:"month"}));return n>=0&&n<=12?Object(m.a)(e,"d MMM",{locale:f.a}):Object(m.a)(e,"d MMM yy",{locale:f.a})}})})}),series:u.a.createElement(d.LineSeries,{animated:t.options.animated,line:u.a.createElement(d.Line,{strokeWidth:w}),colorScheme:"Custom"===t.options.colorScheme?g.g:t.options.colorScheme})}))}},461:function(e,t,a){"use strict";var n=a(9),r=a.n(n),c=a(12),i=a.n(c),l=a(22),s=a.n(l),o=a(0),u=a.n(o),d=a(403),m=a(398),h=a(399),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc";return function(a,n){if(!a.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var r="string"==typeof a[e]?a[e].toUpperCase():a[e],c="string"==typeof n[e]?n[e].toUpperCase():n[e],i=0;return r>c?i=1:r<c&&(i=-1),"desc"===t?-1*i:i}};t.a=function(e){var t=e.widget,a=e.width,n=Object(o.useState)([]),c=s()(n,2),l=c[0],p=c[1],E=Object(o.useState)(!1),v=s()(E,2),g=v[0],b=v[1],w=Object(o.useCallback)(i()(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,Object(h.a)(t.source,t.filter);case 3:200===(a=e.sent).status&&(p(a.data.data.sort(f("data"))),b(!1));case 5:case"end":return e.stop()}}),e)}))),[t]),y=Object(o.useMemo)((function(){return l.reduce((function(e,t){return e+t.data}),0)}),[l]);return Object(o.useEffect)((function(){w()}),[w]),g?u.a.createElement(d.a,null):0===l.length?u.a.createElement(m.a,null):t.options.isVertical?u.a.createElement("div",{className:"widget-table",style:{width:a+"px"}},u.a.createElement("table",{className:"vertical-table"},u.a.createElement("tbody",null,l.map((function(e,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null,e.key),u.a.createElement("td",null,e.data))})),u.a.createElement("tr",null,u.a.createElement("td",null,"ИТОГО"),u.a.createElement("td",null,y))))):u.a.createElement("div",{className:"widget-table",style:{width:a+"px"}},u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,l.map((function(e,t){return u.a.createElement("th",{key:t},e.key)})),u.a.createElement("th",null,"ИТОГО"))),u.a.createElement("tbody",null,u.a.createElement("tr",null,l.map((function(e,t){return u.a.createElement("td",{key:t},e.data)})),u.a.createElement("td",null,y)))))}},462:function(e,t,a){"use strict";var n=a(9),r=a.n(n),c=a(12),i=a.n(c),l=a(22),s=a.n(l),o=a(0),u=a.n(o),d=a(402),m=a(403),h=a(398),f=a(399),p=a(104);t.a=function(e){var t,a=e.widget,n=e.width,c=void 0===n?300:n,l=e.height,E=void 0===l?300:l,v=Object(o.useState)([]),g=s()(v,2),b=g[0],w=g[1],y=Object(o.useState)(!1),k=s()(y,2),O=k[0],S=k[1],j=Object(o.useCallback)(i()(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,Object(f.a)(a.source,a.filter);case 3:200===(t=e.sent).status&&(w(t.data.data),S(!1));case 5:case"end":return e.stop()}}),e)}))),[a]);if(Object(o.useEffect)((function(){j()}),[j]),O)return u.a.createElement(m.a,null);if(0===b.length)return u.a.createElement(h.a,null);var x=b.map((function(e,t){return u.a.createElement(d.DiscreteLegendEntry,{key:t,className:"discrete__legend-item",label:"".concat(e.key," (").concat(e.data,")"),color:p.g[t]||"#606060"})}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(d.PieChart,{height:E,width:c,data:b,series:u.a.createElement(d.PieArcSeries,{animated:a.options.animated,doughnut:!0,colorScheme:"Custom"===a.options.colorScheme?p.g:a.options.colorScheme,label:u.a.createElement(d.PieArcLabel,{fontSize:12,fontFill:"#000000"})})}),(null===(t=a.options)||void 0===t?void 0:t.legend)&&u.a.createElement(d.DiscreteLegend,{className:"discrete__legend",orientation:a.options.legend,entries:x}))}},467:function(e,t,a){"use strict";var n=a(9),r=a.n(n),c=a(12),i=a.n(c),l=a(22),s=a.n(l),o=a(0),u=a.n(o),d=a(402),m=a(435),h=a(438),f=a(437),p=function(){return u.a.createElement("div",{className:"spinner-container"},u.a.createElement("div",{className:"spinner-border",style:{width:"3rem",height:"3rem"},role:"status"},u.a.createElement("span",{className:"sr-only"},"Loading...")))},E=a(398),v=a(399);t.a=function(e){var t=e.widget,a=e.width,n=void 0===a?300:a,c=e.height,l=void 0===c?300:c,g=e.color,b=void 0===g?"#FFD51F":g,w=Object(o.useState)([]),y=s()(w,2),k=y[0],O=y[1],S=Object(o.useState)(!1),j=s()(S,2),x=j[0],L=j[1],N=Object(o.useCallback)(i()(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,Object(v.a)(t.source,t.filter);case 3:200===(a=e.sent).status&&"string"!=typeof a.data&&(n=a.data.data.map((function(e){var t=new Date(e.key);if(t)return{key:t,data:e.data}})),O(n),L(!1));case 5:case"end":return e.stop()}}),e)}))),[t]);return Object(o.useEffect)((function(){N()}),[N]),x?u.a.createElement(p,null):Array.isArray(k)&&0!==k.length?u.a.createElement(u.a.Fragment,null,u.a.createElement(d.AreaChart,{height:l,width:n,data:k,xAxis:u.a.createElement(d.LinearXAxis,{type:"time",tickSeries:u.a.createElement(d.LinearXAxisTickSeries,{label:u.a.createElement(d.LinearXAxisTickLabel,{format:function(e){var t=k.slice().shift(),a=k.slice().pop(),n=parseInt(Object(h.a)(t.key,a.key,{unit:"month"}));return n>=0&&n<=12?Object(m.a)(e,"d LLL",{locale:f.a}):Object(m.a)(e,"d MMM yy",{locale:f.a})}})})}),series:u.a.createElement(d.AreaSeries,{animated:t.options.animated,type:t.options.type||"standard",markLine:u.a.createElement(d.MarkLine,{strokeWidth:0}),line:u.a.createElement(d.Line,{strokeWidth:0}),area:u.a.createElement(d.Area,{gradient:u.a.createElement(d.Gradient,{color:b,stops:[u.a.createElement(d.GradientStop,{color:b})]})})})})):u.a.createElement(E.a,null)}},603:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(446),i=a(459),l=a(467),s=a(460),o=a(461),u=a(462),d=a(104);t.default=function(e){var t,a,n,m,h,f,p,E,v=e.settings,g=null===(t=v.query)||void 0===t||null===(a=t.dataSource)||void 0===a?void 0:a.value;if(!g)return r.a.createElement("div",{className:"altrp-chart"},"Choose data for chart");console.log("settings :>> ",v);var b={source:g,options:{colorScheme:v.colorScheme,legend:"",animated:v.animated,isVertical:v.isVertical},filter:{}};switch(v.type){case d.b:return r.a.createElement("div",{className:"altrp-chart"},r.a.createElement(c.a,{widget:b,width:null===(n=v.width)||void 0===n?void 0:n.size}));case d.e:return r.a.createElement("div",{className:"altrp-chart"},r.a.createElement(i.a,{widget:b,width:null===(m=v.width)||void 0===m?void 0:m.size}));case d.c:return r.a.createElement("div",{className:"altrp-chart"},r.a.createElement(u.a,{widget:b,width:null===(h=v.width)||void 0===h?void 0:h.size}));case d.d:return r.a.createElement("div",{className:"altrp-chart"},r.a.createElement(s.a,{widget:b,width:null===(f=v.width)||void 0===f?void 0:f.size}));case d.f:return r.a.createElement("div",{className:"altrp-chart"},r.a.createElement(o.a,{widget:b,width:null===(p=v.width)||void 0===p?void 0:p.size}));case d.a:return r.a.createElement("div",{className:"altrp-chart"},r.a.createElement(l.a,{widget:b,width:null===(E=v.width)||void 0===E?void 0:E.size}));default:return r.a.createElement(r.a.Fragment,null)}}}}]);
//# sourceMappingURL=9ba2a9233633a9432bb3.bundle.js.map