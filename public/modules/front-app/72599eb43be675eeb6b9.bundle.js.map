{"version":3,"sources":["webpack:///./resources/modules/front-app/src/js/components/AreaComponent.js","webpack:///./resources/modules/front-app/src/js/components/RouteContent.js","webpack:///./resources/modules/editor/src/js/components/Styles.js","webpack:///./resources/modules/front-app/src/js/components/AppContent.js","webpack:///./resources/modules/front-app/src/FrontApp.js","webpack:///./resources/modules/front-app/src/js/store/routes/actions.js","webpack:///./resources/modules/front-app/src/js/store/routes/reducers.js","webpack:///./resources/modules/front-app/src/js/store/reducers.js","webpack:///./resources/modules/front-app/src/js/store/store.js"],"names":["AreaComponent","classes","this","props","id","template","data","className","join","rootElement","window","frontElementsFabric","parseData","page","models","React","createElement","componentClass","element","children","Component","RouteContent","setTitle","title","style","zIndex","autoHide","autoHideTimeout","autoHideDuration","renderTrackVertical","areas","map","area","key","Styles","state","elementStyles","stylesModule","stylesModuleResolve","elementId","styles","elementFound","forEach","elementStyle","push","setState","data-styles-id","AppContent","routes","route","path","exact","connect","_export","appRoutes","frontApp","getRoutes","then","res","store","appStore","CHANGE_APP_ROUTES","changeAppRoutes","type","defaultState","combineReducers","action","createStore","rootReducer"],"mappings":"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","file":"72599eb43be675eeb6b9.bundle.js","sourcesContent":["import React, {Component} from \"react\";\r\n\r\nclass AreaComponent extends Component {\r\n    render(){\r\n      /**\r\n       * Если шаблон привязанный к странице удалили, то ничего не отрисовываем\r\n       */\r\n      let classes = [`app-area`, `app-area_${this.props.id}`];\r\n      if(! this.props.template.data){\r\n        return<div className={classes.join(' ')}/>;\r\n      }\r\n      let rootElement  = window.frontElementsFabric.parseData(this.props.template.data, null, this.props.page, this.props.models);\r\n      return <div className={classes.join(' ')}>{\r\n        React.createElement(rootElement.componentClass,\r\n            {\r\n              element: rootElement,\r\n              children: rootElement.children\r\n            })\r\n      }</div>\r\n    }\r\n}\r\n\r\nexport default AreaComponent","import React, {Component} from \"react\";\r\nimport AreaComponent from \"./AreaComponent\";\r\nimport {setTitle} from \"../helpers\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nclass RouteContent extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    setTitle(this.props.title);\r\n  }\r\n  componentDidMount(){\r\n    setTitle(this.props.title);\r\n  }\r\n  render(){\r\n    return (\r\n    <Scrollbars\r\n      style={{zIndex: 99999}}\r\n      autoHide\r\n      autoHideTimeout={500}\r\n      autoHideDuration={200}\r\n      renderTrackVertical={({style, ...props})=>{\r\n        return<div className=\"altrp-scroll__vertical-track\" style={style} {...props} />}}\r\n    >\r\n\r\n    <div className=\"route-content\">{\r\n      this.props.areas.map(area => <AreaComponent\r\n          {...area}\r\n          page={this.props.id}\r\n          models={this.props.models}\r\n          key={'appArea_' + area.id}/>)\r\n    }</div>\r\n    </Scrollbars>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RouteContent;","import React, {Component} from \"react\";\r\n\r\nclass Styles extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      elementStyles: []\r\n    };\r\n    window.stylesModule = this;\r\n    window.stylesModuleResolve(this);\r\n  }\r\n  /**\r\n   * @param {string} elementId\r\n   * @param {string} styles\r\n   * */\r\n  addElementStyles(elementId, styles){\r\n    if(!styles){\r\n      return\r\n    }\r\n    let elementFound = false;\r\n    let elementStyles = [...this.state.elementStyles];\r\n    elementStyles.forEach(elementStyle=>{\r\n      if(elementStyle.elementId === elementId){\r\n        elementFound = true;\r\n        elementStyle.styles = styles;\r\n      }\r\n    });\r\n    if(!elementFound){\r\n      elementStyles.push({\r\n        elementId,\r\n        styles,\r\n      })\r\n    }\r\n    this.setState({\r\n      ...this.state,\r\n      elementStyles\r\n    })\r\n  }\r\n  render(){\r\n    return <div className=\"styles-container\">\r\n      {this.state.elementStyles.map(elementStyle => {\r\n        return<style data-styles-id={elementStyle.elementId} key={elementStyle.elementId}>{elementStyle.styles}</style>\r\n      })}\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Styles","import React, {Component} from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport RouteContent from \"./RouteContent\";\r\nimport Styles from \"../../../../editor/src/js/components/Styles\";\r\n\r\nclass AppContent extends Component {\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n  componentDidMount(){\r\n\r\n  }\r\n  render(){\r\n    return <Router >\r\n      <div className=\"front-app-content\">\r\n        <Switch>\r\n          {this.props.routes.map(route=><Route key={route.id}\r\n                                               children={ <RouteContent {...route}/>}\r\n                                               path={route.path}\r\n                                               exact />)}\r\n        </Switch>\r\n      </div>\r\n      <Styles/>\r\n    </Router>\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    routes: state.appRoutes.routes\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AppContent);\r\n","import React, {Component} from \"react\";\r\nimport {hot} from \"react-hot-loader\";\r\nimport {getRoutes} from \"./js/helpers\";\r\nimport appStore from \"./js/store/store\";\r\nimport AppContent from \"./js/components/AppContent\";\r\nimport {Provider} from 'react-redux';\r\n\r\nclass FrontApp extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    window.frontApp = this;\r\n    this.getRoutes();\r\n  }\r\n  getRoutes(){\r\n    return getRoutes().then(res => {\r\n      this.routes = res.default;\r\n    });\r\n  }\r\n  render(){\r\n    return <Provider store={appStore}>\r\n      <AppContent/>\r\n    </Provider>;\r\n  }\r\n}\r\n\r\nlet _export;\r\nif (process.env.NODE_ENV === 'production') {\r\n  _export = FrontApp;\r\n} else {\r\n  _export = hot(module)(FrontApp);\r\n}\r\n\r\nexport default _export;\r\n","export const CHANGE_APP_ROUTES = 'CHANGE_APP_ROUTES';\r\n\r\nexport function changeAppRoutes(routes) {\r\n  return {\r\n    type: CHANGE_APP_ROUTES,\r\n    routes\r\n  };\r\n}\r\n\r\n","import {CHANGE_APP_ROUTES} from './actions'\r\n\r\nconst defaultState = {\r\n  routes: [],\r\n};\r\n\r\nexport function appRoutesReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type) {\r\n    case CHANGE_APP_ROUTES:{\r\n      state = {\r\n        routes: action.routes,\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}","import {combineReducers} from 'redux';\r\nimport {appRoutesReducer} from \"./routes/reducers\";\r\n\r\n\r\nexport default combineReducers({\r\n  appRoutes: appRoutesReducer,\r\n});\r\n","import {createStore} from 'redux';\r\nimport rootReducer from './reducers'\r\n\r\nlet appStore = createStore(rootReducer);\r\n\r\nexport default appStore;"],"sourceRoot":""}