{"version":3,"sources":["webpack:///./resources/modules/admin/src/components/AdvancedSettings.js"],"names":["MediaInput","React","lazy","AdvancedSettings","props","deleteAllTemplatesReviews","e","a","confirm","store","dispatch","setAdminDisable","Resource","route","success","alert","setAdminEnable","value","put","JSON","stringify","console","log","this","setAdminLogo","className","width","htmlFor","fallback","onChange","changeAdminLogo","adminLogo","onClick","Component","connect","state"],"mappings":"0rBAOA,IAAMA,EAAaC,IAAMC,MAAK,kBAAM,iCAE9BC,E,kCACJ,WAAYC,GAAM,0BAChB,cAAMA,IAYRC,0BAbkB,+BAaU,WAAOC,GAAP,SAAAC,EAAA,sEACNC,QAAQ,gBADF,yEAK1BC,IAAMC,SAASC,eALW,SAMV,IAAIC,IAAS,CAACC,MAAM,wBAApB,SANU,kBAOnBC,QAPmB,kCAQlBC,MAAM,WARY,QAU1BN,IAAMC,SAASM,eAVW,4CAbV,wD,uEAGIC,G,iFACd,IAAIL,IAAS,CAACC,MAAM,yBAAyBK,IAAI,aAAc,CAACD,MAAOE,KAAKC,UAAUH,K,OAC5FI,QAAQC,IAAIL,GACZM,KAAKb,SAASc,YAAaP,I,6HAoB3B,OAAO,yBAAKQ,UAAU,yBACpB,+BACE,2BAAOA,UAAU,4BACjB,wBAAIA,UAAU,4BACZ,wBAAIA,UAAU,oCAAoCC,MAAM,OACtD,2BAAOC,QAAQ,4BAAf,gBAIF,wBAAIF,UAAU,4BACZ,kBAAC,WAAD,CAAUG,SAAU,WAClB,kBAAC5B,EAAD,CAAY6B,SAAUN,KAAKO,gBAAiBb,MAAOM,KAAKnB,MAAM2B,eAIpE,wBAAIN,UAAU,4BACZ,wBAAIA,UAAU,oCAAoCC,MAAM,OAAxD,+BAGA,wBAAID,UAAU,4BACZ,4BAAQA,UAAU,kBACVO,QAAST,KAAKlB,2BADtB,kB,GA/CmB4B,aA4EhBC,uBANf,SAAyBC,GACvB,MAAO,CACLJ,UAAWI,EAAMJ,aAING,CAAyB/B","file":"d1bf9cae1ed1ced58453.bundle.js","sourcesContent":["import React, {Component, Suspense} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {setAdminLogo} from \"../js/store/admin-logo/actions\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport {setAdminDisable, setAdminEnable} from \"../js/store/admin-state/actions\";\r\nimport store from '../js/store/store';\r\n\r\nconst MediaInput = React.lazy(() => import('./media-input/MediaInput.js'));\r\n\r\nclass AdvancedSettings extends Component {\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n  async changeAdminLogo(value){\r\n    await new Resource({route:'/admin/ajax/settings'}).put('admin_logo', {value: JSON.stringify(value)});\r\n    console.log(value);\r\n    this.dispatch(setAdminLogo(value));\r\n  }\r\n\r\n  /**\r\n   * Удалить всю историю всех шаблонов\r\n   * @param e\r\n   */\r\n  deleteAllTemplatesReviews = async (e) =>{\r\n    let result  = await confirm('Are You Sure');\r\n    if(! result){\r\n      return;\r\n    }\r\n    store.dispatch(setAdminDisable());\r\n    let res = await new Resource({route:'/admin/ajax/reviews'}).delete();\r\n    if(res.success){\r\n      await alert('success');\r\n    }\r\n    store.dispatch(setAdminEnable());\r\n  };\r\n  render() {\r\n    return <div className=\"admin-styles-settings\">\r\n      <table>\r\n        <tbody className=\"admin-settings-table-row\">\r\n        <tr className=\"admin-settings-table-row\">\r\n          <td className=\"admin-settings-table__td row-text\" width=\"10%\">\r\n            <label htmlFor=\"settings-container-width\">\r\n              Admin Logo:\r\n            </label>\r\n          </td>\r\n          <td className=\"admin-settings-table__td\">\r\n            <Suspense fallback={'Loading'}>\r\n              <MediaInput onChange={this.changeAdminLogo} value={this.props.adminLogo}/>\r\n            </Suspense>\r\n          </td>\r\n        </tr>\r\n        <tr className=\"admin-settings-table-row\">\r\n          <td className=\"admin-settings-table__td row-text\" width=\"10%\">\r\n            Clear All Templates History\r\n          </td>\r\n          <td className=\"admin-settings-table__td\">\r\n            <button className=\"btn btn_success\"\r\n                    onClick={this.deleteAllTemplatesReviews}>\r\n              Clear\r\n            </button>\r\n          </td>\r\n        </tr>\r\n        {/*<tr className=\"admin-settings-table-row\">*/}\r\n          {/*<td className=\"admin-settings-table__td row-text\" width=\"10%\">*/}\r\n            {/*Clear All Templates History*/}\r\n          {/*</td>*/}\r\n          {/*<td className=\"admin-settings-table__td\">*/}\r\n            {/*<button className=\"btn btn_success\"*/}\r\n                    {/*onClick={this.deleteAllTemplatesReviews}>*/}\r\n              {/*Clear*/}\r\n            {/*</button>*/}\r\n          {/*</td>*/}\r\n        {/*</tr>*/}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    adminLogo: state.adminLogo,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AdvancedSettings);"],"sourceRoot":""}