{"version":3,"sources":["webpack:///./resources/modules/admin/src/sass/components/admin-pagination.scss","webpack:///./resources/modules/editor/src/sass/assets-browser.scss","webpack:///./resources/modules/front-app/src/js/store/routes/reducers.js","webpack:///./resources/modules/front-app/src/js/store/forms-data-storage/reducers.js","webpack:///./resources/modules/front-app/src/js/store/reducers.js","webpack:///./resources/modules/front-app/src/js/store/forms-data-storage/actions.js","webpack:///./resources/modules/front-app/src/js/store/store.js","webpack:///./resources/modules/front-app/src/js/store/routes/actions.js","webpack:///./resources/modules/admin/src/svgs/left.svg","webpack:///./resources/modules/editor/src/js/classes/Resource.js","webpack:///./resources/modules/admin/src/js/store/modal-settings/reducers.js","webpack:///./resources/modules/admin/src/js/store/admin-state/reducers.js","webpack:///./resources/modules/admin/src/js/store/admin-logo/reducers.js","webpack:///./resources/modules/admin/src/js/store/ace-editor/reducers.js","webpack:///./resources/modules/admin/src/js/store/reducers.js","webpack:///./resources/modules/admin/src/js/store/store.js","webpack:///./resources/modules/editor/src/js/classes/AltrpUser.js","webpack:///./resources/modules/front-app/src/js/store/current-user/reducers.js","webpack:///./resources/modules/front-app/src/js/store/current-user/actions.js","webpack:///./resources/modules/admin/src/js/store/modal-settings/actions.js","webpack:///./resources/modules/front-app/src/js/store/current-model/reducers.js","webpack:///./resources/modules/front-app/src/js/store/current-model/actions.js","webpack:///./resources/modules/front-app/src/js/store/current-data-storage/reducers.js","webpack:///./resources/modules/front-app/src/js/store/current-data-storage/actions.js","webpack:///./resources/modules/admin/src/sass/admin-style.scss?e3af","webpack:///./resources/modules/admin/src/sass/components/admin-pagination.scss?b53c","webpack:///./resources/modules/editor/src/sass/assets-browser.scss?44cc","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./resources/modules/admin/src/svgs/admin__logo.svg","webpack:///./resources/modules/admin/src/components/AdminLogo.js","webpack:///./resources/modules/admin/src/svgs/bars.svg","webpack:///./resources/modules/admin/src/components/AdminTable.js","webpack:///./resources/modules/admin/src/components/AllPages.js","webpack:///./resources/modules/admin/src/js/helpers.js","webpack:///./resources/modules/admin/src/components/Updates.js","webpack:///./resources/modules/admin/src/components/AutoUpdateInput.js","webpack:///./resources/modules/admin/src/components/StylesSettings.js","webpack:///./resources/modules/admin/src/components/settings/Import.js","webpack:///./resources/modules/admin/src/components/settings/Export.js","webpack:///./resources/modules/admin/src/components/AdminSettings.js","webpack:///./resources/modules/admin/src/svgs/assets.svg","webpack:///./resources/modules/admin/src/svgs/dashboard.svg","webpack:///./resources/modules/admin/src/svgs/pages.svg","webpack:///./resources/modules/admin/src/svgs/plugins.svg","webpack:///./resources/modules/admin/src/svgs/reports.svg","webpack:///./resources/modules/admin/src/svgs/settings.svg","webpack:///./resources/modules/admin/src/svgs/tables.svg","webpack:///./resources/modules/admin/src/svgs/templates.svg","webpack:///./resources/modules/admin/src/svgs/users.svg","webpack:///./resources/modules/admin/src/svgs/vector.svg","webpack:///./resources/modules/admin/src/svgs/user.svg","webpack:///./resources/modules/admin/src/components/users/Users.js","webpack:///./resources/modules/admin/src/components/altrp-select/AltrpSelect.js","webpack:///./resources/modules/admin/src/components/users/UserForm.js","webpack:///./resources/modules/admin/src/components/users/AddUserPage.js","webpack:///./resources/modules/admin/src/components/users/EditUserPage.js","webpack:///./resources/modules/admin/src/components/users/UsersTools.js","webpack:///./resources/modules/admin/src/components/Assets.js","webpack:///./resources/modules/admin/src/components/dashboard/widgetTypes.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/Spinner.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/EmptyWidget.js","webpack:///./resources/modules/admin/src/components/dashboard/services/getWidgetData.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicBarChart.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicPieChart.js","webpack:///./resources/modules/admin/src/components/dashboard/Spinner.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicAreaChart.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicLineChart.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicTableWidget.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicDonutChart.js","webpack:///./resources/modules/admin/src/components/dashboard/WidgetDiagram.js","webpack:///./resources/modules/admin/src/components/dashboard/dataSources.js","webpack:///./resources/modules/admin/src/components/dashboard/EditWidget.js","webpack:///./resources/modules/admin/src/components/dashboard/AddWidget.js","webpack:///./resources/modules/admin/src/components/Dashboard.js","webpack:///./resources/modules/admin/src/components/Plugins.js","webpack:///./resources/modules/admin/src/components/Reports.js","webpack:///./resources/modules/admin/src/components/Tables.js","webpack:///./resources/modules/admin/src/svgs/right.svg","webpack:///./resources/modules/admin/src/components/Pagination.js","webpack:///./resources/modules/admin/src/components/Templates.js","webpack:///./resources/modules/admin/src/svgs/times.svg","webpack:///./resources/modules/admin/src/components/AdminModal.js","webpack:///./resources/modules/admin/src/components/AdminModal2.js","webpack:///./resources/modules/admin/src/components/pages/PageDataSourceForm.js","webpack:///./resources/modules/admin/src/components/AddPage.js","webpack:///./resources/modules/admin/src/svgs/bell.svg","webpack:///./resources/modules/admin/src/svgs/logout.svg","webpack:///./resources/modules/admin/src/components/UserTopPanel.js","webpack:///./resources/modules/editor/src/js/store/current-element/reducers.js","webpack:///./resources/modules/editor/src/js/store/template-status/reducers.js","webpack:///./resources/modules/editor/src/js/store/element-drag/reducers.js","webpack:///./resources/modules/editor/src/js/store/element-drag/actions.js","webpack:///./resources/modules/editor/src/js/store/current-context-element/reducers.js","webpack:///./resources/modules/editor/src/js/store/dynamic-content/reducers.js","webpack:///./resources/modules/editor/src/js/store/controller-value/reducers.js","webpack:///./resources/modules/editor/src/js/store/setting-section/reducers.js","webpack:///./resources/modules/editor/src/js/store/active-settings-tab/reducers.js","webpack:///./resources/modules/editor/src/js/store/state-section/reducers.js","webpack:///./resources/modules/editor/src/js/store/responsive-switcher/reducers.js","webpack:///./resources/modules/editor/src/js/store/template-data/reducers.js","webpack:///./resources/modules/editor/src/js/store/reducers.js","webpack:///./resources/modules/editor/src/js/store/current-element/actions.js","webpack:///./resources/modules/editor/src/js/store/current-context-element/actions.js","webpack:///./resources/modules/editor/src/js/store/template-status/actions.js","webpack:///./resources/modules/editor/src/js/store/dynamic-content/actions.js","webpack:///./resources/modules/editor/src/js/store/controller-value/actions.js","webpack:///./resources/modules/editor/src/js/store/setting-section/actions.js","webpack:///./resources/modules/editor/src/js/store/active-settings-tab/actions.js","webpack:///./resources/modules/editor/src/js/store/state-section/actions.js","webpack:///./resources/modules/editor/src/js/store/responsive-switcher/actions.js","webpack:///./resources/modules/editor/src/js/store/template-data/actions.js","webpack:///./resources/modules/editor/src/js/store/store.js","webpack:///./resources/modules/editor/src/js/classes/modules/AssetsBrowser.js","webpack:///./resources/modules/editor/src/js/helpers.js","webpack:///./resources/modules/admin/src/components/Models.js","webpack:///./resources/modules/admin/src/components/models/EditModelForm.js","webpack:///./resources/modules/admin/src/components/models/EditModel.js","webpack:///./resources/modules/admin/src/components/models/FieldCalculationLogic.js","webpack:///./resources/modules/admin/src/components/models/AddFieldForm.js","webpack:///./resources/modules/admin/src/components/models/EditField.js","webpack:///./resources/modules/admin/src/components/models/AddRelationForm.js","webpack:///./resources/modules/admin/src/components/models/AddRelation.js","webpack:///./resources/modules/admin/src/components/models/AddDataSourceForm.js","webpack:///./resources/modules/admin/src/components/models/AddDataSource.js","webpack:///./resources/modules/admin/src/components/sql-builder/AggregateComponent.js","webpack:///./resources/modules/admin/src/components/sql-builder/JoinComponent.js","webpack:///./resources/modules/admin/src/components/sql-builder/helpers.js","webpack:///./resources/modules/admin/src/components/sql-builder/ConditionComponent.js","webpack:///./resources/modules/admin/src/components/sql-builder/OrderByComponent.js","webpack:///./resources/modules/admin/src/components/sql-builder/SQLBuilderForm.js","webpack:///./resources/modules/admin/src/components/SQLBuilder.js","webpack:///./resources/modules/admin/src/components/models/SqlEditor.js","webpack:///./resources/modules/admin/src/components/AccessOptions.js","webpack:///./resources/modules/admin/src/components/access/RoleForm.js","webpack:///./resources/modules/admin/src/components/access/RolePage.js","webpack:///./resources/modules/admin/src/components/access/PermissionForm.js","webpack:///./resources/modules/admin/src/components/access/PermissionPage.js","webpack:///./resources/modules/admin/src/components/tables/TableForm.js","webpack:///./resources/modules/admin/src/components/tables/AddTable.js","webpack:///./resources/modules/admin/src/components/tables/EditTable.js","webpack:///./resources/modules/admin/src/components/tables/MigrationsTable.js","webpack:///./resources/modules/admin/src/components/tables/AddModelPage.js","webpack:///./resources/modules/admin/src/components/tables/AccessorsPage.js","webpack:///./resources/modules/admin/src/components/tables/AddControllerPage.js","webpack:///./resources/modules/admin/src/components/tables/SettingTable.js","webpack:///./resources/modules/admin/src/components/tables/AddMigrationPage.js","webpack:///./resources/modules/admin/src/components/AdminVersion.js","webpack:///./resources/modules/admin/src/components/SQLEditors.js","webpack:///./resources/modules/admin/src/Admin.js","webpack:///./resources/modules/admin/src/js/store/admin-state/actions.js","webpack:///./resources/modules/editor/src/js/store/assets-browser/actions.js","webpack:///./resources/modules/editor/src/js/classes/AltrpModel.js","webpack:///./resources/modules/admin/src/js/store/admin-logo/actions.js","webpack:///./resources/modules/editor/src/js/store/assets-browser/reducers.js","webpack:///./resources/modules/admin/src/js/store/ace-editor/actions.js","webpack:///./resources/modules/editor/src/js/consts.js","webpack:///./resources/modules/admin/src/sass/admin-style.scss","webpack:///./resources/modules/front-app/src/js/helpers.js"],"names":["escape","module","exports","push","i","defaultState","routes","combineReducers","appRoutes","state","action","type","CHANGE_APP_ROUTES","currentModel","currentModelReducer","formsStore","formId","fieldName","value","_","get","cloneDeep","set","currentUser","currentUserReducer","currentDataStorage","currentDataStorageReducer","appStore","createStore","rootReducer","changeAppRoutes","styles","props","width","height","fill","xmlns","d","stroke","strokeWidth","Resource","data","this","route","id","url","length","fetch","method","headers","then","res","ok","Promise","reject","text","status","json","searchString","indexOf","_token","options","body","JSON","stringify","files","fileType","String","Math","random","slice","formData","FormData","size","console","log","append","params","queryString","fields","active","title","submitButton","submit","success","adminEnable","window","admin_logo","AceEditor","modalSettings","SET_MODAL_SETTINGS","TOGGLE_MODAL","adminState","SET_DISABLED","SET_ENABLE","adminLogo","SET_LOGO","logoData","assetsManagerSettings","assetsSettingsReducer","aceEditorReducer","SET_ACE","store","AltrpUser","getProperty","permissions","isArray","ownPermissions","find","ownPermission","permission","parseInt","isString","name","roles","ownRoles","ownRole","role","isAuth","hasPermissions","hasRoles","AltrpModel","defaultModel","user","setModalSettings","settings","toggleModal","model","defaultDataStorage","dataStorage","setProperty","dataStorageName","content","transform","undefined","update","locals","hot","accept","newContent","a","b","key","idx","Error","dispose","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","code","keys","Object","resolve","cx","cy","r","AdminLogo","href","target","className","assetType","renderAsset","Component","connect","AdminTable","filterByKeyboard","isFunction","search","onChange","changeHandler","columns","column","rows","row","index","tag","children","editUrl","Link","to","pathname","is_button","button","onClick","is_boolean","toString","React","createElement","quickActions","quickAction","item","replace","confirm","resource","response","after","callBack","AllPages","getPages","getAll","setState","pages","redirect","location","assign","iconsManager","IconsManager","logout","post","titleToName","str","split","char","isUndefined","join","transliterate","toLowerCase","objectDeepCleaning","collection","Array","hasOwnProperty","deleteEmptyPropsDeep","deleteProps","forEach","isEmpty","Updates","needUpdate","updateAltrp","bind","dispatch","setAdminDisable","result","setNeedUpdate","setAdminEnable","setTimeout","document","reload","updateMessage","AutoUpdateInput","disabled","changeValue","onKeyDown","resourceid","keyCode","newValue","changevalue","put","column_value","inputProps","onBlur","StylesSettings","htmlFor","Import","onSubmit","preventDefault","postFiles","inputFile","current","alert","message","createRef","ref","required","Export","AdvancedSettings","lazy","AdminSettings","switchTab","activeTab","hash","selectedIndex","onSelect","Suspense","fallback","attr","viewBox","data-name","Users","role_filter","users_result","placeholder","aria-controls","full_name","email","last_login_at","renderScrollbar","autoHeight","AltrpSelect","loadOptions","callback","optionsResource","optionsRoute","customStyles","menuPortal","base","zIndex","selectProps","onInputChange","noOptionsMessage","menuPortalTarget","menuPlacement","menuPosition","components","MenuList","captureMenuScroll","UserForm","changeRolesHandler","usermeta","_roles","changePermissionsHandler","_permissions","errors","redirectAfterSave","redirectAfterError","redirect_error_url","rolesOptions","permissionsOptions","saveUser","user_data","usermeta_data","usermeta_resource","source","field","redirect_url","password","password_confirmation","first_name","second_name","patronymic","closeMenuOnSelect","filter","isMulti","p","AddUserPage","withRouter","EditUserPage","user_id","match","UsersTools","defaultChecked","Assets","onDragOver","onDragLeave","onDrop","deleteClick","uploaderClasses","assets","itemDeleteClasses","assetId","currentTarget","dataset","assetid","newAssets","Number","concat","stopPropagation","updateAssets","dataTransfer","UploadIcon","getIconComponent","CloseIcon","multiple","asset","style","data-assetid","TABLE","widgetTypes","Spinner","EmptyWidget","obj","reduce","encodeURIComponent","getWidgetData","axios","DynamicBarChart","widget","useState","isLoading","setIsLoading","setData","getData","useCallback","charts","useEffect","entries","label","series","colorScheme","bar","gradient","stops","stopOpacity","legend","orientation","DynamicPieChart","explode","fontSize","fontFill","DynamicAreaChart","color","newData","Date","xAxis","tickSeries","format","firstDate","shift","lastDate","pop","diff","formatDistanceStrict","unit","locale","ru","markLine","line","area","DynamicLineChart","sortData","order","varA","toUpperCase","varB","comparison","DynamicTableWidget","sort","summary","useMemo","acc","isVertical","DynamicDonutChart","doughnut","WidgetDiagram","EditWidget","diagram","onSave","show","setShow","setWidget","Modal","onHide","animation","centered","Header","closeButton","Title","Body","Row","Col","Form","Group","controlId","Label","Control","as","custom","schemes","dataSources","Check","checked","Footer","Button","variant","WidgetParams","Dashboard","diagrams","setDiagrams","showEditForm","setShowEditForm","showAddForm","setShowAddForm","selectedWidget","setSelectedWidget","addDiagram","getDiagrams","parse","showSettingsModal","findIndex","itemIndex","AddWidget","Plugins","Reports","useDispatch","reports","setReports","class","function","open","preview","getReports","Tables","modules","setModules","urlModules","Pagination","currentPage","num","changePage","pageCount","setCurrentPage","altrp_version","itemsCount","Templates","templates","allTemplates","templateAreas","activeTemplateArea","templateTypesResource","changeActiveArea","generateTemplateJSON","areaId","setActiveArea","updateTemplates","getQueried","page","pageSize","template","template_area","element","file","Blob","URL","createObjectURL","download","appendChild","click","substr","getAreasOptions","defaultValue","tabClasses","data-area","downloadJSONFile","fillRule","clipRule","AdminModal","storeSubscribe","subscribe","getState","valid","errorMessage","error","modalClasses","data-field","data-error","option","AdminModal2","closeHandler","ReactDOM","createPortal","PageDataSourceForm","source_id","alias","priority","parameters","dataSourceOptions","dataSource","submitHandler","page_id","updateHandler","data_sources","AddPage","getDataSources","dataSourceResource","isModalOpened","editingDataSource","editHandler","models","model_resource","templateResource","savePage","getOptions","models_res","pageData","path","sortBy","model_id","defaultOptions","Boolean","UserTopPanel","currentElement","CONSTANTS","TEMPLATE_UPDATED","dragState","contentData","currentTab","SCREENS","currentContextElement","templateStatus","elementDrag","dynamicContentState","controllerValue","settingSectionMenu","newState","elementName","tab","sectionID","currentState","currentScreen","screen","templateData","composeWithDevTools","AssetsBrowser","tabClick","toggleBrowser","selectAsset","chooseAsset","tabs","getAssets","selectedAsset","mediaAssets","mediaResource","getIconsList","assetname","setActiveTab","assetsToggle","onChoose","classes","buttonClasses","data-tab","AssetContent","assetProps","iconComponent","src","filename","data-assetname","columnsModel","columnsDataSource","Models","dataSourcesSearch","dataSourcesResource","dataSourcesCurrentPage","itemsPerPage","preset","s","dataSourcesPageCount","getModels","modelsSearch","modelsResource","modelsCurrentPage","modelsPageCount","changeSearchHandler","changeDataSourcesSearchHandler","modelsCount","dataSourcesCount","pagination","EditModelForm","deleteHandler","titleChangeHandler","persist","prevProps","created_at","updated_at","parent_model_id","description","table_id","isDisabled","soft_deletes","time_stamps","submitText","edit","EditModel","updateFields","fieldsResource","updateRelations","relationsResource","relations","updateQueries","queriesResource","queries","history","bounded_model","sql_editors","relation","query","FieldCalculationLogic","rightType","is1stString","is2ndString","right","string","fieldId","string_1","fieldId_1","string_2","fieldId_2","rightTypeHandler","rightChangeHandler","setRight","_state","fieldsOptions","deleteItemHandler","left","operator","operatorChangeHandler","includes","fieldTypeOptions","attributeOptions","inputTipeOptions","AddFieldForm","isAlways","is_label","is_title","is_auth","length_value","default","attribute","input_type","null","indexed","editable","calculation","calculation_logic","itemChangeHandler","addItemHandler","filedsResource","modelId","fieldsOptionsResource","substring","isNaN","default_","_null","splice","readOnly","EditField","modelTitle","relationTypeOptions","deleteUpdateOptions","AddRelationForm","modelsOptions","add_belong_to","always_with","local_key","foreign_key","onDelete","onUpdate","selfFieldsOptions","foreignFieldsOptions","updateForeignFieldOptions","target_model_id","changeTargetModel","modelName","_relationTypeOptions","hideAddBelongTo","renderLocalKey","renderForeignKey","AddRelation","AddDataSourceForm","request_type","api_url","auth","access","changeRoles","changePermission","AddDataSource","typeOptions","AggregateComponent","columnsOptions","tablesOptions","tableId","JoinComponent","targetColumnOptions","target_table","source_column","target_column","sourceColumnOptions","getDatePickerFormat","getMomentFormat","conditionTypeOptions","dateTypesOptions","ConditionComponent","isDateVar","dateValueFormatChange","moment","isFirst","condition_type","or","not","values","first_column","second_column","selected","_d","showTimeSelect","showYearPicker","showTimeSelectOnly","showMonthYearPicker","dateFormat","OrderByComponent","SQLBuilderForm","changeGroupBy","group_by","_group_by","changeColumns","_columns","c","changeRelations","_relations","valueChangeHandler","aggregateToggle","isAggregateRaw","aggregates","conditionAddHandler","conditions","offsetDeleteHandler","offset","limitDeleteHandler","limit","setRelations","setColumns","joins","order_by","relationsOptions","selfFields","counter","selfFieldsResource","sqlResource","multipleSelectChangeHandler","aggregateChangeHandler","aggregateAddHandler","aggregateDeleteHandler","joinChangeHandler","joinAddHandler","joinDeleteHandler","conditionChangeHandler","orderByChangeHandler","orderByAddHandler","orderByDeleteHandler","condition","trim","array","conditionDeleteHandler","f","SQLBuilder","SqlEditor","aceEditorObserver","storeState","sql","sqlEditorResource","paged","is_object","editor","mode","theme","setOptions","showPrintMargin","enableLiveAutocompletion","rolesResource","permissionsResource","AccessOptions","getRoles","getPermissions","RoleForm","display_name","isEditing","RolePage","PermissionForm","PermissionPage","TableForm","saveTable","AddTable","EditTable","setting_url","MigrationsTable","migrations","table","table_columns","migrations_resource","table_resource","table_res","AddModelPage","relationship_types","addModalShow","onDeleteClick","default_relationship","model_class","accessors_table_columns","addAccessorModalShow","onDeleteAccessorClick","default_accessor","formula","modal_toogle","actual_columns","fillable_columns","user_cols","fillable_cols","relationships","pk","accessors","selected_relationship","relationship","selected_accessor","accessor","save_model_resource","accessors_resource","addFillableColumn","deleteFillableColumn","addUserColsColumn","deleteUserColsColumn","onChangeRelationship","saveModel","addRelationship","getModalClasses","columns_res","model_data","setCols","accessors_data","accsessors","cols","$push","$splice","field_name","getTime","$set","AccessorsPage","addAccessor","AddControllerPage","prefix","namespace","controller_resource","save_controller_resource","saveController","addRelation","deleteRelation","controller_res","setRelation","SettingTable","AddMigrationPage","column_types","default_column","places","unique","default_key","source_table_id","key_actions","addModalColumnShow","onDeleteColumnClick","table_keys","addModalKeyShow","onDeleteKeyClick","column_modal_toggle","key_modal_toggle","rename_columns","selected_column","selected_key","migration_resource","onChangeColumn","onChangeKey","addColumn","addKey","changeName","saveMigration","isShowField","keys_res","modal_toggle","val","charAt","name_value","main_url","AdminVersion","_export","initPaginationProps","SQLEditors","sql_editorsPagination","sql_editorsResource","sql_editor","pagesMenuShow","toggleMenu","updateAdminState","adminClasses","exact","component","ASSETS_SHOW","ASSETS_TOGGLE","assetsShow","clone","setAdminLogo","media","setAceEditor","TEMPLATE_NEED_UPDATE","TEMPLATE_SAVING","DEFAULT_BREAKPOINT","icon","mediaQuery","renderIcon","backgroundImage"],"mappings":"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","file":"44799aee33f6b8f0dd8c.bundle.js","sourcesContent":["var escape = require(\"../../../../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".pagination{display:flex;align-items:center;padding:20px 0}.pagination__version{font-family:Roboto;font-style:italic;font-weight:normal;font-size:13px;line-height:15px;color:#8E94AA;margin-right:437px}.pagination__link{text-decoration:none;font-weight:400;font-family:Roboto;font-style:italic;font-size:13px;line-height:15px;color:#673daa}.pagination__text{margin:0 9px;font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343B4C}.pagination__move{width:30px;height:30px;padding:0;display:flex;justify-content:center;align-items:center;border:1px solid #8E94AA;box-sizing:border-box;cursor:pointer;border-radius:2px}.pagination__buttons{display:flex;align-items:center}.pagination__indicator{display:flex;justify-content:center;align-items:center;width:43px;height:30px;background:#FFFFFF;border:1px solid #343B4C;box-sizing:border-box;box-shadow:0px 0px 0px #007CBA;border-radius:2px}.pagination__prev{background-image:url(\" + escape(require(\"../../svgs/left.svg\")) + \");background-size:7.5px 4px;margin:0 7px}.pagination__map{margin:0 9px;font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343B4C}.pagination__next{margin-right:7.5px}.pagination__disabled{opacity:.5;cursor:auto}.right__arrow{transform:rotate(-180deg)}\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.i(require(\"-!../../../../../node_modules/css-loader/index.js!bootstrap/dist/css/bootstrap-grid.min.css\"), \"\");\n\n// module\nexports.push([module.id, \"html{height:100%}body,*,*:focus,*::before,*::after{box-sizing:border-box;outline:none}body{font-family:Roboto, sans-serif;margin:0;overflow-x:hidden;color:#242424;display:flex;flex-direction:column;height:100%}a,button,svg,path{-webkit-transition-duration:0.2s;-moz-transition-duration:0.2s;-ms-transition-duration:0.2s;-o-transition-duration:0.2s;transition-duration:0.2s;font-family:Roboto, sans-serif}.btn:active,.btn:focus,a:active,a:focus,button:active,button:focus{outline:none;box-shadow:none}button{cursor:pointer}.btn_grey{background-color:#8E94AA}.btn_disabled{background-color:#8E94AA;cursor:default;font-weight:bold;color:#fff;pointer-events:none}.btn,button{padding:10px 15px;border:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}iframe{display:block;border:none}input[type=\\\"checkbox\\\"]{cursor:pointer}.no-transition{-webkit-transition-duration:0s !important;-moz-transition-duration:0s !important;-ms-transition-duration:0s !important;-o-transition-duration:0s !important;transition-duration:0s !important}.caption{margin-bottom:15px;font-weight:600;font-size:18px}.btn_bare{border:none;background-color:transparent}.btn_success{background-color:#87CA00;color:#fff;font-weight:bold}.btn_failure{background-color:#FF4E6E;color:#fff;font-weight:bold}.text_bold{font-weight:bold}.altrp-disabled{pointer-events:none}.pointer-event-none{pointer-events:none}.altrp-inherit{font-family:inherit;font-size:inherit;font-style:inherit;line-height:inherit;color:inherit;text-decoration:inherit;text-transform:inherit}.altrp-scroll__vertical-track{bottom:2px;top:2px;right:2px;z-index:1000;border-radius:3px}.clickable{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cursor-pointer{cursor:pointer}.rotate-180{transform:rotatex(180deg)}.altrp-label{display:block}.assets-browser{display:none}.assets-browser_active{position:fixed;display:flex;top:0;bottom:0;right:0;left:0;z-index:1000}.assets-browser__bg{position:absolute;top:0;left:0;bottom:0;right:0;background-color:rgba(52,59,76,0.2);z-index:50}.assets-browser-content{position:absolute;top:5%;bottom:5%;left:5%;right:5%;padding-bottom:60px;z-index:100;border:1px solid #D5D7DE;border-radius:3px;background-color:#fff}.assets-browser__close.btn{position:absolute;top:0;right:0;padding:10px;-webkit-transform:scale(2);-moz-transform:scale(2);-ms-transform:scale(2);-o-transform:scale(2);transform:scale(2);background-color:transparent}.assets-browser__close.btn .icon{margin:0;width:auto;height:auto}.assets-browser-top{padding:20px 20px 0;background-color:#F7F8F9}.assets-browser-top .caption{font-size:22px}.assets-browser-nav{margin-left:-20px;margin-right:-20px;padding-left:5px;padding-right:5px;border-bottom:1px solid #D5D7DE}.assets-browser__tab{margin-bottom:-1px;background-color:transparent;border-top:1px solid transparent;border-left:1px solid transparent;border-right:1px solid transparent}.assets-browser__tab_active{border-top:1px solid #D5D7DE;border-left:1px solid #D5D7DE;border-right:1px solid #D5D7DE;background-color:#fff}.assets-browser-bottom{position:absolute;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:flex-end;height:60px;padding-right:20px;border-top:1px solid #D5D7DE}.assets-browser-choose-frame{display:flex;align-content:flex-start;align-items:flex-start;flex-wrap:wrap;padding:20px 20px 20px 10px;height:calc( 100% - 96.5px);overflow:auto}.asset-choose{position:relative;cursor:pointer;margin-bottom:10px;margin-left:10px;border:1px solid #D5D7DE}.asset-choose__content{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}.asset-choose_selected{box-shadow:inset 0 0 0 3px #fff,inset 0 0 0 7px #71d7f7}.asset-choose_icon{width:calc(5% - 10px);padding-top:calc(5% - 10px)}.asset-choose_media{width:calc(10% - 10px);padding-top:calc(10% - 10px)}.asset-choose_media .asset-choose__content{top:10px;left:10px;width:calc(100% - 20px);height:calc(100% - 20px);transform:none;object-fit:contain;object-position:center;background-color:#F7F8F9}\\n\", \"\"]);\n\n// exports\n","import {CHANGE_APP_ROUTES} from './actions'\r\n\r\nconst defaultState = {\r\n  routes: [],\r\n};\r\n\r\nexport function appRoutesReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type) {\r\n    case CHANGE_APP_ROUTES:{\r\n      state = {\r\n        routes: action.routes,\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}","import {CHANGE_FORM_FIELD_VALUE, CLEAR_FORM_FIELD_VALUE} from './actions'\r\n\r\nconst defaultState = {\r\n\r\n};\r\n\r\nexport function formsStoreReducer(state, {type, formId, fieldName, value}) {\r\n  state = state || defaultState;\r\n  switch (type) {\r\n    case CHANGE_FORM_FIELD_VALUE:{\r\n      if(_.get(state, [formId, fieldName]) !== value){\r\n        state = _.cloneDeep(state);\r\n        _.set(state, [formId, fieldName], value);\r\n      }\r\n\r\n    }break;\r\n    case CLEAR_FORM_FIELD_VALUE:{\r\n      if(formId){\r\n        state = _.cloneDeep(state);\r\n        _.set(state, [formId], {});\r\n      } else {\r\n        state = {};\r\n      }\r\n    }break;\r\n  }\r\n  return state;\r\n}","import {combineReducers} from 'redux';\r\nimport {appRoutesReducer} from \"./routes/reducers\";\r\nimport {currentModelReducer} from \"./current-model/reducers\";\r\nimport {formsStoreReducer} from \"./forms-data-storage/reducers\";\r\nimport {currentUserReducer} from \"./current-user/reducers\";\r\nimport {currentDataStorageReducer} from \"./current-data-storage/reducers\";\r\n\r\n\r\nexport default combineReducers({\r\n  appRoutes: appRoutesReducer,\r\n  currentModel: currentModelReducer,\r\n  formsStore: formsStoreReducer,\r\n  currentUser: currentUserReducer,\r\n  currentDataStorage: currentDataStorageReducer,\r\n});\r\n","export const CHANGE_FORM_FIELD_VALUE = 'CHANGE_FORM_FIELD_VALUE';\r\nexport const CLEAR_FORM_FIELD_VALUE = 'CHANGE_FORM_FIELD_VALUE';\r\n\r\n/**\r\n * Получает данные поля формы и сохраняет в хранилище\r\n * @param {string}fieldName\r\n * @param {*}value\r\n * @param {string}formId\r\n * @return {{type: string, fieldName: *, value: *, formId: *}}\r\n */\r\nexport function changeFormFieldValue(fieldName, value, formId) {\r\n  return {\r\n    type: CHANGE_FORM_FIELD_VALUE,\r\n    fieldName,\r\n    value,\r\n    formId,\r\n  };\r\n}\r\n/**\r\n * Очистить данные поля формы и сохраняет в хранилище\r\n * @param {string | null}formId\r\n * @return {{type: string, fieldName: *, value: *, formId: *}}\r\n */\r\nexport function clearFormStorage(formId = null) {\r\n  return {\r\n    type: CLEAR_FORM_FIELD_VALUE,\r\n    formId,\r\n  };\r\n}\r\n\r\n","import {createStore} from 'redux';\r\nimport rootReducer from './reducers'\r\n\r\nlet appStore = createStore(rootReducer);\r\n\r\nexport default appStore;","export const CHANGE_APP_ROUTES = 'CHANGE_APP_ROUTES';\r\n\r\nexport function changeAppRoutes(routes) {\r\n  return {\r\n    type: CHANGE_APP_ROUTES,\r\n    routes\r\n  };\r\n}\r\n\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"7\" height=\"10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M6 1.5L2 5l4 4\" stroke=\"#8E94AA\" strokeWidth=\"1.5\" /></svg>);","import queryString from 'query-string';\r\n/**\r\n * @class Resource\r\n * */\r\nexport const MAX_FILE_SIZE = 10485760;\r\n\r\nclass Resource {\r\n\r\n\r\n  /**\r\n   * @member {Object} routes\r\n   * @member {string} routes.get\r\n   * @member {string} routes.post\r\n   * @member {string} routes.create\r\n   * @member {string} routes.getAll\r\n   */\r\n  constructor(data){\r\n\r\n    this.route = data.route;\r\n    if(! this.route){\r\n      throw 'Нужен route';\r\n    }\r\n\r\n  }\r\n  /**\r\n   * @return {Promise}\r\n   * */\r\n  get(id){\r\n    if(! id){\r\n      throw 'Get only by \"id\"';\r\n    }\r\n\r\n    let options = {\r\n      method: 'get',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    };\r\n    let route = this.route;\r\n    let url;\r\n    if(route[route.length - 1] === '/'){\r\n       url = route + id;\r\n    } else {\r\n       url = route + '/' + id;\r\n    }\r\n    return fetch(url, options).then(res => {\r\n      if(res.ok === false){\r\n        return Promise.reject(res.text(), res.status);\r\n      }\r\n      return res.json()\r\n    });\r\n  }\r\n  /**\r\n   * простой запрос\r\n   * @return {Promise}\r\n   * */\r\n  getAll(){\r\n\r\n    let options = {\r\n      method: 'get',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    };\r\n\r\n    let url = this.route;\r\n    return fetch(url, options).then(res => {\r\n      if(res.ok === false){\r\n        return Promise.reject(res.text(), res.status);\r\n      }\r\n      return res.json()\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Запрос со строкой для поиска вхождений\r\n   * @param {string} searchString\r\n   * @return {Promise}\r\n   * */\r\n  search(searchString){\r\n    let options = {\r\n      method: 'get',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    };\r\n    let url;\r\n    if(this.route.indexOf('?') === -1){\r\n      url = this.route + `?s=${searchString}`;\r\n    } else {\r\n      url = this.route + `&s=${searchString}`;\r\n    }\r\n    return fetch(url, options).then(res => {\r\n      if(res.ok === false){\r\n        return Promise.reject(res.text(), res.status);\r\n      }\r\n      return res.json()\r\n    });\r\n  }\r\n  /**\r\n   * @param {any} data\r\n   * @param {object | null} headers\r\n   * @return {Promise}\r\n   * */\r\n  post(data = {}, headers){\r\n    headers = headers || {\r\n      'X-CSRF-TOKEN': _token,\r\n      'Content-Type': 'application/json',\r\n      'Accept': 'application/json',\r\n    };\r\n    let options = {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers,\r\n    };\r\n    return fetch(this.route, options).then(res => {\r\n      if(res.ok === false){\r\n        return Promise.reject(res.text(), res.status);\r\n      }\r\n      return res.json()\r\n    });\r\n  }\r\n  /**\r\n   * @param {FileList} files\r\n   * @param {string} fileType\r\n   * @return {Promise}\r\n   * */\r\n  postFiles(files, fileType){\r\n    // data._token = _token;\r\n    let boundary = String(Math.random()).slice(2);\r\n    fileType = fileType || 'image';\r\n    let headers = {\r\n      'X-CSRF-TOKEN': _token,\r\n      // 'Content-Type': 'multipart/form-data; boundary=' + boundary\r\n    };\r\n    let formData = new FormData();\r\n    for (let i = 0; i < files.length; i++) {\r\n      if(files[i].size > MAX_FILE_SIZE || files[i].type.indexOf(fileType) !== 0){\r\n        console.log(files[i]);\r\n        continue;\r\n      }\r\n      formData.append(`files[${i}]`, files[i]);\r\n    }\r\n    let options = {\r\n      method: 'POST',\r\n      body: formData,\r\n      headers,\r\n    };\r\n    return fetch(this.route, options).then(res => {\r\n      if(res.ok === false){\r\n        return Promise.reject(res.text(), res.status);\r\n      }\r\n      return res.json()\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @return {Promise}\r\n   * */\r\n  put(id, data){\r\n    let options = {\r\n      method: 'put',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'X-CSRF-TOKEN': _token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    };\r\n    let url = this.route + (id ? '/' + id : '');\r\n    return fetch(url, options).then(res => {\r\n      if(res.ok === false){\r\n        return Promise.reject(res.text(), res.status);\r\n      }\r\n      return res.json()\r\n    });\r\n  }\r\n  /**\r\n   * @return {Promise}\r\n   * */\r\n  delete(id = ''){\r\n\r\n    let options = {\r\n      method: 'delete',\r\n      headers: {\r\n        'X-CSRF-TOKEN': _token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    };\r\n    let url = this.route + (id ? '/' + id : '');\r\n    return fetch(url, options).then(res => {\r\n      if(res.ok === false){\r\n        return Promise.reject(res.text(), res.status);\r\n      }\r\n      return res.json()\r\n    });\r\n  }\r\n  /**\r\n   * @return {Promise}\r\n   * */\r\n  getOptions(){\r\n\r\n    let options = {\r\n      method: 'get',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    };\r\n    let url = this.route + '/options';\r\n    return fetch(url, options).then(res => {\r\n      if(res.ok === false){\r\n        return Promise.reject(res.text(), res.status);\r\n      }\r\n      return res.json()\r\n    });\r\n  }\r\n\r\n  /**\r\n   * GET запрос с параметрами\r\n   * @param {object} params\r\n   * @return {Promise}\r\n   * */\r\n  async getQueried(params){\r\n    let options = {\r\n      method: 'get',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    };\r\n    let url = `${this.route}?${queryString.stringify(params)}`;\r\n    let res =  await fetch(url, options).then(res => {\r\n      if(res.ok === false){\r\n        return Promise.reject(res.text(), res.status);\r\n      }\r\n      return res.json()\r\n    });\r\n    // console.log(res);\r\n    return res;\r\n  }\r\n\r\n}\r\n\r\nexport default Resource;","import {SET_MODAL_SETTINGS, TOGGLE_MODAL} from \"./actions\";\r\n\r\nconst defaultState = {\r\n  fields: [],\r\n  active: false,\r\n  title: 'Modal',\r\n  submitButton: 'Submit',\r\n  submit: function(data){\r\n    console.log(data);\r\n  },\r\n  success: (res)=>{\r\n    console.log(res);\r\n  }\r\n};\r\n\r\nexport function modalSettingsReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type){\r\n    case SET_MODAL_SETTINGS:{\r\n      state = {\r\n        fields: action.fields,\r\n        title: action.title || defaultState.title,\r\n        submit: action.submit || defaultState.submit,\r\n        submitButton: action.submitButton || defaultState.submitButton,\r\n        success: action.success || defaultState.success,\r\n        active: action.active,\r\n      };\r\n    }break;\r\n    case TOGGLE_MODAL:{\r\n      state = {\r\n        ...defaultState,\r\n        active: ! state.active,\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}","import {SET_DISABLED, SET_ENABLE} from \"./actions\";\r\n\r\nconst defaultState = {\r\n  adminEnable: true\r\n};\r\n\r\nexport function changeEnableState(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type){\r\n    case SET_DISABLED:{\r\n      state = {\r\n          ...state,\r\n        adminEnable: false\r\n      };\r\n    }break;\r\n    case SET_ENABLE:{\r\n      state = {\r\n        ...state,\r\n        adminEnable: true\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}","import {SET_LOGO} from \"./actions\";\r\n\r\nconst defaultState = window.admin_logo ? window.admin_logo : {};\r\n\r\nexport function adminLogoReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type){\r\n    case SET_LOGO:{\r\n      state = {\r\n          ...action.logoData\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}","import {SET_ACE} from \"./actions\";\r\n\r\nconst defaultState = {\r\n  AceEditor: null\r\n};\r\n\r\nexport function aceEditorReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type){\r\n    case SET_ACE:{\r\n      state = {\r\n        AceEditor: action.AceEditor\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}","import {combineReducers} from 'redux';\r\nimport {modalSettingsReducer} from \"./modal-settings/reducers\";\r\nimport {changeEnableState} from \"./admin-state/reducers\";\r\nimport {adminLogoReducer} from \"./admin-logo/reducers\";\r\nimport {assetsSettingsReducer} from \"../../../../editor/src/js/store/assets-browser/reducers\";\r\nimport {aceEditorReducer} from \"./ace-editor/reducers\";\r\n\r\n\r\nexport default combineReducers({\r\n  modalSettings: modalSettingsReducer,\r\n  adminState: changeEnableState,\r\n  adminLogo: adminLogoReducer,\r\n  assetsManagerSettings: assetsSettingsReducer,\r\n  aceEditorReducer: aceEditorReducer,\r\n});\r\n","import {createStore} from 'redux';\r\nimport rootReducer from './reducers'\r\n\r\nconst store = createStore(rootReducer);\r\nexport default store;","/**\r\n * Имеет интерфейс пользователя\r\n * @class AltrpUser\r\n */\r\n\r\nimport AltrpModel from \"./AltrpModel\";\r\n\r\nclass AltrpUser extends AltrpModel{\r\n  /**\r\n   * Проверяет является ли пользователь гостем\r\n   * @return {boolean}\r\n   */\r\n  isGuest(){\r\n    return this.getProperty('is_guest', false)\r\n  }\r\n  /**\r\n   * Проверяет является ли авторизованным пользователем\r\n   * @return {boolean}\r\n   */\r\n  isAuth(){\r\n    return this.getProperty('created_at', false)\r\n  }\r\n\r\n  /**\r\n   * Проверяет наличие permission у пользователя\r\n   * @param {[]} permissions\r\n   * $return {boolean}\r\n   */\r\n  hasPermissions(permissions = []){\r\n    if(! _.isArray(permissions)){\r\n      permissions = [permissions];\r\n    }\r\n    let ownPermissions = this.getProperty('permissions', []);\r\n    return _.find(ownPermissions, ownPermission => {\r\n      return _.find(permissions, permission => {\r\n        if(parseInt(permission)){\r\n          return parseInt(permission) === parseInt(ownPermission.id);\r\n        }\r\n        if(_.isString(permission)){\r\n          return permission === ownPermission.name;\r\n        }\r\n      });\r\n    });\r\n  }\r\n  /**\r\n   * Проверяет наличие роли у пользователя\r\n   * @param {[]} roles\r\n   * $return {boolean}\r\n   */\r\n  hasRoles(roles = []){\r\n    if(! _.isArray(roles)){\r\n      roles = [roles];\r\n    }\r\n    let ownRoles = this.getProperty('roles', []);\r\n    return _.find(ownRoles, ownRole => {\r\n      return _.find(roles, role => {\r\n        if(parseInt(role)){\r\n          return parseInt(role) === parseInt(ownRole.id);\r\n        }\r\n        if(_.isString(role)){\r\n          return role === ownRole.name;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Проверяет доступ пользователя по необходимым роля и разрешениям\r\n   * @param {[]} permissions\r\n   * @param {[]} roles\r\n   * $return {boolean}\r\n   *\r\n   */\r\n  checkUserAllowed(permissions = [], roles = []){\r\n    if(! this.isAuth()){\r\n      return false;\r\n    }\r\n    roles = _.isArray(roles) ? roles : [];\r\n    permissions = _.isArray(permissions) ? permissions : [];\r\n    if(! (permissions.length || roles.length)){\r\n      return true;\r\n    }\r\n    if(this.hasPermissions(permissions)){\r\n      return true;\r\n    }\r\n    if(this.hasRoles(roles)){\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default AltrpUser","import {CHANGE_CURRENT_USER} from './actions'\r\nimport AltrpUser from \"../../../../../editor/src/js/classes/AltrpUser\";\r\n\r\nconst defaultModel = {\r\n  \r\n};\r\n\r\nexport function currentUserReducer(user, action) {\r\n  user = user || defaultModel;\r\n  switch (action.type) {\r\n    case CHANGE_CURRENT_USER:{\r\n      user = action.user;\r\n    }break;\r\n  }\r\n  if(user instanceof AltrpUser){\r\n    return user;\r\n  }\r\n  return new AltrpUser(user);\r\n}","export const CHANGE_CURRENT_USER = 'CHANGE_CURRENT_USER';\r\n\r\nexport function changeCurrentUser(user) {\r\n  return {\r\n    type: CHANGE_CURRENT_USER,\r\n    user: user || {},\r\n  };\r\n}\r\n\r\n","export const SET_MODAL_SETTINGS = 'SET_MODAL_SETTINGS';\r\nexport const TOGGLE_MODAL = 'TOGGLE_MODAL';\r\n\r\nexport function setModalSettings(settings){\r\n  return {\r\n    ...settings,\r\n    type: SET_MODAL_SETTINGS,\r\n  }\r\n}\r\n\r\nexport function toggleModal(){\r\n  return {\r\n    type: TOGGLE_MODAL,\r\n  }\r\n}\r\n","import {CHANGE_CURRENT_MODEL} from './actions'\r\nimport AltrpModel from \"../../../../../editor/src/js/classes/AltrpModel\";\r\n\r\nconst defaultModel = {\r\n  \r\n};\r\n\r\nexport function currentModelReducer(model, action) {\r\n  model = model || defaultModel;\r\n  switch (action.type) {\r\n    case CHANGE_CURRENT_MODEL:{\r\n      model = action.model;\r\n    }break;\r\n  }\r\n  if(model instanceof AltrpModel){\r\n    return model;\r\n  }\r\n  return new AltrpModel(model);\r\n}","export const CHANGE_CURRENT_MODEL = 'CHANGE_CURRENT_MODEL';\r\n\r\nexport function changeCurrentModel(model) {\r\n  return {\r\n    type: CHANGE_CURRENT_MODEL,\r\n    model\r\n  };\r\n}\r\n\r\n","import {CHANGE_CURRENT_DATASOURCE, CLEAR_CURRENT_DATASOURCE} from './actions'\r\nimport AltrpModel from \"../../../../../editor/src/js/classes/AltrpModel\";\r\n\r\nconst defaultDataStorage = {\r\n  \r\n};\r\n\r\nexport function currentDataStorageReducer(dataStorage, action) {\r\n  dataStorage = dataStorage || new AltrpModel(defaultDataStorage);\r\n  switch (action.type) {\r\n    case CHANGE_CURRENT_DATASOURCE:{\r\n      let data = action.data;\r\n      dataStorage.setProperty(action.dataStorageName, data);\r\n      dataStorage = _.cloneDeep(dataStorage);\r\n    }break;\r\n    case CLEAR_CURRENT_DATASOURCE:{\r\n      dataStorage = {};\r\n    }break;\r\n  }\r\n  if(dataStorage instanceof AltrpModel){\r\n    return dataStorage;\r\n  }\r\n  return new AltrpModel(dataStorage);\r\n}","export const CHANGE_CURRENT_DATASOURCE = 'CHANGE_CURRENT_DATASOURCE';\r\nexport const CLEAR_CURRENT_DATASOURCE = 'CLEAR_CURRENT_DATASOURCE';\r\n\r\n/**\r\n *\r\n * @param {string}dataStorageName\r\n * @param {{}} data\r\n * @return {\r\n *   {\r\n *     type: {string},\r\n *     dataStorage: {},\r\n *     dataStorageName: {string},\r\n *   }\r\n * }\r\n */\r\nexport function changeCurrentDataStorage(dataStorageName, data = {}) {\r\n  return {\r\n    type: CHANGE_CURRENT_DATASOURCE,\r\n    data,\r\n    dataStorageName\r\n  };\r\n}\r\nexport function clearCurrentDataStorage() {\r\n  return {\r\n    type: CLEAR_CURRENT_DATASOURCE,\r\n  };\r\n}\r\n\r\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./admin-style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./admin-style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./admin-style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-pagination.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-pagination.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-pagination.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./assets-browser.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./assets-browser.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./assets-browser.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var map = {\n\t\"./af\": 168,\n\t\"./af.js\": 168,\n\t\"./ar\": 169,\n\t\"./ar-dz\": 170,\n\t\"./ar-dz.js\": 170,\n\t\"./ar-kw\": 171,\n\t\"./ar-kw.js\": 171,\n\t\"./ar-ly\": 172,\n\t\"./ar-ly.js\": 172,\n\t\"./ar-ma\": 173,\n\t\"./ar-ma.js\": 173,\n\t\"./ar-sa\": 174,\n\t\"./ar-sa.js\": 174,\n\t\"./ar-tn\": 175,\n\t\"./ar-tn.js\": 175,\n\t\"./ar.js\": 169,\n\t\"./az\": 176,\n\t\"./az.js\": 176,\n\t\"./be\": 177,\n\t\"./be.js\": 177,\n\t\"./bg\": 178,\n\t\"./bg.js\": 178,\n\t\"./bm\": 179,\n\t\"./bm.js\": 179,\n\t\"./bn\": 180,\n\t\"./bn.js\": 180,\n\t\"./bo\": 181,\n\t\"./bo.js\": 181,\n\t\"./br\": 182,\n\t\"./br.js\": 182,\n\t\"./bs\": 183,\n\t\"./bs.js\": 183,\n\t\"./ca\": 184,\n\t\"./ca.js\": 184,\n\t\"./cs\": 185,\n\t\"./cs.js\": 185,\n\t\"./cv\": 186,\n\t\"./cv.js\": 186,\n\t\"./cy\": 187,\n\t\"./cy.js\": 187,\n\t\"./da\": 188,\n\t\"./da.js\": 188,\n\t\"./de\": 189,\n\t\"./de-at\": 190,\n\t\"./de-at.js\": 190,\n\t\"./de-ch\": 191,\n\t\"./de-ch.js\": 191,\n\t\"./de.js\": 189,\n\t\"./dv\": 192,\n\t\"./dv.js\": 192,\n\t\"./el\": 193,\n\t\"./el.js\": 193,\n\t\"./en-au\": 194,\n\t\"./en-au.js\": 194,\n\t\"./en-ca\": 195,\n\t\"./en-ca.js\": 195,\n\t\"./en-gb\": 196,\n\t\"./en-gb.js\": 196,\n\t\"./en-ie\": 197,\n\t\"./en-ie.js\": 197,\n\t\"./en-il\": 198,\n\t\"./en-il.js\": 198,\n\t\"./en-in\": 199,\n\t\"./en-in.js\": 199,\n\t\"./en-nz\": 200,\n\t\"./en-nz.js\": 200,\n\t\"./en-sg\": 201,\n\t\"./en-sg.js\": 201,\n\t\"./eo\": 202,\n\t\"./eo.js\": 202,\n\t\"./es\": 203,\n\t\"./es-do\": 204,\n\t\"./es-do.js\": 204,\n\t\"./es-us\": 205,\n\t\"./es-us.js\": 205,\n\t\"./es.js\": 203,\n\t\"./et\": 206,\n\t\"./et.js\": 206,\n\t\"./eu\": 207,\n\t\"./eu.js\": 207,\n\t\"./fa\": 208,\n\t\"./fa.js\": 208,\n\t\"./fi\": 209,\n\t\"./fi.js\": 209,\n\t\"./fil\": 210,\n\t\"./fil.js\": 210,\n\t\"./fo\": 211,\n\t\"./fo.js\": 211,\n\t\"./fr\": 212,\n\t\"./fr-ca\": 213,\n\t\"./fr-ca.js\": 213,\n\t\"./fr-ch\": 214,\n\t\"./fr-ch.js\": 214,\n\t\"./fr.js\": 212,\n\t\"./fy\": 215,\n\t\"./fy.js\": 215,\n\t\"./ga\": 216,\n\t\"./ga.js\": 216,\n\t\"./gd\": 217,\n\t\"./gd.js\": 217,\n\t\"./gl\": 218,\n\t\"./gl.js\": 218,\n\t\"./gom-deva\": 219,\n\t\"./gom-deva.js\": 219,\n\t\"./gom-latn\": 220,\n\t\"./gom-latn.js\": 220,\n\t\"./gu\": 221,\n\t\"./gu.js\": 221,\n\t\"./he\": 222,\n\t\"./he.js\": 222,\n\t\"./hi\": 223,\n\t\"./hi.js\": 223,\n\t\"./hr\": 224,\n\t\"./hr.js\": 224,\n\t\"./hu\": 225,\n\t\"./hu.js\": 225,\n\t\"./hy-am\": 226,\n\t\"./hy-am.js\": 226,\n\t\"./id\": 227,\n\t\"./id.js\": 227,\n\t\"./is\": 228,\n\t\"./is.js\": 228,\n\t\"./it\": 229,\n\t\"./it-ch\": 230,\n\t\"./it-ch.js\": 230,\n\t\"./it.js\": 229,\n\t\"./ja\": 231,\n\t\"./ja.js\": 231,\n\t\"./jv\": 232,\n\t\"./jv.js\": 232,\n\t\"./ka\": 233,\n\t\"./ka.js\": 233,\n\t\"./kk\": 234,\n\t\"./kk.js\": 234,\n\t\"./km\": 235,\n\t\"./km.js\": 235,\n\t\"./kn\": 236,\n\t\"./kn.js\": 236,\n\t\"./ko\": 237,\n\t\"./ko.js\": 237,\n\t\"./ku\": 238,\n\t\"./ku.js\": 238,\n\t\"./ky\": 239,\n\t\"./ky.js\": 239,\n\t\"./lb\": 240,\n\t\"./lb.js\": 240,\n\t\"./lo\": 241,\n\t\"./lo.js\": 241,\n\t\"./lt\": 242,\n\t\"./lt.js\": 242,\n\t\"./lv\": 243,\n\t\"./lv.js\": 243,\n\t\"./me\": 244,\n\t\"./me.js\": 244,\n\t\"./mi\": 245,\n\t\"./mi.js\": 245,\n\t\"./mk\": 246,\n\t\"./mk.js\": 246,\n\t\"./ml\": 247,\n\t\"./ml.js\": 247,\n\t\"./mn\": 248,\n\t\"./mn.js\": 248,\n\t\"./mr\": 249,\n\t\"./mr.js\": 249,\n\t\"./ms\": 250,\n\t\"./ms-my\": 251,\n\t\"./ms-my.js\": 251,\n\t\"./ms.js\": 250,\n\t\"./mt\": 252,\n\t\"./mt.js\": 252,\n\t\"./my\": 253,\n\t\"./my.js\": 253,\n\t\"./nb\": 254,\n\t\"./nb.js\": 254,\n\t\"./ne\": 255,\n\t\"./ne.js\": 255,\n\t\"./nl\": 256,\n\t\"./nl-be\": 257,\n\t\"./nl-be.js\": 257,\n\t\"./nl.js\": 256,\n\t\"./nn\": 258,\n\t\"./nn.js\": 258,\n\t\"./oc-lnc\": 259,\n\t\"./oc-lnc.js\": 259,\n\t\"./pa-in\": 260,\n\t\"./pa-in.js\": 260,\n\t\"./pl\": 261,\n\t\"./pl.js\": 261,\n\t\"./pt\": 262,\n\t\"./pt-br\": 263,\n\t\"./pt-br.js\": 263,\n\t\"./pt.js\": 262,\n\t\"./ro\": 264,\n\t\"./ro.js\": 264,\n\t\"./ru\": 265,\n\t\"./ru.js\": 265,\n\t\"./sd\": 266,\n\t\"./sd.js\": 266,\n\t\"./se\": 267,\n\t\"./se.js\": 267,\n\t\"./si\": 268,\n\t\"./si.js\": 268,\n\t\"./sk\": 269,\n\t\"./sk.js\": 269,\n\t\"./sl\": 270,\n\t\"./sl.js\": 270,\n\t\"./sq\": 271,\n\t\"./sq.js\": 271,\n\t\"./sr\": 272,\n\t\"./sr-cyrl\": 273,\n\t\"./sr-cyrl.js\": 273,\n\t\"./sr.js\": 272,\n\t\"./ss\": 274,\n\t\"./ss.js\": 274,\n\t\"./sv\": 275,\n\t\"./sv.js\": 275,\n\t\"./sw\": 276,\n\t\"./sw.js\": 276,\n\t\"./ta\": 277,\n\t\"./ta.js\": 277,\n\t\"./te\": 278,\n\t\"./te.js\": 278,\n\t\"./tet\": 279,\n\t\"./tet.js\": 279,\n\t\"./tg\": 280,\n\t\"./tg.js\": 280,\n\t\"./th\": 281,\n\t\"./th.js\": 281,\n\t\"./tk\": 282,\n\t\"./tk.js\": 282,\n\t\"./tl-ph\": 283,\n\t\"./tl-ph.js\": 283,\n\t\"./tlh\": 284,\n\t\"./tlh.js\": 284,\n\t\"./tr\": 285,\n\t\"./tr.js\": 285,\n\t\"./tzl\": 286,\n\t\"./tzl.js\": 286,\n\t\"./tzm\": 287,\n\t\"./tzm-latn\": 288,\n\t\"./tzm-latn.js\": 288,\n\t\"./tzm.js\": 287,\n\t\"./ug-cn\": 289,\n\t\"./ug-cn.js\": 289,\n\t\"./uk\": 290,\n\t\"./uk.js\": 290,\n\t\"./ur\": 291,\n\t\"./ur.js\": 291,\n\t\"./uz\": 292,\n\t\"./uz-latn\": 293,\n\t\"./uz-latn.js\": 293,\n\t\"./uz.js\": 292,\n\t\"./vi\": 294,\n\t\"./vi.js\": 294,\n\t\"./x-pseudo\": 295,\n\t\"./x-pseudo.js\": 295,\n\t\"./yo\": 296,\n\t\"./yo.js\": 296,\n\t\"./zh-cn\": 297,\n\t\"./zh-cn.js\": 297,\n\t\"./zh-hk\": 298,\n\t\"./zh-hk.js\": 298,\n\t\"./zh-mo\": 299,\n\t\"./zh-mo.js\": 299,\n\t\"./zh-tw\": 300,\n\t\"./zh-tw.js\": 300\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 437;","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"100\" height=\"24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M50.004 7.797l-2.407 5.525c0 1.333.306 2.36.927 3.065.204.238.519.46.952.667l-.697 1.962a3.67 3.67 0 01-1.616-1.089 6.62 6.62 0 01-.808-1.187c-.544.82-1.156 1.387-1.854 1.686-.527.237-1.173.352-1.947.352-1.557 0-2.858-.498-3.887-1.502C37.553 16.211 37 14.77 37 12.946c0-.636.042-1.21.128-1.708.085-.498.238-.973.45-1.418.451-.904 1.055-1.594 1.829-2.069.774-.475 1.667-.713 2.687-.713.944 0 1.76.17 2.45.499.97.46 1.684 1.21 2.126 2.252l1.42-2.804 1.914.812zM45.403 13.3a1 1 0 00.025-.268v-.169a.317.317 0 00-.025-.122c0-.973-.306-1.84-.91-2.598-.613-.759-1.285-1.134-2.025-1.134-.875 0-1.59.337-2.126 1.019-.587.736-.876 1.763-.876 3.088 0 1.21.298 2.138.902 2.774.536.567 1.216.858 2.032.858.57 0 1.038-.153 1.387-.46.578-.52 1.122-1.509 1.616-2.988zM61.97 18.617h-2.517l-2.62-6.445-.62-1.77-.647 1.816-2.543 6.399h-2.688l4.627-11.05a39.743 39.743 0 01-.485-1.165 3.354 3.354 0 00-.255-.52c-.323-.46-.842-.69-1.548-.69-.246 0-.723.069-1.437.206l.28-2.13c.358-.1.647-.168.868-.207.221-.038.442-.061.663-.061 1.327 0 2.365.62 3.105 1.854.28.43.663 1.257 1.156 2.483l4.66 11.28zM72.363 9.238h-3.59v6.107c0 .444.018.728.043.858.034.123.12.238.28.338.154.068.358.107.605.107.187 0 .544-.039 1.088-.107l.374 2.022c-.28.054-.663.108-1.156.146a16.56 16.56 0 01-1.02.061c-.775 0-1.378-.107-1.82-.322a1.994 1.994 0 01-.962-.95c-.093-.207-.161-.482-.204-.835-.042-.345-.068-.82-.068-1.418V9.238l-1.667-.023c-.357 0-.689.145-.995.437-.093.1-.212.252-.374.46l-1.616-1.48c.306-.375.57-.65.79-.835.681-.56 1.413-.835 2.204-.835l8.096.023v2.253h-.008zM84.26 9.674c.417.904.622 1.947.622 3.127 0 1.226-.222 2.283-.672 3.172a5.093 5.093 0 01-1.965 2.107 5.39 5.39 0 01-2.798.774c-.604 0-1.08-.053-1.437-.168-.494-.154-.995-.453-1.506-.897V23h-2.798l.026-10.696c0-2.154.808-3.702 2.432-4.629 1.004-.567 2.144-.858 3.428-.858 1.063 0 1.998.245 2.815.743.8.49 1.42 1.196 1.854 2.115zm-2.797-.046c-.579-.636-1.267-.958-2.084-.958-.8 0-1.514.337-2.126 1.02-.29.337-.519.804-.68 1.41a7.628 7.628 0 00-.247 1.969c0 1.333.289 2.314.876 2.942.587.629 1.284.935 2.084.935.833 0 1.547-.322 2.151-.958.29-.337.519-.781.68-1.356a6.845 6.845 0 00.247-1.877c0-.682-.076-1.288-.22-1.817a3.324 3.324 0 00-.681-1.31zM99.306 9.192l-1.387-.023-.025 9.448h-2.62v-9.44h-4.303v9.448h-2.568V9.199c-.154 0-.34.054-.57.154a3.502 3.502 0 00-.774.551l-1.71-1.54c.63-.56 1.191-.92 1.667-1.096.477-.176 1.02-.26 1.616-.26h10.674v2.184z\" fill=\"#fff\" /><circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#D9FF8D\" /><path d=\"M17.603 7.85l-1.926 4.42c0 1.067.245 1.888.742 2.452.163.19.415.368.762.533l-.558 1.57a2.936 2.936 0 01-1.293-.87 5.287 5.287 0 01-.646-.951c-.435.656-.925 1.11-1.483 1.349-.422.19-.939.282-1.558.282-1.245 0-2.286-.399-3.11-1.202-.89-.852-1.333-2.005-1.333-3.463 0-.51.034-.969.102-1.368.068-.398.19-.778.36-1.134.361-.723.844-1.275 1.463-1.655.62-.38 1.334-.57 2.15-.57.756 0 1.409.135 1.96.399.776.367 1.347.968 1.7 1.802L16.073 7.2l1.53.65zm-3.68 4.402a.8.8 0 00.02-.215v-.135a.254.254 0 00-.02-.098c0-.779-.246-1.471-.729-2.078-.49-.607-1.027-.907-1.62-.907-.7 0-1.271.27-1.7.815-.47.588-.701 1.41-.701 2.47 0 .969.238 1.71.721 2.22.429.453.973.686 1.626.686.456 0 .83-.122 1.11-.368.462-.416.897-1.207 1.292-2.39z\" fill=\"#343B4C\" /></svg>);","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport DefaultLogo from '../svgs/admin__logo.svg'\r\nimport {renderAsset} from \"../../../front-app/src/js/helpers\";\r\n\r\nclass AdminLogo extends Component {\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n  render(){\r\n    return <a href='/' target=\"_blank\" className=\"admin__logo\">{this.props.adminLogo.assetType\r\n        ? renderAsset(this.props.adminLogo)\r\n        : <DefaultLogo />}\r\n    </a>;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    adminLogo: state.adminLogo\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AdminLogo);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"19\" height=\"14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path fill=\"#fff\" d=\"M0 0h19v2H0zM0 6h19v2H0V6zM0 12h19v2H0z\" /></svg>);","import React, { Component } from \"react\";\r\nimport { Link } from 'react-router-dom'\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\n\r\nclass AdminTable extends Component {\r\n\r\n  /**\r\n   * Фильтр по ыыеденной строк\r\n   * @param {{}} e\r\n   */\r\n  filterByKeyboard = (e) => {\r\n\r\n    if (_.isFunction(this.props.filterByKeyboard)) {\r\n      this.props.filterByKeyboard(e.target.value);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { search } = this.props;\r\n    return <div className=\"admin-table\">\r\n      {search && <div className=\"admin-table\">\r\n        <input value={search.value} onChange={search.changeHandler} type=\"text\" className=\"form-group\" />\r\n      </div>}\r\n      <table>\r\n        <thead className=\"admin-table-head\">\r\n          <tr className=\"admin-table-row\">\r\n            <td className=\"admin-table__td admin-table__td_check\"><input type=\"checkbox\" /></td>\r\n            {this.props.columns.map(column =>\r\n              <td className=\"admin-table__td \" key={column.name} title={column.name}>{column.title}</td>)}\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"admin-table-body\">\r\n          {\r\n            this.props.rows.map((row) =>\r\n              <tr className=\"admin-table-row\" key={row.id} title={row.id}>\r\n                <td className=\"admin-table__td admin-table__td_check\" key={'choose' + row.id} title={'choose' + row.id}>\r\n                  <input type=\"checkbox\" /></td>\r\n                {\r\n                  this.props.columns.map((column, index) => {\r\n                    let tag = 'span';\r\n                    let props = {\r\n                      className: 'td__content',\r\n                      // children: [row[column.name]],\r\n                      children: _.get(row, column.name, ''),\r\n                    };\r\n                    if (column.url && row.url) {\r\n                      tag = 'a';\r\n                      props.href = row.url;\r\n                      if (column.target) {\r\n                        props.target = column.target;\r\n                      }\r\n                    }\r\n                    if (column.editUrl && row.editUrl) {\r\n                      tag = (column.tag === 'Link') ? Link : 'a';\r\n                      props.href = row.editUrl;\r\n                      if (column.tag === 'Link') {\r\n                        props.to = {\r\n                          pathname: row.editUrl,\r\n                          data: row\r\n                        }\r\n                      }\r\n                      if (column.target) {\r\n                        props.target = column.target;\r\n                      }\r\n                    }\r\n                    if (column.is_button) {\r\n                      tag = 'button';\r\n                      props.title = column.button.title;\r\n                      props.children = column.button.title;\r\n                      props.onClick = () => {\r\n                        column.button.function(row)\r\n                      };\r\n                    }\r\n                    if (column.is_boolean) {\r\n                      props.children = [_.get(row, column.name, false).toString()];\r\n                    }\r\n\r\n                    return <td className=\"admin-table__td td\" key={column.name + row.id} title={column.name + row.id}>\r\n\r\n                      {React.createElement(tag, props)}\r\n                      {index === 0 && <span className=\"quick-action-menu\">\r\n                        {this.props.quickActions && this.props.quickActions.map((quickAction, index) => {\r\n                          let item = '';\r\n                          switch (quickAction.tag) {\r\n                            case 'a': {\r\n                              let href = quickAction.props.href.replace(':id', row.id);\r\n\r\n                              item = <a\r\n                                className={'quick-action-menu__item ' + (quickAction.className || '')}\r\n                                {...quickAction.props || {}}\r\n                                href={href}\r\n                              >{quickAction.title}</a>;\r\n                            }\r\n                              break;\r\n                            case 'Link': {\r\n                              let href = quickAction.props.href.replace(':id', row.id);\r\n\r\n                              item = <Link\r\n                                className={'quick-action-menu__item ' + (quickAction.className || '')}\r\n                                {...quickAction.props || {}}\r\n                                to={href}\r\n                              >{quickAction.title}</Link>;\r\n                            }\r\n                              break;\r\n                            case 'button':\r\n                              let route = quickAction.route.replace(':id', row.id);\r\n                              item = <button\r\n                                className={'quick-action-menu__item ' + (quickAction.className || '')}\r\n                                {...quickAction.props || {}}\r\n                                onClick={async () => {\r\n                                  if (quickAction.confirm) {\r\n                                    if (!await confirm(quickAction.confirm)) {\r\n                                      return;\r\n                                    }\r\n                                  }\r\n                                  const resource = new Resource({ route });\r\n                                  if (_.isFunction(resource[quickAction.method])) {\r\n                                    let response;\r\n                                    switch (quickAction.method) {\r\n                                      case 'get':\r\n                                        response = await resource[quickAction.method](row.id);\r\n                                        break;\r\n\r\n                                      default:\r\n                                        response = await resource[quickAction.method]();\r\n                                        break;\r\n                                    }\r\n                                    _.isFunction(quickAction.after) ? quickAction.after(response) : ''\r\n                                  }\r\n                                }}\r\n                              >{quickAction.title}</button>;\r\n                              break;\r\n                            // case 'button': {\r\n                            //   let route = quickAction.route.replace(':id', row.id);\r\n                            //   item = <button\r\n                            //       className={'quick-action-menu__item ' + (quickAction.className || '')}\r\n                            //       {...quickAction.props || {}}\r\n                            //       onClick={async () => {\r\n                            //         if (quickAction.confirm) {\r\n                            //           if (!await confirm(quickAction.confirm)) {\r\n                            //             return;\r\n                            //           }\r\n                            //         }\r\n                            //         let resource = new Resource({route: route});\r\n                            //         if (_.isFunction(resource[quickAction.method])) {\r\n                            //           await resource[quickAction.method]();\r\n                            //           _.isFunction(quickAction.after) ? quickAction.after() : ''\r\n                            //         }\r\n                            //       }}\r\n                            //   >{quickAction.title}</button>;\r\n                            // }\r\n                            // break;\r\n\r\n                            default:\r\n                              break;\r\n                          }\r\n                          if (quickAction.callBack) {\r\n                            item = <button\r\n                              className={'quick-action-menu__item ' + (quickAction.className || '')}\r\n                              onClick={() => quickAction.callBack(row)}\r\n                            >\r\n                              {quickAction.title}\r\n                            </button>;\r\n                          }\r\n                          return <span className=\"quick-action-menu__item_wrapper\" key={index + row.id}>{item}</span>;\r\n                        })}\r\n                      </span>}\r\n                    </td>\r\n                  }\r\n                  )\r\n                }\r\n              </tr>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default AdminTable","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"./AdminTable\";\r\n\r\n\r\nexport default class AllPages extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      pages: [],\r\n    };\r\n    this.resource = new Resource({route: '/admin/ajax/pages'});\r\n  }\r\n\r\n  getPages = async () => {\r\n    let res = await this.resource.getAll();\r\n    this.setState(state => {\r\n      return { ...state, pages: res }\r\n    })\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.getPages();\r\n  }\r\n\r\n  render(){\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">Pages</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">All Pages</span>\r\n        </div>\r\n        <Link className=\"btn\" to=\"/admin/pages/add\">Add New</Link>\r\n        <div className=\"admin-filters\">\r\n          <span className=\"admin-filters__current\">All ({this.state.pages.length || '0'})</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AdminTable columns={[\r\n            {\r\n              name: 'title',\r\n              title: 'Title',\r\n              editUrl: true,\r\n              tag: 'Link'\r\n            },\r\n            {\r\n              name: 'author',\r\n              title: 'Author'\r\n            },\r\n            {\r\n              name: 'path',\r\n              title: 'Path',\r\n              url: true,\r\n              target: '_blank',\r\n            },\r\n          ]} \r\n          quickActions={[\r\n            {\r\n            tag: 'button',\r\n            route: `/admin/ajax/pages/:id`,\r\n            method: 'delete',\r\n            confirm: 'Are You Sure?',\r\n            after: this.getPages,\r\n            className: 'quick-action-menu__item_danger',\r\n            title: 'Trash'\r\n           }\r\n          ]}\r\n          rows={this.state.pages}/>\r\n      </div>\r\n    </div>;\r\n  }\r\n\r\n}","import IconsManager from \"../../../editor/src/js/classes/modules/IconsManager\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport { isEmpty } from \"lodash\";\r\n\r\nexport function redirect(url) {\r\n  url = url || '/';\r\n  window.location.assign(url);\r\n}\r\nexport function generateId() {\r\n  return '_' + Math.random().toString(36).substr(2, 9);\r\n}\r\n/**\r\n * @return {IconsManager}\r\n* */\r\nexport function iconsManager() {\r\n  if (!window.iconsManager) {\r\n    window.iconsManager = new IconsManager();\r\n  }\r\n  return window.iconsManager;\r\n}\r\n\r\nexport async function logout() {\r\n  let res = await (new Resource({ route: '/logout' })).post();\r\n  redirect(res.location)\r\n}\r\n\r\nexport function pageReload() {\r\n  document.location.reload(true);\r\n}\r\n\r\nconst a = { \"Ё\": \"Yo\", \"Й\": \"I\", \"Ц\": \"Ts\", \"У\": \"U\", \"К\": \"K\", \"Е\": \"E\", \"Н\": \"N\", \"Г\": \"G\", \"Ш\": \"Sh\", \"Щ\": \"Sch\", \"З\": \"Z\", \"Х\": \"H\", \"Ъ\": \"\", \"ё\": \"yo\", \"й\": \"i\", \"ц\": \"ts\", \"у\": \"u\", \"к\": \"k\", \"е\": \"e\", \"н\": \"n\", \"г\": \"g\", \"ш\": \"sh\", \"щ\": \"sch\", \"з\": \"z\", \"х\": \"h\", \"ъ\": \"\", \"Ф\": \"F\", \"Ы\": \"I\", \"В\": \"V\", \"А\": \"a\", \"П\": \"P\", \"Р\": \"R\", \"О\": \"O\", \"Л\": \"L\", \"Д\": \"D\", \"Ж\": \"ZH\", \"Э\": \"E\", \"ф\": \"f\", \"ы\": \"i\", \"в\": \"v\", \"а\": \"a\", \"п\": \"p\", \"р\": \"r\", \"о\": \"o\", \"л\": \"l\", \"д\": \"d\", \"ж\": \"zh\", \"э\": \"e\", \"Я\": \"Ya\", \"Ч\": \"CH\", \"С\": \"S\", \"М\": \"M\", \"И\": \"I\", \"Т\": \"T\", \"Ь\": \"\", \"Б\": \"B\", \"Ю\": \"YU\", \"я\": \"ya\", \"ч\": \"ch\", \"с\": \"s\", \"м\": \"m\", \"и\": \"i\", \"т\": \"t\", \"ь\": \"\", \"б\": \"b\", \"ю\": \"yu\" };\r\n\r\n/**\r\n * Транслитерация\r\n * @param {string}str\r\n * @return {string}\r\n */\r\nexport function transliterate(str) {\r\n  return str.split('').map(function (char) {\r\n    return _.isUndefined(a[char]) ? char : a[char];\r\n  }).join(\"\");\r\n}\r\n\r\n/**\r\n * Парсит строку в name для БД\r\n * @param {string}str\r\n * @return {string}\r\n */\r\nexport function titleToName(str) {\r\n  str = transliterate(str);\r\n  return str.toLowerCase().replace(/^\\d+/, '').replace(/[^\\d\\w]/g, '_');\r\n\r\n}\r\n/** @function objectDeepCleaning\r\n  * Удаляет все свойства id, и чистит settings\r\n  * @param {object} collection\r\n  * @return {object} Объект после удаления всех свойств id, и чистки settings\r\n */\r\nexport function objectDeepCleaning(collection) {\r\n  if (typeof collection !== \"object\" || collection === null) return collection;\r\n  if (collection.id) delete collection.id;\r\n\r\n  if (Array.isArray(collection)) {\r\n    for (let index = 0; index < collection.length; index++) {\r\n      const element = collection[index];\r\n      objectDeepCleaning(element);\r\n    }\r\n  } else {\r\n    if (collection.hasOwnProperty(\"settings\")) deleteEmptyPropsDeep(collection.settings);\r\n    if (isEmpty(collection.settings)) delete collection.settings; // удаляем settings, если оно - пустой объект\r\n    for (const key in collection) {\r\n      if (collection.hasOwnProperty(key)) {\r\n        const element = collection[key];\r\n        objectDeepCleaning(element);\r\n      }\r\n    }\r\n  }\r\n  return collection;\r\n}\r\n/** @function deleteEmptyPropsDeep\r\n  * Удаляет в объекте все свойства, значения которых - null, или \"\", или {}\r\n  * @param {object} collection\r\n */\r\nexport function deleteEmptyPropsDeep(collection) {\r\n  const deleteProps = [];\r\n  for (const key in collection) {\r\n    if (collection[key] === null || collection[key] === \"\") {\r\n      deleteProps.push(key);\r\n    }\r\n    deleteProps.forEach(key => delete collection[key]);\r\n\r\n    if (typeof collection[key] === \"object\") {\r\n      deleteEmptyPropsDeep(collection[key]);\r\n      if (isEmpty(collection[key])) delete collection[key];\r\n    }\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport {setAdminDisable, setAdminEnable} from \"../js/store/admin-state/actions\";\r\nimport store from '../js/store/store';\r\nimport {pageReload} from \"../js/helpers\";\r\n\r\n/**\r\n * Компонент вкладки обновления админки\r\n * @class\r\n */\r\nclass Updates extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      needUpdate: false,\r\n    };\r\n    this.updateAltrp = this.updateAltrp.bind(this);\r\n  }\r\n  async componentDidMount(){\r\n    store.dispatch(setAdminDisable());\r\n    let res = await (new Resource({route:'/admin/ajax/check_update'})).post( {});\r\n    if(res.result){\r\n      this.setNeedUpdate();\r\n    }\r\n    store.dispatch(setAdminEnable());\r\n  }\r\n\r\n  /**\r\n   * Вызывается, если нужно обновление\r\n   */\r\n  setNeedUpdate() {\r\n    this.setState(state => {\r\n      return {...state, needUpdate: true};\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Вызывается, если не нужно обновление\r\n   */\r\n  setDontNeedUpdate() {\r\n    this.setState(state => {\r\n      return {...state, needUpdate: false};\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Отправляет запрос на обноление приложения\r\n   */\r\n  async updateAltrp(){\r\n    store.dispatch(setAdminDisable());\r\n    let res = await (new Resource({route:'/admin/ajax/update_altrp'})).post( {});\r\n    setTimeout(()=>{\r\n          res.result ? pageReload() : this.setNeedUpdate();\r\n        }\r\n    ,1300);\r\n    // store.dispatch(setAdminEnable());\r\n  }\r\n\r\n  render() {\r\n    let data = {\r\n      updateMessage: 'You have the latest version of Altrp.',\r\n    };\r\n    if (this.state.needUpdate) {\r\n      data.updateMessage = 'A fresh version of Altrp is available for updating.';\r\n    }\r\n    return <div className=\"admin-updates p-4\">\r\n      <div className=\"admin-caption mt-1\">\r\n        {data.updateMessage}\r\n      </div>\r\n      {\r\n        this.state.needUpdate ?\r\n          <button className=\"btn_success btn\" onClick={this.updateAltrp}>Update</button>\r\n          :  <button className=\"btn\">Re-install Now</button>}\r\n    </div>\r\n\r\n  }\r\n}\r\n\r\nexport default Updates;","import React, {Component} from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\n\r\nclass AutoUpdateInput extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.resource = new Resource({\r\n      route: this.props.route,\r\n    });\r\n\r\n    this.state = {\r\n      value: this.props.value || '',\r\n      disabled: ! this.props.value,\r\n    };\r\n    this.changeValue = this.changeValue.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n  }\r\n  async componentDidMount(){\r\n    if(this.props.value !== undefined){\r\n      return;\r\n    }\r\n    let res = await this.resource.get(this.props.resourceid);\r\n    this.setState(state=>{\r\n      return{...state,\r\n        value: res[this.props.resourceid] || '',\r\n        disabled: false,\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * При нажатии на enter тоже обновдем данные\r\n   * @param e\r\n   */\r\n  onKeyDown(e){\r\n    if(e.keyCode === 13){\r\n      this.changeValue(e);\r\n    }\r\n  }\r\n\r\n  onChange(e){\r\n    let newValue = e.target.value;\r\n    this.setState(state=>{\r\n      return{...state,\r\n        value: newValue,\r\n      }\r\n    });\r\n    if(_.isFunction(this.props.changevalue)){\r\n      this.props.changevalue(newValue);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Запрос на именение поля\r\n   * @param e\r\n   * @return {Promise<void>}\r\n   */\r\n  async changeValue(e){\r\n    let newValue = e.target.value;\r\n    this.setState(state=>{\r\n      return{...state,\r\n        disabled: true,\r\n      }\r\n    });\r\n    let res = await this.resource.put(this.props.resourceid, {value: newValue, column_value: newValue});\r\n    this.setState(state=>{\r\n      return{...state,\r\n        disabled: false,\r\n      }\r\n    });\r\n  }\r\n  render(){\r\n    let {className} = this.props;\r\n    if(this.state.disabled){\r\n      className += ' pointer-event-none';\r\n    }\r\n    const inputProps = {...this.props};\r\n    delete inputProps.changevalue;\r\n    return<input{...inputProps} className={className}\r\n                onBlur={this.changeValue}\r\n                onKeyDown={this.onKeyDown}\r\n                onChange={this.onChange}\r\n                value={this.state.value}/>\r\n  }\r\n}\r\n\r\nexport default AutoUpdateInput","import React, {Component} from \"react\";\r\nimport AutoUpdateInput from \"./AutoUpdateInput\";\r\n\r\nclass StylesSettings extends Component {\r\n  render() {\r\n    return <div className=\"admin-styles-settings\">\r\n      <table>\r\n        <tbody className=\"admin-settings-table-row\">\r\n        <tr className=\"admin-settings-table-row\">\r\n          <td className=\"admin-settings-table__td row-text\" width=\"10%\">\r\n            <label htmlFor=\"settings-container-width\">\r\n              Container Width\r\n            </label>\r\n          </td>\r\n          <td className=\"admin-settings-table__td\">\r\n            <AutoUpdateInput type=\"number\"\r\n                             route=\"/admin/ajax/settings\"\r\n                             resourceid=\"container_width\"\r\n                             id=\"settings-container-width\"\r\n                             className=\"form__input w-25\"/>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default StylesSettings","import Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass Import extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.inputFile = React.createRef();\r\n    this.resource = new Resource({route:'/admin/import/settings'});\r\n  }\r\n\r\n  /**\r\n   * Отправка формы\r\n   */\r\n  onSubmit  = async e => {\r\n    e.preventDefault();\r\n    let res = await this.resource.postFiles(this.inputFile.current.files, 'application/x-zip-compressed');\r\n    if( res.success ){\r\n      await alert('Success');\r\n      window.location.href = '/admin/dashboard';\r\n    } else {\r\n      alert('Error ' + res.message)\r\n    }\r\n  };\r\n  /**\r\n   * Отрисовываем вкладку импорта админки\r\n   */\r\n  render() {\r\n    return <form\r\n                 onSubmit={this.onSubmit}\r\n                 method=\"post\"\r\n                 className=\"admin-updates p-4\">\r\n      <div className=\"admin-caption mt-1\">\r\n        Export All App Settings in Archive\r\n      </div>\r\n      <input type=\"hidden\"\r\n             name=\"_token\"\r\n             value={_token}/>\r\n      <input type=\"file\"\r\n             ref={this.inputFile}\r\n             accept={'.zip,application/zip,application/x-zip,application/x-zip-compressed'}\r\n             name=\"file\"\r\n             required/>\r\n      <button className=\"btn_success btn\">Import ZIP Archive</button>\r\n    </form>\r\n  }\r\n}\r\n\r\nexport default Import","class Export extends Component {\r\n\r\n  /**\r\n   * Отрисовываем вкладку импорта админки\r\n   */\r\n  render() {\r\n    return <div className=\"admin-updates p-4\">\r\n      <div className=\"admin-caption mt-1\">\r\n        Export All App Settings in Archive\r\n      </div>\r\n\r\n      <a className=\"btn_success btn\"\r\n         href=\"/admin/downloads/settings\"\r\n      >Download ZIP Archive</a>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Export\r\n","import {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport 'react-tabs/style/react-tabs.scss';\r\nimport Updates from \"./Updates\";\r\nimport StylesSettings from \"./StylesSettings\";\r\nimport Import from \"./settings/Import\";\r\nimport Export from \"./settings/Export\";\r\nconst AdvancedSettings = React.lazy(()=>import('./AdvancedSettings'));\r\n\r\n\r\nexport default class AdminSettings extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.switchTab = this.switchTab.bind(this);\r\n    this.state = {\r\n      activeTab: parseInt(window.location.hash[1]) || 0,\r\n    };\r\n  }\r\n\r\n  switchTab(activeTab){\r\n    window.location.hash = activeTab + '';\r\n    this.setState(state=>{return{ ...state,activeTab }})\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"admin-settings admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\"><a className=\"admin-breadcrumbs__link\" href=\"#\">Settings</a><span\r\n            className=\"admin-breadcrumbs__separator\">/</span><span\r\n            className=\"admin-breadcrumbs__current\">Builder</span></div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <Tabs selectedIndex={this.state.activeTab}\r\n              onSelect={this.switchTab}\r\n        >\r\n          <TabList className=\"nav nav-pills admin-pills\">\r\n            <Tab>\r\n              GENERAL\r\n            </Tab>\r\n            <Tab>\r\n              STYLE\r\n            </Tab>\r\n            <Tab >\r\n              INTEGRATIONS\r\n            </Tab>\r\n            <Tab >\r\n              ADVANCED\r\n            </Tab>\r\n            <Tab >\r\n              UPDATES\r\n            </Tab>\r\n            <Tab >\r\n              EXPORT\r\n            </Tab>\r\n            <Tab >\r\n              IMPORT\r\n            </Tab>\r\n          </TabList>\r\n          <TabPanel>\r\n            <table>\r\n              <tbody className=\"admin-table-body\">\r\n              <tr className=\"admin-settings-table-row\">\r\n                <td className=\"admin-settings-table__td row-text\">Post Types</td>\r\n                <td className=\"admin-settings-table__td \">\r\n                  <input className=\"admin-table__td_check\" type=\"checkbox\"/>Pages<br/>\r\n                  <input className=\"admin-table__td_check\" type=\"checkbox\"/>News\r\n                </td>\r\n              </tr>\r\n              <tr className=\"admin-settings-table-row\">\r\n                <td className=\"admin-settings-table__td row-text\">Disable Default Colors</td>\r\n                <td className=\"admin-settings-table__td \">\r\n                  <input className=\"admin-table__td_check\" type=\"checkbox\"/>Checking this box will disable\r\n                  Builder's Default Colors, and make Builder inherit the colors from your CSS file\r\n                </td>\r\n              </tr>\r\n              <tr className=\"admin-settings-table-row\">\r\n                <td className=\"admin-settings-table__td row-text\">Disable Default Fonts</td>\r\n                <td className=\"admin-settings-table__td \">\r\n                  <input className=\"admin-table__td_check\" type=\"checkbox\"/>Checking this box will disable\r\n                  Builder’s Default Fonts, and make Builder inherit the fonts from your CSS file\r\n                </td>\r\n              </tr>\r\n              <tr className=\"admin-settings-table-row\">\r\n                <td className=\"admin-settings-table__td header-text\">Improve builder</td>\r\n              </tr>\r\n              <tr className=\"admin-settings-table-row\">\r\n                <td className=\"admin-settings-table__td row-text\">Usage Data Sharing</td>\r\n                <td className=\"admin-settings-table__td \">\r\n                  <input className=\"admin-table__td_check\" type=\"checkbox\"/>Become a super contributor by\r\n                  opting in to share non-sensitive plugin data and to get our updates. Learn more\r\n                </td>\r\n              </tr>\r\n              <tr className=\"admin-settings-table-row\">\r\n                <td className=\"admin-settings-table__td\">\r\n                  <button className=\"admin-settings-button btn btn-sm\" type=\"button\">Save Changes</button>\r\n                </td>\r\n              </tr>\r\n\r\n              </tbody>\r\n            </table>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <StylesSettings/>\r\n          </TabPanel>\r\n          <TabPanel>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <React.Suspense fallback={'Loading'}>\r\n              <AdvancedSettings/>\r\n            </React.Suspense>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <Updates attr={'attr'}/>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <Export />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <Import />\r\n          </TabPanel>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M15.63 1.79h-1v12.48a.36.36 0 01-.36.36H1.79v1a.37.37 0 00.37.37h13.47a.36.36 0 00.37-.37V2.16a.37.37 0 00-.37-.37z\" /><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M13.79 13.42V.37a.37.37 0 00-.37-.37H.37A.36.36 0 000 .37v13.05a.37.37 0 00.37.37h13.05a.38.38 0 00.37-.37zM10 2.71a1.4 1.4 0 11-1.4 1.4 1.4 1.4 0 011.4-1.4zm-8.8 9.91C1.27 11 2.1 8 3.3 6.83s2-.13 2.72.9a27.9 27.9 0 001.73 2.32c.81.81 1.49-.41 2.34-.81 1.23-.59 2.24 2.46 2.5 3.39z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17.73 10.85\" {...props}><g data-name=\"Слой 2\"><path d=\"M8.87 0A8.88 8.88 0 000 8.87a9.67 9.67 0 00.16 1.69.37.37 0 00.36.29h16.69a.36.36 0 00.36-.29A8.88 8.88 0 008.87 0zm0 1a.93.93 0 11-.66 1.58A.93.93 0 018.87 1zM2 9.79a.93.93 0 11.92-.92.93.93 0 01-.92.92zm2.63-5.16a.88.88 0 01-.63.28.94.94 0 01-.95-.91.92.92 0 01.95-.95.94.94 0 01.91.95.88.88 0 01-.28.63zm5.78 5.09a2.33 2.33 0 11-3-3.58c1-.83 6.74-2.57 6.74-2.57S11.4 8.9 10.41 9.72zm5.37.07a.93.93 0 11.92-.92.93.93 0 01-.92.92z\" fill=\"#fff\" data-name=\"Слой 1\" /></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13 17.35\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M10.33 15.72H1.6V2.64H.47a.47.47 0 00-.47.47v13.77a.47.47 0 00.47.47h9.39a.47.47 0 00.47-.47z\" /><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M13 .47a.47.47 0 00-.47-.47H3.14a.47.47 0 00-.47.47v13.77a.47.47 0 00.47.46h9.39a.44.44 0 00.33-.14.43.43 0 00.14-.32z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17 16.96\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M4.31 2.67A.43.43 0 004 2.54a.41.41 0 00-.31.14c-2.54 2.8-1.16 8.86-1 9.46L.12 14.7A.41.41 0 000 15a.42.42 0 00.12.3l1.54 1.53a.41.41 0 00.6 0l2.55-2.55a17.77 17.77 0 004.19.51c1.65 0 3.91-.26 5.3-1.52a.5.5 0 00.14-.31.46.46 0 00-.13-.31zM8 5.19a.44.44 0 00.3.12.42.42 0 00.3-.12L11.76 2a1.17 1.17 0 00.34-.83 1.18 1.18 0 00-.34-.84 1.16 1.16 0 00-.84-.33 1.15 1.15 0 00-.84.35L6.92 3.51a.42.42 0 000 .6zM16.65 5.24a1.2 1.2 0 00-1.67 0l-3.17 3.17a.44.44 0 000 .6l1.08 1.07a.41.41 0 00.6 0l3.16-3.16a1.18 1.18 0 000-1.68z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M16.14 10H8.06L8 6V1.5c0-.5-.29-.39-.48-.37a8.46 8.46 0 109.31 9.64.69.69 0 00-.69-.79z\" /><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M10.38 0a.37.37 0 00-.27.09.36.36 0 00-.11.25V8h7.65a.36.36 0 00.25-.11.32.32 0 00.1-.25A8 8 0 0010.38 0z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17 16.6\" {...props}><g data-name=\"Слой 2\"><path d=\"M16.66 8.49l-1.5-.34a6.68 6.68 0 00-.55-2.49l1.16-1a.42.42 0 00.06-.61l-1.59-2A.41.41 0 0014 2a.46.46 0 00-.32.09L12.5 3a6.72 6.72 0 00-2.3-1.11V.43A.44.44 0 009.76 0H7.23a.43.43 0 00-.43.43v1.45A6.77 6.77 0 004.45 3l-1.14-.88A.46.46 0 003 2a.41.41 0 00-.29.16l-1.58 2a.44.44 0 00.07.61l1.18.93a6.56 6.56 0 00-.53 2.5l-1.5.35a.38.38 0 00-.27.19.43.43 0 00-.08.34l.57 2.46a.43.43 0 00.52.33l1.55-.36a6.66 6.66 0 001.57 1.93l-.69 1.45a.42.42 0 000 .33.45.45 0 00.22.25L6 16.56a.43.43 0 00.19 0h.15a.45.45 0 00.24-.23l.71-1.47a6.78 6.78 0 002.46 0l.71 1.47a.45.45 0 00.58.2l2.27-1.11a.39.39 0 00.22-.25.42.42 0 000-.33l-.7-1.45a6.67 6.67 0 001.56-1.94l1.54.34a.43.43 0 00.52-.33L17 9a.44.44 0 00-.34-.51zm-5.3-.16A2.86 2.86 0 118.5 5.47a2.86 2.86 0 012.86 2.86z\" fill=\"#fff\" data-name=\"Слой 1\" /></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 15\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M0 .2A.2.2 0 01.2 0h3.6a.2.2 0 01.2.2v3.6a.2.2 0 01-.2.2H.2a.2.2 0 01-.2-.2zM6 .2a.2.2 0 01.2-.2h8.6a.2.2 0 01.2.2v3.6a.2.2 0 01-.2.2H6.2a.2.2 0 01-.2-.2zM0 6.2A.2.2 0 01.2 6h3.6a.2.2 0 01.2.2v8.6a.2.2 0 01-.2.2H.2a.2.2 0 01-.2-.2zM6 6.2a.2.2 0 01.2-.2h8.6a.2.2 0 01.2.2v8.6a.2.2 0 01-.2.2H6.2a.2.2 0 01-.2-.2z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 15\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M14.67 0H.33A.31.31 0 000 .28v3.09a.31.31 0 00.33.28h14.34a.31.31 0 00.33-.28V.28a.31.31 0 00-.33-.28zM9 5H6a.32.32 0 00-.33.32v2.22a.32.32 0 00.33.32h3a.32.32 0 00.33-.32V5.28A.32.32 0 009 5zM9 9.15H6a.32.32 0 00-.33.32v5.21A.32.32 0 006 15h3a.32.32 0 00.33-.32V9.47A.32.32 0 009 9.15zM14.67 5h-3a.32.32 0 00-.33.32V10a.32.32 0 00.33.32h3A.32.32 0 0015 10V5.28a.32.32 0 00-.33-.28zM3.37 5h-3a.32.32 0 00-.37.28V10a.32.32 0 00.33.32h3A.32.32 0 003.7 10V5.28A.32.32 0 003.37 5zM3.37 11.55h-3a.33.33 0 00-.33.32v2.81a.32.32 0 00.29.32h3a.32.32 0 00.33-.32v-2.81a.33.33 0 00-.29-.32zM14.67 11.55h-3a.33.33 0 00-.33.32v2.81a.32.32 0 00.33.32h3a.32.32 0 00.33-.32v-2.81a.33.33 0 00-.33-.32z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18.51 15.26\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M13.52 14.52a9.31 9.31 0 01-4 .74A15.11 15.11 0 015 14.52h-.09v-2.68a3.23 3.23 0 013.22-3.22h2.26a3.23 3.23 0 013.22 3.22v2.64zM6.16 7.63a4.56 4.56 0 00-2.7 3.81v.85A15.49 15.49 0 010 11.61s0-.14 0 0V8.9a3.08 3.08 0 013.08-3.1h2.34a3.92 3.92 0 00.74 1.83zM11.6 5.29a2.39 2.39 0 01-2.34 2.43 2.39 2.39 0 01-2.34-2.43 2.39 2.39 0 012.34-2.44 2.39 2.39 0 012.34 2.44zM5.57 4.46a2.35 2.35 0 01-1.2.33 2.38 2.38 0 112.38-2.38 3.33 3.33 0 00-1.18 2.05zM13.09 5.77h2.34a3.09 3.09 0 013.07 3.1v2.71c0-.14 0 0 0 0a15.57 15.57 0 01-3.43.68v-.85a4.56 4.56 0 00-2.7-3.81 3.92 3.92 0 00.72-1.83zM11.75 2.43v-.05a2.39 2.39 0 112.39 2.38 2.32 2.32 0 01-1.2-.33 3.39 3.39 0 00-1.19-2z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg height=\"40\" viewBox=\"0 0 1792 1792\" width=\"40\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10L407 759q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z\" /></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"31\" height=\"31\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M11.124 24.386l-4.415 2.492c-.26.146-.492.325-.709.521C8.574 29.645 11.897 31 15.528 31c3.603 0 6.905-1.335 9.472-3.55a3.911 3.911 0 00-.778-.54l-4.728-2.445a1.873 1.873 0 01-.997-1.67v-1.919a7.36 7.36 0 00.447-.595 11.42 11.42 0 001.47-3.064 1.53 1.53 0 001.053-1.462v-2.049c0-.45-.194-.853-.495-1.135V9.609S21.56 5 15.528 5s-5.444 4.609-5.444 4.609v2.962a1.55 1.55 0 00-.495 1.135v2.049c0 .54.274 1.015.685 1.289.495 2.229 1.79 3.832 1.79 3.832v1.873c0 .681-.361 1.31-.94 1.637z\" fill=\"#F7F8F9\" /><path d=\"M15.765.002C7.207-.144.15 6.676.002 15.236c-.083 4.853 2.08 9.215 5.524 12.115.226-.196.467-.377.736-.523l4.625-2.523a1.89 1.89 0 00.984-1.658v-1.895s-1.357-1.624-1.875-3.88a1.555 1.555 0 01-.717-1.305v-2.074c0-.456.203-.864.518-1.15V9.346S9.18 4.68 15.5 4.68s5.703 4.666 5.703 4.666v2.999c.316.285.518.693.518 1.15v2.073c0 .698-.468 1.284-1.103 1.48a11.397 11.397 0 01-1.54 3.103c-.17.24-.329.444-.468.602v1.943c0 .715.404 1.37 1.044 1.69l4.953 2.475c.297.149.565.337.813.546a15.46 15.46 0 005.578-11.64C31.145 7.205 24.325.148 15.765.002z\" fill=\"#8E94AA\" /></svg>);","import React, {Component} from \"react\";\r\nimport PluginSvg from \"../../svgs/plugins.svg\";\r\nimport VectorSvg from '../../svgs/vector.svg';\r\nimport UserSvg from '../../svgs/user.svg';\r\nimport {Link} from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nexport default class Users extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n            role_filter: \"all\",\r\n            search: \"\",\r\n        };\r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/users'});\r\n        \r\n        /*\r\n        \r\n        \r\n        this.migration_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/migrations'});\r\n        \r\n        this.changeName = this.changeName.bind(this);\r\n        this.saveMigration = this.saveMigration.bind(this);\r\n        \r\n        \r\n        this.addColumn = this.addColumn.bind(this);\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.getModalClasses = this.getModalClasses.bind(this);\r\n        \r\n        this.onDeleteClick = this.onDeleteClick.bind(this);\r\n        this.addModalShow = this.addModalShow.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n        */\r\n    }\r\n    \r\n    async componentDidMount(){\r\n        let users_result = await this.resource.getAll();\r\n        this.setState(state=>{\r\n            return{...state, data: users_result};\r\n        });\r\n    }\r\n    \r\n        \r\n  render(){\r\n    return <div className=\"admin-users\">\r\n        <div className=\"wrapper\">\r\n            <div className=\"admin-heading-users\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <a className=\"admin-breadcrumbs__link\" href=\"#\">Users</a>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">All Users</span>\r\n                </div>\r\n                <Link className=\"btn\" to={\"/admin/users/new/\"}>Add New</Link>\r\n                <div className=\"admin-filters\">\r\n                    <span className=\"admin-filters__current\">All (4)</span>\r\n                    <span className=\"admin-filters__separator\">|</span>\r\n                    <a className=\"admin-filters__link\" href=\"#\">Administrator (1)</a>\r\n                    <span className=\"admin-filters__separator\">|</span>\r\n                    <a className=\"admin-filters__link\" href=\"#\">Editor (3)</a>\r\n                </div>\r\n            </div>\r\n                <div className=\"admin-panel\">\r\n                    <form className=\"admin-users-form form-bulk-left\">\r\n                        <select className=\"form-control input-sm\">\r\n                            <option value=\"1\">Bulk Actions</option>\r\n                        </select>\r\n                        <button className=\"btn btn_bare admin-users-button\">Apply</button>\r\n                    </form>\r\n                    <form className=\"admin-users-form form-bulk-right\" >\r\n                        <select className=\"form-control input\">\r\n                            <option value=\"1\">Change role on...</option>\r\n\r\n                        </select>\r\n                        <button className=\"btn btn_bare admin-users-button\">Change</button>\r\n                    </form>\r\n                    <form className=\"admin-users-form form-bulk-search\" >\r\n                        <input type=\"search\" className=\"form-control input-sm\" placeholder=\"\" aria-controls=\"example1\"/>\r\n                        <button type=\"search\" className=\"btn btn_bare admin-users-button\">Search Users</button>\r\n                    </form>\r\n                </div>\r\n            <div className=\"admin-users-table\">\r\n                <table className=\"table\">\r\n                    <thead className=\"admin-users-table-head\">\r\n                        <tr className=\"admin-table-row\">\r\n                            <td className=\"admin-table__td admin-table__td_check\">\r\n                                <input className=\"input-users\" type=\"checkbox\"/>\r\n                                Username\r\n                                <VectorSvg className=\"vector-svg\"/>\r\n                            </td>\r\n                            <td className=\"admin-table__td \">Name</td>\r\n                            <td className=\"admin-table__td \">Email</td>\r\n                            <td className=\"admin-table__td \">Role<VectorSvg className=\"vector-svg role-svg\"/></td>\r\n                            <td className=\"admin-table__td \">Post</td>\r\n                            <td className=\"admin-table__td \">Last Enter</td>\r\n                            <td className=\"admin-table__td \">Status</td>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"admin-table-body\">\r\n                    {\r\n                    \r\n                        this.state.data.map((row, idx) => \r\n                            \r\n                            <tr className=\"admin-table-row\" key={row.id}>\r\n                                <td className=\"admin-table__td admin-table__td_check \">\r\n                                    <input className=\"input-users\" type=\"checkbox\"/>\r\n                                    <UserSvg className=\"users-svg\"/>\r\n                                    <Link to={\"/admin/users/user/\"+row.id}>{row.name}</Link>\r\n                                </td>\r\n                                <td className=\"admin-table__td \">{row.full_name}</td>\r\n                                <td className=\"admin-table__td \"><a>{row.email}</a></td>\r\n                                <td className=\"admin-table__td \"><a>{row.roles.map((value) => {return value.name}).join(\", \")}</a></td>\r\n                                <td className=\"admin-table__td \">2</td>\r\n                                <td className=\"admin-table__td \">{row.last_login_at}</td>\r\n                                <td className=\"admin-table__td \">Enable</td>\r\n                            </tr>\r\n                        \r\n                        )\r\n                        \r\n                    }   \r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  }\r\n\r\n}\r\n","import React, {Component} from \"react\";\r\nimport AsyncSelect from \"react-select/async\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport Select from \"react-select\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nconst renderScrollbar = (props) => {\r\n  return <Scrollbars autoHeight >{props.children}</Scrollbars>;\r\n};\r\n\r\nclass AltrpSelect extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      options: props.options || [],\r\n    };\r\n    if(props.optionsRoute){\r\n      this.optionsResource = new Resource({route: props.optionsRoute});\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  async componentDidMount(){\r\n\r\n  }\r\n  /**\r\n   * изменение значения\r\n   */\r\n  onChange(){\r\n\r\n  }\r\n  /**\r\n   * изменение в инпуте\r\n   */\r\n  onInputChange(){\r\n\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  loadOptions = async (searchString, callback)=>{\r\n    let options = [];\r\n    if(this.optionsResource){\r\n      options = await this.optionsResource.search(searchString);\r\n    }\r\n    this.setState(state=>({\r\n      ...state,\r\n      options\r\n    }));\r\n    return callback(options);\r\n  };\r\n  /**\r\n   *\r\n   */\r\n\r\n  render(){\r\n    const customStyles = {\r\n      menuPortal: base => ({ ...base, zIndex: 99999 }),\r\n      // option: (provided, state) => ({\r\n      //   ...provided,\r\n      //   backgroundColor: state.isSelected ?\r\n      //     background.selected.color :\r\n      //     state.isFocused ? background.focused.color : background.normal.color\r\n      // })\r\n    };\r\n\r\n    let selectProps = {\r\n      onChange: this.onChange,\r\n      onInputChange: this.onInputChange,\r\n      options: this.state.options || [],\r\n      placeholder: this.props.placeholder,\r\n      loadOptions: this.loadOptions,\r\n      noOptionsMessage: this.props.noOptionsMessage || (() => \"not found\"),\r\n      styles: customStyles,\r\n      menuPortalTarget: document.body,\r\n      menuPlacement: 'auto',\r\n      menuPosition: 'absolute',\r\n      components: { MenuList: renderScrollbar },\r\n      captureMenuScroll: false\r\n    };\r\n    \r\n    _.assign(selectProps, this.props);\r\n    if( this.optionsResource){\r\n      return <AsyncSelect {...selectProps} />\r\n    } else {\r\n      return <Select {...selectProps} />\r\n    }\r\n  }\r\n}\r\n\r\nexport default AltrpSelect\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { Redirect, withRouter } from 'react-router-dom';\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\n//import TableForm from \"../../../../admin/src/components/tables/TableForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass UserForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: this.props.id,\r\n      user: {},\r\n      usermeta: {},\r\n      errors: [],\r\n      redirectAfterSave: false,\r\n      redirectAfterError: false,\r\n      redirect_error_url: \"/admin/users\",\r\n      rolesOptions: [],\r\n      permissionsOptions: []\r\n    };\r\n\r\n    if (!this.state.id) {\r\n      console.log(this.props.id)\r\n    }\r\n\r\n    this.resource = new Resource({ route: '/admin/ajax/users' });\r\n    this.rolesOptions = new Resource({ route: '/admin/ajax/role_options' });\r\n    this.permissionsOptions = new Resource({ route: '/admin/ajax/permissions_options' });\r\n\r\n    this.saveUser = this.saveUser.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const rolesOptions = await this.rolesOptions.getAll();\r\n    this.setState(state => ({ ...state, rolesOptions }));\r\n    const permissionsOptions = await this.permissionsOptions.getAll();\r\n    this.setState(state => ({ ...state, permissionsOptions }));\r\n    if (!this.state.id) {\r\n      return;\r\n    }\r\n\r\n    if (this.state.id) {\r\n\r\n      let user_data = await this.resource.get(this.state.id);\r\n\r\n      this.setState(state => {\r\n        return { ...state, user: user_data }\r\n      }, async () => {\r\n        let usermeta_data = await this.resource.get(this.state.id + \"/usermeta\");\r\n\r\n        this.setState(state => {\r\n          return { ...state, usermeta: usermeta_data }\r\n        });\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  async saveUser(e) {\r\n    e.preventDefault();\r\n    let res, usermeta_resource, usermeta_res;\r\n\r\n    if (this.state.id) {\r\n      res = await this.resource.put(this.state.id, this.state.user);\r\n    } else {\r\n      res = await this.resource.post(this.state.user);\r\n    }\r\n    console.log(res);\r\n\r\n\r\n\r\n    if (res) {\r\n\r\n      //Обновление меты\r\n\r\n      usermeta_resource = new Resource({ route: '/admin/ajax/users/' + res.id + \"/usermeta\" });\r\n\r\n      usermeta_res = await usermeta_resource.post(this.state.usermeta);\r\n\r\n      if (usermeta_res) {\r\n        this.setState(state => {\r\n          return { ...state, redirectAfterSave: true }\r\n        });\r\n      }\r\n      else {\r\n        this.setState(state => {\r\n          return { ...state, redirectAfterError: true, redirect_error_url: this.state.redirect_error_url + \"/user/\" + res.id }\r\n        });\r\n      }\r\n\r\n\r\n    } else {\r\n      /*this.setState(state=>{\r\n          return {...state, value: {}}\r\n      });*/\r\n    }\r\n  }\r\n\r\n  changeValue(e, source = \"user\") {\r\n    let field = e.target.name;\r\n    let value = e.target.value;\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      state[source][field] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  changeRolesHandler = roles => {\r\n    this.setState({\r\n      usermeta: {\r\n        ...this.state.usermeta,\r\n        roles: roles ? roles.map(role => role.value) : []\r\n      },\r\n      user:{\r\n        ...this.state.user,\r\n        _roles: roles ? roles.map(role => role.value) : []\r\n      }\r\n    })\r\n  };\r\n\r\n  changePermissionsHandler = permissions => {\r\n    this.setState({\r\n      usermeta: {\r\n        ...this.state.usermeta,\r\n        permissions: permissions ? permissions.map(permission => permission.value) : []\r\n      },\r\n      user:{\r\n        ...this.state.user,\r\n        _permissions: permissions ? permissions.map(permission => permission.value) : []\r\n      }\r\n    })\r\n  };\r\n\r\n  render() {\r\n    const { rolesOptions, permissionsOptions } = this.state;\r\n    const { _roles: roles = [], _permissions: permissions = [] } = this.state.user;\r\n    if (this.state.redirectAfterSave) {\r\n      return <Redirect to={this.props.redirect_url} />\r\n    }\r\n    if (this.state.redirectAfterError) {\r\n      return <Redirect to={this.state.redirect_error_url} />\r\n    }\r\n    return <form className=\"admin-form\" onSubmit={this.saveUser}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-name\">Name</label>\r\n        <input type=\"text\" id=\"name\" name=\"name\" required={1}\r\n          value={this.state.user.name || ''}\r\n               disabled={this.props.id}\r\n          onChange={(e) => { this.changeValue(e) }}\r\n          className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-title\">Email</label>\r\n        <input type=\"email\" id=\"email\" name=\"email\" required={1}\r\n          value={this.state.user.email || ''}\r\n          onChange={(e) => { this.changeValue(e) }}\r\n               disabled={this.props.id}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      {!this.state.id ?\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"page-description\">Password</label>\r\n          <input type=\"password\" id=\"password\" name=\"password\" required={1}\r\n            value={this.state.user.password || ''}\r\n            onChange={(e) => { this.changeValue(e) }}\r\n            className=\"form-control\" />\r\n        </div> : null}\r\n      {!this.state.id ?\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"page-description\">Confirm Password</label>\r\n          <input type=\"password\" id=\"password_confirmation\" name=\"password_confirmation\" required={1}\r\n            value={this.state.user.password_confirmation || ''}\r\n            onChange={(e) => { this.changeValue(e) }}\r\n            className=\"form-control\" />\r\n        </div> : null}\r\n\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-description\">First Name</label>\r\n        <input type=\"text\" id=\"first_name\" name=\"first_name\"\r\n          value={this.state.usermeta.first_name || ''}\r\n          onChange={(e) => { this.changeValue(e, \"usermeta\") }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-description\">Second Name</label>\r\n        <input type=\"text\" id=\"second_name\" name=\"second_name\"\r\n          value={this.state.usermeta.second_name || ''}\r\n          onChange={(e) => { this.changeValue(e, \"usermeta\") }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-description\">Patronymic</label>\r\n        <input type=\"text\" id=\"patronymic\" name=\"patronymic\"\r\n          value={this.state.usermeta.patronymic || ''}\r\n          onChange={(e) => { this.changeValue(e, \"usermeta\") }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"roles\">Roles</label>\r\n        <AltrpSelect id=\"roles\"\r\n          closeMenuOnSelect={false}\r\n          value={_.filter(rolesOptions, r => roles && roles.indexOf(r.value) >= 0)}\r\n          isMulti={true}\r\n          onChange={this.changeRolesHandler}\r\n          options={rolesOptions} />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"permissions\">Permissions</label>\r\n        <AltrpSelect id=\"permissions\"\r\n          value={_.filter(permissionsOptions, p => permissions && permissions.indexOf(p.value) >= 0)}\r\n          closeMenuOnSelect={false}\r\n          isMulti={true}\r\n          onChange={this.changePermissionsHandler}\r\n          options={permissionsOptions} />\r\n      </div>\r\n\r\n      <button className=\"btn btn_success\">{this.state.id ? 'Save' : 'Add'}</button>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default UserForm;","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport UserForm from \"./UserForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass AddUserPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      redirectAfterSave: false,\r\n    };\r\n    this.resource = new Resource({route: '/admin/ajax/users'});\r\n    \r\n    //this.savePage = this.savePage.bind(this);\r\n  }\r\n  /*async componentDidMount(){\r\n    let res = await this.templateResource.getOptions();\r\n    this.setState(state=>{\r\n      return{...state, templates: res}\r\n    });\r\n    let id = this.props.location.pathname.split('/');\r\n    id = id[id.length - 1];\r\n    id = parseInt(id);\r\n    if(id){\r\n      let pageData = await this.resource.get(id);\r\n      this.setState(state=>{\r\n        return{...state, value:pageData, id}\r\n      });\r\n    }\r\n  }*/\r\n  /*async savePage(e){\r\n    e.preventDefault();\r\n    let res;\r\n    let path = this.state.value.path;\r\n\r\n    path = path.split('\\\\').join('/');\r\n    path = (path[0] !== '/') ? `/${path}` : path;\r\n    this.state.value.path = path;\r\n    if(this.state.id){\r\n      res = await this.resource.put(this.state.id, this.state.value);\r\n    } else {\r\n      res = await this.resource.post(this.state.value);\r\n    }\r\n    if(res.success){\r\n      this.setState(state=>{\r\n        return {...state, redirectAfterSave: true}\r\n      });\r\n    } else {\r\n      this.setState(state=>{\r\n        return {...state, value: {}}\r\n      });\r\n    }\r\n  }\r\n  changeValue(value, field){\r\n    if(field === 'path'){\r\n      value = value.split('\\\\').join('/');\r\n      value = (value[0] !== '/') ? `/${value}` : value;\r\n    }\r\n    this.setState(state=>{\r\n      state = {...state};\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }*/\r\n  render() {\r\n    if(this.state.redirectAfterSave){\r\n      return<Redirect to=\"/admin/users\"/>\r\n    }\r\n    return <div className=\"admin-users\">\r\n        <div className=\"wrapper\">\r\n            <div className=\"admin-heading-users\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link className=\"admin-breadcrumbs__link\" to={\"/admin/users\"}>Users</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">Add New Users</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-users-form\">\r\n                <UserForm redirect_url=\"/admin/users\"/>\r\n            </div>\r\n        </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddUserPage);","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport UserForm from \"./UserForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass EditUserPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        user_id: this.props.match.params.id,\r\n        redirectAfterSave: false,\r\n    };\r\n    this.resource = new Resource({route: '/admin/ajax/users/user'});\r\n    \r\n    //this.savePage = this.savePage.bind(this);\r\n  }\r\n  /*async componentDidMount(){\r\n    let res = await this.templateResource.getOptions();\r\n    this.setState(state=>{\r\n      return{...state, templates: res}\r\n    });\r\n    let id = this.props.location.pathname.split('/');\r\n    id = id[id.length - 1];\r\n    id = parseInt(id);\r\n    if(id){\r\n      let pageData = await this.resource.get(id);\r\n      this.setState(state=>{\r\n        return{...state, value:pageData, id}\r\n      });\r\n    }\r\n  }*/\r\n  /*async savePage(e){\r\n    e.preventDefault();\r\n    let res;\r\n    let path = this.state.value.path;\r\n\r\n    path = path.split('\\\\').join('/');\r\n    path = (path[0] !== '/') ? `/${path}` : path;\r\n    this.state.value.path = path;\r\n    if(this.state.id){\r\n      res = await this.resource.put(this.state.id, this.state.value);\r\n    } else {\r\n      res = await this.resource.post(this.state.value);\r\n    }\r\n    if(res.success){\r\n      this.setState(state=>{\r\n        return {...state, redirectAfterSave: true}\r\n      });\r\n    } else {\r\n      this.setState(state=>{\r\n        return {...state, value: {}}\r\n      });\r\n    }\r\n  }\r\n  changeValue(value, field){\r\n    if(field === 'path'){\r\n      value = value.split('\\\\').join('/');\r\n      value = (value[0] !== '/') ? `/${value}` : value;\r\n    }\r\n    this.setState(state=>{\r\n      state = {...state};\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }*/\r\n  render() {\r\n    if(this.state.redirectAfterSave){\r\n      return<Redirect to=\"/admin/users\"/>\r\n    }\r\n    return <div className=\"admin-users\">\r\n        <div className=\"wrapper\">\r\n            <div className=\"admin-heading-users\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link className=\"admin-breadcrumbs__link\" to={\"/admin/users\"}>Users</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">Add New Users</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-users-form\">\r\n                <UserForm redirect_url=\"/admin/users\" id={this.state.user_id} />\r\n            </div>\r\n        </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(EditUserPage);","import React, {Component} from \"react\";\r\nimport PluginSvg from \"../../svgs/plugins.svg\";\r\n\r\nexport default class UsersTools extends Component{\r\n  render(){ return <div id=\"content\">\r\n\r\n          <div className=\"admin-heading-users\">\r\n            <div className=\"admin-breadcrumbs\">\r\n              <a className=\"admin-breadcrumbs__link\" href=\"#\">Users</a>\r\n              <span className=\"admin-breadcrumbs__separator\">/</span>\r\n              <span className=\"admin-breadcrumbs__current\">Tools</span>\r\n            </div>\r\n          </div>\r\n\r\n          <ul className=\"nav nav-tabs\">\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link active\" href=\"#\">Tools</a>\r\n            </li>\r\n          </ul>\r\n          <div className=\"border border-top-0\">\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-sm-8 d-flex change-role\">\r\n\r\n                <span>Change role</span>\r\n                <select className=\"form-control form-control-sm\">\r\n                  <option value=\"1\">Editor</option>\r\n                  <option value=\"2\">Moderator</option>\r\n                </select>\r\n                <div className=\"form-check form-check-inline\">\r\n                  <input className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"checkbox__1\"/>\r\n                    <label className=\"form-check-label\" htmlFor=\"checkbox__1\">Readable features</label>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"row group-table border border-bottom-0 border-left-0 border-right-0 no-gutters\">\r\n              <div className=\"col-3\">\r\n                <span className=\"text-group\">Groups</span>\r\n                <span className=\"text-total\">(Total/Allowed)</span>\r\n              </div>\r\n              <div className=\"col-6 form-check form-check-inline\">\r\n                <input className=\"form-check-input\" type=\"checkbox\" id=\"checkbox__2\"/>\r\n                  <label className=\"form-check-label\" htmlFor=\"checkbox__2\">Fast filter:</label>\r\n\r\n                  <input type=\"search\" className=\"search-tools form-control-sm\" placeholder=\"\"\r\n                         aria-controls=\"example1\"/>\r\n                    <input className=\"form-check-input\" type=\"checkbox\" id=\"checkbox__3\"/>\r\n                      <label className=\"form-check-label\" htmlFor=\"checkbox__3\">Only Allowed</label>\r\n\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <form action=\"#\" className=\"form-tools\">\r\n                  <button type=\"submit\" className=\"btn-tools\">Save Changes</button>\r\n                </form>\r\n\r\n              </div>\r\n            </div>\r\n            <div className=\"row group-table-trees border border-bottom-0 border-left-0 border-right-0 no-gutters\">\r\n              <div className=\"col-3\">\r\n                <div className=\"treeview\">\r\n                  <ul>\r\n                    <li>\r\n                      <div>\r\n                        <p>\r\n                          <a href=\"#\" className=\"core\">Core (112/2)</a>\r\n                        </p>\r\n                      </div>\r\n                      <ul>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Dashboard (10/1)</a>\r\n                            </p>\r\n                            <p className=\"form-group-p\"><a href=\"#\">Rename</a><span> | </span><a\r\n                              href=\"#\">Copy</a><span> | </span><a href=\"#\">Delete</a></p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Assets (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Tables (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Templates (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Reports (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Users (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Plugins (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li className=\"cl\">\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Setings (42/5)</a>\r\n                            </p>\r\n                          </div>\r\n                          <ul className=\"l\">\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Builder (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Import/Export (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Integration (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Sender (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Acquiring (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Tuner (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                          </ul>\r\n                        </li>\r\n                      </ul>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n\r\n              </div>\r\n              <div className=\"col-6 form-check form-check-group\">\r\n                <fieldset className=\"form-group\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm-10\">\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios1\" value=\"option1\" defaultChecked/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios1\">\r\n                            Create Template\r\n                          </label>\r\n                          <p className=\"form-group-p\"><a href=\"#\">Rename</a><span> | </span><a\r\n                            href=\"#\">Copy</a><span> | </span><a href=\"#\">Delete</a></p>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios2\" value=\"option2\" defaultChecked/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios2\">\r\n                            Duplicate Template\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios3\" value=\"option3\"/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios3\">\r\n                            Activate / Deactivate Widgets\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios4\" value=\"option4\"/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios4\">\r\n                            Setup Integration\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios5\" value=\"option5\"/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios5\">\r\n                            Import / Export Templates\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios6\" value=\"option6\"/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios6\">\r\n                            Delete Template\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios7\" value=\"option7\" defaultChecked/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios7\">\r\n                            Edit Template\r\n                          </label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </fieldset>\r\n              </div>\r\n              <div className=\"col-3 \">\r\n                <form action=\"#\" className=\"group-vertical\">\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Add New Role</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Rename Role</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Delete Role</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Add New Group</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Add New Permission</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Tools Export</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Tools Import</button>\r\n                </form>\r\n                <form action=\"#\" className=\"dangerous\">\r\n                  <span>Warning! that “Reset” action could be dangerous</span>\r\n                  <button type=\"submit\" className=\"btn-danger\">RESET</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\nimport {iconsManager} from \"../js/helpers\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\n\r\n\r\n\r\nexport default class Assets extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.onDragOver = this.onDragOver.bind(this);\r\n    this.onDragLeave = this.onDragLeave.bind(this);\r\n    this.onDrop = this.onDrop.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.deleteClick = this.deleteClick.bind(this);\r\n    this.state = {\r\n      uploaderClasses: 'admin-assets__uploader uploader',\r\n      assets: [],\r\n      itemDeleteClasses: 'item__delete',\r\n    };\r\n    this.resource  = new Resource({route: '/admin/ajax/media'});\r\n  }\r\n  deleteClick(e){\r\n    let assetId = e.currentTarget.dataset.assetid;\r\n    this.setState(state=>{\r\n      return{...state, itemDeleteClasses: 'item__delete altrp-disabled'}\r\n    });\r\n    this.resource.delete(assetId).then(res=>{\r\n      if(res.success){\r\n        let newAssets = [...this.state.assets];\r\n        newAssets = _.filter(newAssets, item => !(item.id===Number(assetId)));\r\n        this.setState(state=>{\r\n          return{...state, assets: newAssets, itemDeleteClasses: 'item__delete'};\r\n        })\r\n      }\r\n    });\r\n  }\r\n  updateAssets(files){\r\n    this.resource.postFiles(files).then(res=>{\r\n      if(res.length){\r\n        let newAssets = res.concat(this.state.assets);\r\n        this.setState(state=>{\r\n          return{...state, assets: newAssets}\r\n        })\r\n      }\r\n    })\r\n  }\r\n  onDrop(e){\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.updateAssets(e.dataTransfer.files);\r\n    this.setState(state=>{\r\n      return {...state, uploaderClasses: 'admin-assets__uploader uploader'}\r\n    });\r\n  }\r\n  componentDidMount(){\r\n    this.resource.getAll().then(res=>{\r\n      this.setState(state=>{\r\n        return {...state, assets: res}\r\n      })\r\n    });\r\n  }\r\n  onChange(e){\r\n    this.updateAssets(e.target.files);\r\n  }\r\n  onDragOver(e){\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState(state=>{\r\n      return {...state, uploaderClasses: 'admin-assets__uploader uploader uploader_drag-over'}\r\n    });\r\n  }\r\n  onDragLeave(){\r\n    this.setState(state=>{\r\n      return {...state, uploaderClasses: 'admin-assets__uploader uploader'}\r\n    });\r\n  }\r\n  render() {\r\n    let UploadIcon = iconsManager().getIconComponent('upload');\r\n    let CloseIcon = iconsManager().getIconComponent('close');\r\n    return <div className=\"admin-assets admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">Assets</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">All Assets</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <div className={this.state.uploaderClasses}\r\n             onDragLeave={this.onDragLeave}\r\n             onDrop={this.onDrop}\r\n             onDragOver={this.onDragOver}>\r\n          <label className=\"uploader__label d-flex flex-column align-items-center\">\r\n            <UploadIcon width={100} height={100} className=\"icon\"/>\r\n            <input type=\"file\"\r\n                   accept=\"image/*\"\r\n                   multiple={true}\r\n                   onChange={this.onChange}\r\n                   className=\"uploader__input\"/>\r\n            <span className=\"uploader__text text text_bold\">\r\n              Drag or Choose File\r\n            </span>\r\n          </label>\r\n        </div>\r\n        <div className=\"admin-assets__list p-4 mt-4 assets-list d-flex flex-wrap\">\r\n          {\r\n            this.state.assets.map(asset=>{\r\n              return<div className=\"assets-list__item item col-1\" key={asset.id} >\r\n                <div className=\"item__background\"\r\n                     style={{'backgroundImage': `url('${asset.url}')`}}/>\r\n                <button className={this.state.itemDeleteClasses}\r\n                        data-assetid={asset.id}\r\n                        title=\"Delete\"\r\n                        onClick={this.deleteClick}>\r\n                  <CloseIcon className=\"item__delete-icon\"/>\r\n                </button>\r\n              </div>}\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>;\r\n  }\r\n\r\n}\r\n","export const BAR = \"CHART/BAR\";\r\nexport const PIE = \"CHART/PIE\";\r\nexport const DONUT = \"CHART/DONUT\";\r\nexport const AREA = \"CHART/AREA\";\r\nexport const LINE = \"CHART/LINE\";\r\nexport const TABLE = \"CHART/TABLE\";\r\n\r\nexport const widgetTypes = [\r\n  { name: \"Столбцы\", value: BAR },\r\n  { name: \"Круговая диаграмма\", value: PIE },\r\n  { name: \"Кольцевая диаграмма\", value: DONUT },\r\n  { name: \"Линии\", value: LINE },\r\n  { name: \"Графики\", value: AREA },\r\n  { name: \"Таблица\", value: TABLE },\r\n];\r\n\r\nexport const getTypeName = (value) => widgetTypes.find((w) => w.value === value).name;\r\n","import React from \"react\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"spinner-container\">\r\n      <div className=\"spinner-border\" style={{ width: \"3rem\", height: \"3rem\" }} role=\"status\">\r\n        <span className=\"sr-only\">Loading...</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\n\r\nconst EmptyWidget = ({ text }) => {\r\n  return (\r\n    <div className=\"spinner-container\">\r\n      <div className=\"spinner-container__text\">{text ? text : \"Нет данных\"}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmptyWidget;\r\n","import axios from \"axios\";\r\n\r\nexport const queryString = (obj = {}) =>\r\n  Object.keys(obj).reduce((str, key, i) => {\r\n    let delimiter, val;\r\n    delimiter = i === 0 ? \"?\" : \"&\";\r\n    key = encodeURIComponent(key);\r\n    val = encodeURIComponent(obj[key]);\r\n    return [str, delimiter, key, \"=\", val].join(\"\");\r\n  }, \"\");\r\n\r\nexport const getWidgetData = async (url, filter) => {\r\n  const params = queryString(filter);\r\n  try {\r\n    return await axios(url + params);\r\n  } catch (error) {\r\n    return { status: 500 };\r\n  }\r\n};\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport {\r\n  BarChart,\r\n  BarSeries,\r\n  Bar,\r\n  Gradient,\r\n  GradientStop,\r\n  DiscreteLegend,\r\n  DiscreteLegendEntry,\r\n} from \"reaviz\";\r\n\r\nimport Spinner from \"./Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\n\r\nconst DynamicBarChart = ({ widget, width = 300, height = 300 }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    const charts = await getWidgetData(widget.source, widget.filter);\r\n    if (charts.status === 200) {\r\n      setData(charts.data.data);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  if (data.length === 0) return <EmptyWidget />;\r\n\r\n  // Формируем легенду\r\n  const entries = data.map((item, i) => {\r\n    return (\r\n      <DiscreteLegendEntry\r\n        key={i}\r\n        className=\"discrete__legend-item\"\r\n        label={`${item.key} (${item.data})`}\r\n        //color={colorScheme(item, i)}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <BarChart\r\n        height={height}\r\n        width={width}\r\n        data={data}\r\n        series={\r\n          <BarSeries\r\n            colorScheme={widget.options.colorScheme}\r\n            bar={<Bar gradient={<Gradient stops={[<GradientStop stopOpacity={1} />]} />} />}\r\n          />\r\n        }\r\n      />\r\n      {widget.options?.legend && (\r\n        <DiscreteLegend\r\n          className=\"discrete__legend\"\r\n          orientation={widget.options.legend}\r\n          entries={entries}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DynamicBarChart;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { PieChart, PieArcSeries, PieArcLabel, DiscreteLegend, DiscreteLegendEntry } from \"reaviz\";\r\n\r\nimport Spinner from \"./Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\n\r\nconst DynamicPieChart = ({ widget, width = 300, height = 300 }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    const charts = await getWidgetData(widget.source, widget.filter);\r\n    if (charts.status === 200) {\r\n      setData(charts.data.data || []);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  if ((! data) || data.length === 0) return <EmptyWidget />;\r\n\r\n  // Формируем легенду\r\n  const entries = data.map((item, i) => {\r\n    return (\r\n      <DiscreteLegendEntry\r\n        key={i}\r\n        className=\"discrete__legend-item\"\r\n        label={`${item.key} (${item.data})`}\r\n        //color={colorScheme(item, i)}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <PieChart\r\n        height={height}\r\n        width={width}\r\n        data={data || []}\r\n        series={\r\n          <PieArcSeries\r\n            explode={widget.options.explode}\r\n            colorScheme={widget.options.colorScheme}\r\n            label={<PieArcLabel fontSize={12} fontFill=\"#000000\" />}\r\n          />\r\n        }\r\n      />\r\n      {widget.options?.legend && (\r\n        <DiscreteLegend\r\n          className=\"discrete__legend\"\r\n          orientation={widget.options.legend}\r\n          entries={entries}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DynamicPieChart;\r\n","import React from \"react\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"spinner-container\">\r\n      <div className=\"spinner-border\" style={{ width: \"3rem\", height: \"3rem\" }} role=\"status\">\r\n        <span className=\"sr-only\">Loading...</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport {\r\n  AreaChart,\r\n  AreaSeries,\r\n  MarkLine,\r\n  Line,\r\n  LinearXAxis,\r\n  LinearXAxisTickSeries,\r\n  LinearXAxisTickLabel,\r\n  Area,\r\n  Gradient,\r\n  GradientStop,\r\n} from \"reaviz\";\r\n\r\nimport format from \"date-fns/format\";\r\nimport formatDistanceStrict from \"date-fns/formatDistanceStrict\";\r\nimport ru from \"date-fns/locale/ru\";\r\n\r\nimport Spinner from \"../Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\n\r\nconst DynamicAreaChart = ({ widget, width = 300, height = 300, color = \"#FFD51F\" }) => {\r\n  const [data, setData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    const charts = await getWidgetData(widget.source, widget.filter);\r\n    if (charts.status === 200 && typeof charts.data !== \"string\") {\r\n      const newData = charts.data.data.map((item) => {\r\n        const key = new Date(item.key);\r\n        if (key) {\r\n          return {\r\n            key,\r\n            data: item.data,\r\n          };\r\n        }\r\n      });\r\n      setData(newData);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  const formattingDate = (d) => {\r\n    //  Первая дата\r\n    const firstDate = data.slice().shift();\r\n    // Последняя дата\r\n    const lastDate = data.slice().pop();\r\n    // Разница между датами в месяцах\r\n    const diff = parseInt(\r\n      formatDistanceStrict(firstDate.key, lastDate.key, {\r\n        unit: \"month\",\r\n      })\r\n    );\r\n\r\n    if (diff >= 0 && diff <= 12) {\r\n      return format(d, \"d LLL\", { locale: ru });\r\n    } else {\r\n      return format(d, \"d MMM yy\", { locale: ru });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  if (!Array.isArray(data) || data.length === 0) return <EmptyWidget />;\r\n\r\n  return (\r\n    <>\r\n      <AreaChart\r\n        height={height}\r\n        width={width}\r\n        data={data}\r\n        xAxis={\r\n          <LinearXAxis\r\n            type=\"time\"\r\n            tickSeries={\r\n              <LinearXAxisTickSeries label={<LinearXAxisTickLabel format={formattingDate} />} />\r\n            }\r\n          />\r\n        }\r\n        series={\r\n          <AreaSeries\r\n            type={widget.options.type || \"standard\"}\r\n            markLine={<MarkLine strokeWidth={0} />}\r\n            line={<Line strokeWidth={0} />}\r\n            area={\r\n              <Area\r\n                gradient={<Gradient color={color} stops={[<GradientStop color={color} />]} />}\r\n              />\r\n            }\r\n          />\r\n        }\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DynamicAreaChart;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport {\r\n  LineChart,\r\n  LineSeries,\r\n  Line,\r\n  LinearXAxis,\r\n  LinearXAxisTickSeries,\r\n  LinearXAxisTickLabel,\r\n} from \"reaviz\";\r\nimport format from \"date-fns/format\";\r\nimport formatDistanceStrict from \"date-fns/formatDistanceStrict\";\r\nimport ru from \"date-fns/locale/ru\";\r\n\r\nimport Spinner from \"./Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\n\r\nconst DynamicLineChart = ({ widget, width = 300, height = 300, strokeWidth = 3 }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    const charts = await getWidgetData(widget.source, widget.filter);\r\n    if (charts.status === 200) {\r\n      const newData = charts.data.data.map((item) => {\r\n        const key = new Date(item.key);\r\n        if (key) {\r\n          return {\r\n            key,\r\n            data: item.data,\r\n          };\r\n        }\r\n      });\r\n      setData(newData);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  const formattingDate = (d) => {\r\n    //  Первая дата\r\n    const firstDate = data.slice().shift();\r\n    // Последняя дата\r\n    const lastDate = data.slice().pop();\r\n    // Разница между датами в месяцах\r\n    const diff = parseInt(\r\n      formatDistanceStrict(firstDate.key, lastDate.key, {\r\n        unit: \"month\",\r\n      })\r\n    );\r\n\r\n    if (diff >= 0 && diff <= 12) {\r\n      return format(d, \"d MMM\", { locale: ru });\r\n    } else {\r\n      return format(d, \"d MMM yy\", { locale: ru });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  if (data.length === 0) return <EmptyWidget />;\r\n\r\n  return (\r\n    <>\r\n      <LineChart\r\n        height={height}\r\n        width={width}\r\n        data={data}\r\n        xAxis={\r\n          <LinearXAxis\r\n            type=\"time\"\r\n            tickSeries={\r\n              <LinearXAxisTickSeries\r\n                label={\r\n                  <LinearXAxisTickLabel\r\n                    //fontSize={12}\r\n                    //fill=\"#000000\"\r\n                    format={formattingDate}\r\n                  />\r\n                }\r\n              />\r\n            }\r\n          />\r\n        }\r\n        series={\r\n          <LineSeries line={<Line strokeWidth={strokeWidth} />} colorScheme={widget.colorScheme} />\r\n        }\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DynamicLineChart;\r\n","import React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\n\r\nimport Spinner from \"./Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\n\r\nconst sortData = (key, order = \"desc\") => {\r\n  return function innerSort(a, b) {\r\n    if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\r\n      return 0;\r\n    }\r\n\r\n    const varA = typeof a[key] === \"string\" ? a[key].toUpperCase() : a[key];\r\n    const varB = typeof b[key] === \"string\" ? b[key].toUpperCase() : b[key];\r\n\r\n    let comparison = 0;\r\n    if (varA > varB) {\r\n      comparison = 1;\r\n    } else if (varA < varB) {\r\n      comparison = -1;\r\n    }\r\n    return order === \"desc\" ? comparison * -1 : comparison;\r\n  };\r\n};\r\n\r\nconst DynamicTableWidget = ({ widget }) => {\r\n  const [data, setData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    const charts = await getWidgetData(widget.source, widget.filter);\r\n    if (charts.status === 200) {\r\n      setData(charts.data.data.sort(sortData(\"data\")));\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  const summary = useMemo(() => data.reduce((acc, item) => acc + item.data, 0), [data]);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  if (data.length === 0) return <EmptyWidget />;\r\n\r\n  if (widget.options.isVertical) {\r\n    return (\r\n      <div className=\"widget-table\">\r\n        <table className=\"vertical-table\">\r\n          <tbody>\r\n            {data.map((item, key) => (\r\n              <tr key={key}>\r\n                <td>{item.key}</td>\r\n                <td>{item.data}</td>\r\n              </tr>\r\n            ))}\r\n            <tr>\r\n              <td>ИТОГО</td>\r\n              <td>{summary}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"widget-table\">\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            {data.map((item, key) => (\r\n              <th key={key}>{item.key}</th>\r\n            ))}\r\n            <th>ИТОГО</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            {data.map((item, key) => (\r\n              <td key={key}>{item.data}</td>\r\n            ))}\r\n            <td>{summary}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DynamicTableWidget;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { PieChart, PieArcSeries, PieArcLabel, DiscreteLegend, DiscreteLegendEntry } from \"reaviz\";\r\nimport Spinner from \"./Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\n\r\nconst DynamicDonutChart = ({ widget, width = 300, height = 300 }) => {\r\n  const [data, setData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    const charts = await getWidgetData(widget.source, widget.filter);\r\n    if (charts.status === 200) {\r\n      setData(charts.data.data);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  if (data.length === 0) return <EmptyWidget />;\r\n\r\n  // Формируем легенду\r\n  const entries = data.map((item, i) => {\r\n    return (\r\n      <DiscreteLegendEntry\r\n        key={i}\r\n        className=\"discrete__legend-item\"\r\n        label={`${item.key} (${item.data})`}\r\n        //color={colorScheme(item, i)}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <PieChart\r\n        height={height}\r\n        width={width}\r\n        data={data}\r\n        series={\r\n          <PieArcSeries\r\n            doughnut={true}\r\n            colorScheme={widget.options.colorScheme}\r\n            label={<PieArcLabel fontSize={12} fontFill=\"#000000\" />}\r\n          />\r\n        }\r\n      />\r\n      {widget.options?.legend && (\r\n        <DiscreteLegend\r\n          className=\"discrete__legend\"\r\n          orientation={widget.options.legend}\r\n          entries={entries}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DynamicDonutChart;\r\n","import React from \"react\";\r\n\r\nimport { BAR, PIE, LINE, AREA, TABLE, DONUT } from \"./widgetTypes\";\r\n\r\nimport DynamicBarChart from \"./widgets/DynamicBarChart\";\r\nimport DynamicPieChart from \"./widgets/DynamicPieChart\";\r\nimport DynamicAreaChart from \"./widgets/DynamicAreaChart\";\r\nimport DynamicLineChart from \"./widgets/DynamicLineChart\";\r\nimport DynamicTableWidget from \"./widgets/DynamicTableWidget\";\r\nimport DynamicDonutChart from \"./widgets/DynamicDonutChart\";\r\n\r\nconst WidgetDiagram = ({ widget, width = 360, height = 300 }) => {\r\n  switch (widget.type) {\r\n    case BAR:\r\n      return <DynamicBarChart width={width} height={height} widget={widget} />;\r\n    case PIE:\r\n      return <DynamicPieChart width={width} height={height} widget={widget} />;\r\n    case DONUT:\r\n      return <DynamicDonutChart width={width} height={height} widget={widget} />;\r\n    case LINE:\r\n      return <DynamicLineChart width={width} height={height} widget={widget} />;\r\n    case TABLE:\r\n      return <DynamicTableWidget width={width} height={height} widget={widget} />;\r\n    case AREA:\r\n      return <DynamicAreaChart width={width} height={height} widget={widget} />;\r\n    default:\r\n      return <></>;\r\n  }\r\n};\r\n\r\nexport default WidgetDiagram;\r\n","export default [\r\n  { name: \"Информация о шаблонах\", url: \"/admin/ajax/analytics\" },\r\n  { name: \"Пустые данные\", url: \"/admin/ajax/analytics/none\" },\r\n];\r\n","import React, { useState } from \"react\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { schemes } from \"reaviz\";\r\n\r\nimport dataSources from \"./dataSources\";\r\nimport { TABLE, widgetTypes } from \"./widgetTypes\";\r\nimport WidgetDiagram from \"./WidgetDiagram\";\r\n\r\nconst EditWidget = ({ diagram, onSave, show, setShow }) => {\r\n  const [widget, setWidget] = useState(diagram);\r\n\r\n  const handleSave = () => {\r\n    onSave(widget);\r\n    setShow(false);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={() => setShow(false)} animation={false} size=\"lg\" centered>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Редактировать виджет #{widget.id}</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row>\r\n          <Col>\r\n            <Form>\r\n              <Form.Group controlId=\"formGroupEmail\">\r\n                <Form.Label>Название виджета</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={widget.name}\r\n                  onChange={(e) => setWidget({ ...widget, name: e.target.value })}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Тип виджета</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.type}\r\n                  onChange={(e) => setWidget({ ...widget, type: e.target.value })}\r\n                >\r\n                  {widgetTypes.map(({ name, value }, key) => (\r\n                    <option key={key} value={value}>\r\n                      {name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Цветовая схема</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.options.colorScheme}\r\n                  onChange={(e) =>\r\n                    setWidget({\r\n                      ...widget,\r\n                      options: { ...widget.options, colorScheme: e.target.value },\r\n                    })\r\n                  }\r\n                >\r\n                  {Object.keys(schemes).map((name, key) => (\r\n                    <option key={key}>{name}</option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Источник данных</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.source}\r\n                  onChange={(e) => setWidget({ ...widget, source: e.target.value })}\r\n                  required\r\n                >\r\n                  <option value=\"\">Выберите источник</option>\r\n                  {dataSources.map(({ name, url }, key) => (\r\n                    <option key={key} value={url}>\r\n                      {name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              {widget.type === TABLE && (\r\n                <Form.Group>\r\n                  <Form.Check\r\n                    type=\"checkbox\"\r\n                    checked={widget.options.isVertical}\r\n                    label=\"Вертикальная таблица\"\r\n                    onChange={(e) =>\r\n                      setWidget({\r\n                        ...widget,\r\n                        options: { ...widget.options, isVertical: e.target.checked },\r\n                      })\r\n                    }\r\n                  />\r\n                </Form.Group>\r\n              )}\r\n            </Form>\r\n          </Col>\r\n          <Col>\r\n            <Row>\r\n              <div className=\"widget-placeholder\">\r\n                {widget && <WidgetDiagram widget={widget} width={400} />}\r\n              </div>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={() => setShow(false)}>\r\n          Закрыть\r\n        </Button>\r\n        <Button variant=\"warning\" onClick={handleSave} disabled={widget.name === \"\"}>\r\n          Сохранить изменения\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default EditWidget;\r\n","import React, { useState } from \"react\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { schemes } from \"reaviz\";\r\n\r\nimport dataSources from \"./dataSources\";\r\nimport { TABLE, widgetTypes } from \"./widgetTypes\";\r\nimport WidgetDiagram from \"./WidgetDiagram\";\r\n\r\nconst WidgetParams = ({ show, setShow, onSave }) => {\r\n  const [widget, setWidget] = useState({\r\n    name: \"\",\r\n    source: \"\",\r\n    type: TABLE,\r\n    options: {\r\n      colorScheme: \"Set1\",\r\n    },\r\n  });\r\n\r\n  const handleSave = () => {\r\n    // Скрываем модальку\r\n    setShow(false);\r\n    onSave(widget);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={() => setShow(false)} animation={false} size=\"lg\" centered>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Добавить виджет</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row>\r\n          <Col>\r\n            <Form>\r\n              <Form.Group controlId=\"formGroupEmail\">\r\n                <Form.Label>Название виджета</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={widget.name}\r\n                  onChange={(e) => setWidget({ ...widget, name: e.target.value })}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Тип виджета</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.type}\r\n                  onChange={(e) => setWidget({ ...widget, type: e.target.value })}\r\n                >\r\n                  {widgetTypes.map(({ name, value }, key) => (\r\n                    <option key={key} value={value}>\r\n                      {name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Цветовая схема</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.options.colorScheme}\r\n                  onChange={(e) =>\r\n                    setWidget({\r\n                      ...widget,\r\n                      options: { ...widget.options, colorScheme: e.target.value },\r\n                    })\r\n                  }\r\n                >\r\n                  {Object.keys(schemes).map((name, key) => (\r\n                    <option key={key}>{name}</option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Источник данных</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.source}\r\n                  onChange={(e) => setWidget({ ...widget, source: e.target.value })}\r\n                  required\r\n                >\r\n                  <option value=\"\">Выберите источник</option>\r\n                  {dataSources.map(({ name, url }, key) => (\r\n                    <option key={key} value={url}>\r\n                      {name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              {widget.type === TABLE && (\r\n                <Form.Group>\r\n                  <Form.Check\r\n                    type=\"checkbox\"\r\n                    checked={widget.options?.isVertical}\r\n                    label=\"Вертикальная таблица\"\r\n                    onChange={(e) =>\r\n                      setWidget({\r\n                        ...widget,\r\n                        options: { ...widget.options, isVertical: e.target.checked },\r\n                      })\r\n                    }\r\n                  />\r\n                </Form.Group>\r\n              )}\r\n            </Form>\r\n          </Col>\r\n          <Col>\r\n            <Row>\r\n              <div className=\"widget-placeholder\">\r\n                {widget.source && <WidgetDiagram widget={widget} width={400} />}\r\n              </div>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={() => setShow(false)}>\r\n          Закрыть\r\n        </Button>\r\n        <Button variant=\"warning\" onClick={handleSave} disabled={widget.name === \"\"}>\r\n          Сохранить изменения\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default WidgetParams;\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport { schemes } from \"reaviz\";\r\nimport axios from \"axios\";\r\n\r\nimport GearFill from \"react-bootstrap-icons/dist/icons/gear-fill\";\r\nimport TrashFill from \"react-bootstrap-icons/dist/icons/trash-fill\";\r\n\r\nimport WidgetDiagram from \"./dashboard/WidgetDiagram\";\r\nimport EditWidget from \"./dashboard/EditWidget\";\r\nimport AddWidget from \"./dashboard/AddWidget\";\r\n\r\nfunction Dashboard() {\r\n  const [diagrams, setDiagrams] = useState([]);\r\n\r\n  const [showEditForm, setShowEditForm] = useState(false);\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [selectedWidget, setSelectedWidget] = useState({});\r\n\r\n  /*\r\n   * Показываем окно настроек\r\n   */\r\n  const showSettingsModal = (widget) => {\r\n    setSelectedWidget(widget);\r\n    setShowEditForm(true);\r\n  };\r\n\r\n  /*\r\n   * Удаляем диаграмму\r\n   */\r\n  const removeDiagram = ({ id }) => {\r\n    // Ищем индекс\r\n    const index = diagrams.findIndex((item) => item.id === id);\r\n    // Удаляем локально\r\n    setDiagrams(diagrams.filter((item, i) => (i !== index ? item : null)));\r\n    // Удаляем с сервера\r\n    axios.delete(\"/admin/ajax/diagrams/\" + id);\r\n  };\r\n\r\n  /*\r\n   * Добавляем диаграмму\r\n   */\r\n  const addDiagram = async (widget) => {\r\n    // Добавляем на сервер\r\n    const data = {\r\n      title: widget.name,\r\n      settings: JSON.stringify({ ...widget }),\r\n    };\r\n    const req = await axios.post(\"/admin/ajax/diagrams\", data);\r\n    if (req.status === 200 && typeof req.data !== \"string\") {\r\n      // Добавляем в локальный стейт\r\n      setDiagrams([...diagrams, { ...widget, id: req.data.id }]);\r\n    }\r\n  };\r\n\r\n  /*\r\n   * Обновляем диаграмму\r\n   */\r\n  const updateDiagram = (widget) => {\r\n    // Находим индекс виджета по id\r\n    const itemIndex = diagrams.findIndex((item) => item.id === widget.id);\r\n    // Обновляем локальные настройки\r\n    setDiagrams(diagrams.map((item, index) => (itemIndex === index ? widget : item)));\r\n    // Формируем данные для БД\r\n    const data = {\r\n      title: widget.name,\r\n      settings: JSON.stringify({ ...widget }),\r\n    };\r\n    // Отправляем новые настройки на сервер\r\n    axios.put(\"/admin/ajax/diagrams/\" + widget.id, data);\r\n  };\r\n\r\n  /*\r\n   * Получаем список диаграмм\r\n   */\r\n  const getDiagrams = useCallback(async () => {\r\n    const req = await axios(\"/admin/ajax/diagrams\");\r\n    if (req.status === 200 && typeof req.data !== \"string\") {\r\n      // Приводим результат запроса к соотв. виду.\r\n      const diagrams = req.data.map((item) => {\r\n        const settings = JSON.parse(item.settings);\r\n        return { id: item.id, ...settings };\r\n      });\r\n      // Добавляем в локальный стейт\r\n      setDiagrams(diagrams);\r\n    }\r\n  }, [setDiagrams]);\r\n\r\n  /*\r\n   * Обновляем диаграммы при монтировании\r\n   */\r\n  useEffect(() => {\r\n    getDiagrams();\r\n  }, [getDiagrams]);\r\n\r\n  return (\r\n    <div className=\"admin-templates admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n            Analytics\r\n          </a>\r\n        </div>\r\n        <button onClick={() => setShowAddForm(true)} className=\"btn\">\r\n          Add Widget\r\n        </button>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <div className=\"charts\">\r\n          {diagrams.map((widget) => (\r\n            <div key={widget.id} className=\"card\" style={{ width: widget.width }}>\r\n              <div className=\"card-header\">\r\n                <div className=\"card-header__name\">{widget.name}</div>\r\n                <div className=\"card-header__buttons d-print-none\">\r\n                  <button\r\n                    className=\"d-none d-sm-inline-block\"\r\n                    type=\"button\"\r\n                    title=\"Настроить виджет\"\r\n                    onClick={() => showSettingsModal(widget)}\r\n                  >\r\n                    <GearFill color=\"#8E94AA\" />\r\n                  </button>\r\n                  <button\r\n                    className=\"d-none d-sm-inline-block\"\r\n                    type=\"button\"\r\n                    title=\"Удалить виджет\"\r\n                    onClick={() => removeDiagram(widget)}\r\n                  >\r\n                    <TrashFill color=\"#8E94AA\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <WidgetDiagram widget={widget} width={360} />\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {showEditForm && (\r\n          <EditWidget\r\n            show={showEditForm}\r\n            setShow={setShowEditForm}\r\n            diagram={selectedWidget}\r\n            onSave={updateDiagram}\r\n          />\r\n        )}\r\n        {showAddForm && (\r\n          <AddWidget show={showAddForm} setShow={setShowAddForm} onSave={addDiagram} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, {Component} from \"react\";\r\n\r\n\r\nexport default class Plugins extends Component{\r\n  render(){\r\n    return <div>Plugins</div>;\r\n  }\r\n\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setModalSettings, toggleModal } from \"../js/store/modal-settings/actions\";\r\n\r\nimport AdminTable from \"./AdminTable\";\r\n\r\nfunction Reports() {\r\n  const dispatch = useDispatch();\r\n  const [reports, setReports] = useState([]);\r\n\r\n  const openPreview = (item) => {\r\n    window.open(item.preview, \"_blank\");\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"Name\",\r\n      url: true,\r\n      target: \"_blank\",\r\n    },\r\n    {\r\n      name: \"description\",\r\n      title: \"Description\",\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"Updated At\",\r\n    },\r\n    {\r\n      name: \"preview\",\r\n      title: \"Preview\",\r\n      is_button: true,\r\n      button: {\r\n        class: \"\",\r\n        function: openPreview,\r\n        title: \"Preview\",\r\n      },\r\n    },\r\n  ];\r\n\r\n  const showModal = () => {\r\n    const modalSettings = {\r\n      title: \"Add New Report\",\r\n      submitButton: \"Add\",\r\n      active: true,\r\n      submit: function(formData) {\r\n        return axios.post(\"/admin/ajax/reports\", formData);\r\n      },\r\n      fields: [\r\n        {\r\n          name: \"name\",\r\n          label: \"Report Name\",\r\n          required: true,\r\n        },\r\n        {\r\n          name: \"description\",\r\n          label: \"Description\",\r\n          required: true,\r\n        },\r\n      ],\r\n      success: function(res) {\r\n        setReports([...reports, res.data]);\r\n        dispatch(toggleModal());\r\n      },\r\n    };\r\n    dispatch(setModalSettings(modalSettings));\r\n  };\r\n\r\n  // Функция получения отчетов из БД\r\n  const getReports = async () => {\r\n    const req = await axios(\"/admin/ajax/reports\");\r\n    if (req.status === 200 && typeof req.data !== \"string\") {\r\n      setReports(req.data);\r\n    }\r\n  };\r\n\r\n  // Получаем отчеты при рендере компонента\r\n  useEffect(() => {\r\n    getReports();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"admin-tables admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n            Reports\r\n          </a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">All Reports</span>\r\n        </div>\r\n        <button onClick={showModal} className=\"btn\">\r\n          Add New\r\n        </button>\r\n        <div className=\"admin-filters\">\r\n          <span className=\"admin-filters__current\">All ({reports.length || \"0\"})</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        {reports.length > 0 && <AdminTable columns={columns} rows={reports} />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Reports;\r\n","import React, {Component} from \"react\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\n/*\r\nimport store from \"../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../js/store/modal-settings/actions\";\r\nimport {generateId, redirect} from \"../js/helpers\";*/\r\n\r\nexport default class Tables extends Component{\r\n\t\r\n\tconstructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                editUrl: \"/admin/tables\",\r\n              tag: 'Link',\r\n                modules: [],\r\n                columns: [\r\n                    {\r\n                        name: 'title',\r\n                        title: 'Title',\r\n                        url: true,\r\n                      editUrl: true,\r\n                      tag : 'Link',\r\n                    },\r\n                    {\r\n                        name: 'name',\r\n                        title: 'Name',\r\n                        url: true,\r\n                      editUrl: true,\r\n                      tag : 'Link',\r\n                    },\r\n                    {\r\n                        name: 'description',\r\n                        title: 'Description',\r\n                    },\r\n                    {\r\n                        name: 'setting',\r\n                        title: 'Setting',\r\n                        url: true,\r\n                    },\r\n                    {\r\n                        name: 'updated_at',\r\n                        title: 'Updated At',\r\n                    },\r\n\t\t]\r\n            };\r\n            \r\n            this.resource = new Resource({\r\n                route: '/admin/ajax/tables'\r\n            });\r\n\t\t\r\n\t}\r\n\t\r\n\tasync componentDidMount(){\r\n            this.resource.getAll().then(modules=>{\r\n                this.setModules(modules);\r\n            });\r\n        }\r\n\t\r\n\tsetModules(modules){\r\n            console.log(modules);\r\n            let urlModules = modules.map((row) => {\r\n                row.editUrl = \"/admin/tables/edit/\" + row.id;\r\n                return row;\r\n            });\r\n            \r\n            console.log(urlModules);\r\n            this.setState((state) => {\r\n\t\treturn {modules: urlModules};\r\n            });\r\n        }\r\n\t\r\n\trender(){\r\n            return <div className=\"admin-tables admin-page\">\r\n                <div className=\"admin-heading\">\r\n                    <div className=\"admin-breadcrumbs\">\r\n                        <a className=\"admin-breadcrumbs__link\" href=\"#\">Tables</a>\r\n                        <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                        <span className=\"admin-breadcrumbs__current\">All Tables</span>\r\n                    </div>\r\n                    <Link className=\"btn\" to=\"/admin/tables/add\">Add New</Link>\r\n                    <div className=\"admin-filters\">\r\n                        <span className=\"admin-filters__current\">All ({this.state.modules.length || '0'})</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"admin-content\">\r\n                    <AdminTable columns={this.state.columns} rows={this.state.modules}/>\r\n                </div>\r\n            </div>;\r\n\t}\r\n\t\t\r\n    \r\n}\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"7\" height=\"10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M1 8.5L5 5 1 1\" stroke=\"#343B4C\" strokeWidth=\"1.5\" /></svg>);","import React, {Component} from \"react\";\r\nimport Left from \"../svgs/left.svg\";\r\nimport Right from \"../svgs/right.svg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"../sass/components/admin-pagination.scss\"\r\n\r\nclass Pagination extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      currentPage: 1,\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Задает текущую страницу\r\n   * @param num\r\n   */\r\n  setCurrentPage(num) {\r\n    num = parseInt(num) || 1;\r\n    if(num <= 1) {\r\n      this.setState({currentPage: 1});\r\n      this.props.changePage(1);\r\n      return;\r\n    }\r\n    if(num >= this.props.pageCount) {\r\n      this.setState({currentPage: this.props.pageCount});\r\n      this.props.changePage(this.props.pageCount);\r\n      return;\r\n    }\r\n    this.setState({currentPage: num});\r\n    this.props.changePage(num)\r\n\r\n  }\r\n\r\n  /**\r\n   * надо проверить, чтобы при обновлении props.pageCount state.currentPage было меньше\r\n   */\r\n  componentDidUpdate(){\r\n\r\n    if(this.state.currentPage > this.props.pageCount){\r\n      this.setCurrentPage(this.props.currentPage || this.props.pageCount);\r\n    }\r\n  }\r\n  render(){\r\n    return<div className=\"pagination\">\r\n      <div className=\"version\">\r\n        <p className=\"pagination__version\">\r\n          {/*App creating*/}\r\n          {/*with*/}\r\n          {/*<a className=\"pagination__link\"*/}\r\n             {/*target=\"_blank\"*/}\r\n             {/*href=\"https://altrp.com/\">Altrp</a>*/}\r\n          {/*/*/}\r\n          Version {altrp_version} </p>\r\n      </div>\r\n      <div className=\"pagination__buttons\">\r\n        <p className=\"pagination__text\">{ this.props.itemsCount} Items</p>\r\n        <div className={this.state.currentPage <= 1 ? \" pagination__disabled pagination__toStart pagination__move\" : \"pagination__move pagination__toStart\"}\r\n        onClick={()=> this.setCurrentPage(1) }>\r\n          <Right className=\"right__arrow\" />\r\n          <Right className=\"right__arrow\" />\r\n        </div>\r\n        <div className={this.state.currentPage <= 1 ? \"pagination__disabled pagination__prev pagination__move\" : \"pagination__move pagination__prev\" } \r\n        onClick={()=> this.setCurrentPage(--this.state.currentPage) } ><Right className=\"right__arrow\" /> </div>\r\n        <input type=\"text\"\r\n               className=\"pagination__indicator\"\r\n               value={this.state.currentPage || 1}\r\n               onChange={e=> this.setCurrentPage(e.target.value.replace(/[^0-9]/g, '') || 1) } />\r\n        <div className=\"pagination__map\">of {this.props.pageCount}</div>\r\n        <div className={this.state.currentPage >= this.props.pageCount ? \"pagination__disabled pagination__next pagination__move\" : \"pagination__move pagination__next\"} onClick={()=>{\r\nthis.setCurrentPage(++this.state.currentPage);\r\n        }}> <Right/> </div>\r\n        <div className={this.state.currentPage >= this.props.pageCount ? \"pagination__disabled pagination__move\" : \"pagination__move\"}\r\n        onClick={()=> this.setCurrentPage(this.props.pageCount) }>\r\n          <Right/> <Right/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Pagination","import React, {Component} from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport store from \"../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../js/store/modal-settings/actions\";\r\nimport { generateId, redirect, objectDeepCleaning } from \"../js/helpers\";\r\nimport Pagination from \"./Pagination\";\r\n\r\n\r\nexport default class Templates extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      templates: [],\r\n      allTemplates: [],\r\n      templateAreas: [],\r\n      activeTemplateArea: {},\r\n      pageCount: 1,\r\n      currentPage: 1,\r\n    };\r\n    this.resource = new Resource({\r\n      route: '/admin/ajax/templates'\r\n    });\r\n    this.templateTypesResource = new Resource({\r\n      route: '/admin/ajax/areas'\r\n    });\r\n    this.onClick = this.onClick.bind(this);\r\n    this.changePage = this.changePage.bind(this);\r\n    this.changeActiveArea = this.changeActiveArea.bind(this);\r\n    this.generateTemplateJSON = this.generateTemplateJSON.bind(this);\r\n  }\r\n  changeActiveArea(e){\r\n    let areaId = parseInt(e.target.dataset.area);\r\n    let activeTemplateArea = {};\r\n    this.state.templateAreas.forEach(area=>{\r\n      if(area.id === areaId){\r\n        activeTemplateArea = area;\r\n      }\r\n    });\r\n    this.setActiveArea(activeTemplateArea)\r\n  }\r\n\r\n  /**\r\n   * Смена текущей страницы\r\n   */\r\n  changePage(currentPage){\r\n    this.updateTemplates(currentPage, this.state.activeTemplateArea);\r\n    this.setState(state => ({ ...state, currentPage}));\r\n  }\r\n\r\n  /**\r\n   * Сменить текущую область шаблона (вкладка)\r\n   * @param activeTemplateArea\r\n   */\r\n  setActiveArea(activeTemplateArea){\r\n    this.updateTemplates(1, activeTemplateArea);\r\n    this.setState(state=>{\r\n      return{...state, activeTemplateArea};\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Метод для обновления списка шаблонов\r\n   * @param currentPage\r\n   * @param activeTemplateArea\r\n   */\r\n  updateTemplates(currentPage, activeTemplateArea){\r\n    this.resource.getQueried({\r\n      area: activeTemplateArea.name,\r\n      page: currentPage,\r\n      pageSize: 10,\r\n    }).then(res=>{\r\n      this.setState(state=> {\r\n        return {\r\n          ...state,\r\n          pageCount: res.pageCount,\r\n          templates: res.templates\r\n        }\r\n      });\r\n    });\r\n  }\r\n  /** @function generateTemplateJSON\r\n  * Генерируем контент файла template в формате JSON\r\n  * @param {object} template Данные, получаемые с сервера\r\n  * @return {strig} Строка в формате JSON\r\n  */\r\n  generateTemplateJSON(template) {\r\n    const data = objectDeepCleaning(JSON.parse(template.data))\r\n    const json = JSON.stringify({ \r\n      template_area: this.state.activeTemplateArea.name, \r\n      data\r\n    });\r\n    console.log(JSON.parse(json))\r\n    return json;\r\n  }\r\n  /** @function downloadJSONFile\r\n  * Скачиваем файл\r\n  * @param {object} template Данные, получаемые с сервера\r\n  */\r\n  downloadJSONFile(template) {\r\n    const element = document.createElement(\"a\");\r\n    const file = new Blob([this.generateTemplateJSON(template)], { type: 'text/plain' });\r\n    element.href = URL.createObjectURL(file);\r\n    element.download = `${template.name}.json`;\r\n    document.body.appendChild(element); // Required for this to work in FireFox\r\n    element.click();\r\n  }\r\n  async componentDidMount(){\r\n    let templateAreas = await this.templateTypesResource.getAll();\r\n    this.setActiveArea(templateAreas[0]);\r\n    this.setState(state=>{\r\n      return{...state,templateAreas}\r\n    });\r\n    this.updateTemplates(this.state.currentPage, this.state.activeTemplateArea)\r\n  }\r\n  onClick(){\r\n    let modalSettings = {\r\n      title: 'Add New Template',\r\n      submitButton: 'Add',\r\n      submit: function(formData){\r\n        let data = {\r\n          name: formData.title,\r\n          title: formData.title,\r\n          area: formData.area,\r\n          data:{\r\n            children: [],\r\n            id: generateId(),\r\n            name: \"root-element\",\r\n            settings: {},\r\n            type: \"root-element\",\r\n          }\r\n        };\r\n        return (new Resource({route:'/admin/ajax/templates'})).post(data)\r\n      },\r\n      fields: [\r\n        {\r\n          name: 'title',\r\n          label: 'Template Name',\r\n          required: true,\r\n        },\r\n        {\r\n          name: 'area',\r\n          label: 'Area Name',\r\n          required: true,\r\n          type: 'select',\r\n          options: this.getAreasOptions(),\r\n          defaultValue: this.state.activeTemplateArea.id\r\n        }\r\n      ],\r\n      success: function(res){\r\n        if(res.redirect && res.url){\r\n          redirect(res.url)\r\n        }\r\n      },\r\n      active: true,\r\n    };\r\n    store.dispatch(setModalSettings(modalSettings));\r\n  }\r\n  getAreasOptions(){\r\n    return this.state.templateAreas;\r\n  }\r\n  setTemplates(templates){\r\n    let allTemplates = templates;\r\n    templates = templates.filter(template=>{\r\n      return template.area === this.state.activeTemplateArea.name;\r\n    });\r\n    this.setState(state=>{\r\n      return{...state, templates, allTemplates};\r\n    });\r\n  }\r\n  render(){\r\n    return <div className=\"admin-templates admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">Templates</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">All Templates</span>\r\n        </div>\r\n        <button onClick={this.onClick} className=\"btn\">Add New</button>\r\n        <div className=\"admin-filters\">\r\n          <span className=\"admin-filters__current\">All ({this.state.allTemplates.length || ''})</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <ul className=\"nav nav-pills admin-pills\">\r\n          {this.state.templateAreas.map(area=>{\r\n            let tabClasses = ['nav-link',];\r\n            if(this.state.activeTemplateArea.name === area.name){\r\n              tabClasses.push('active');\r\n            }\r\n            return<li className=\"nav-item\" key={area.id}>\r\n              <button className={tabClasses.join(' ')}\r\n                      onClick={this.changeActiveArea}\r\n                      data-area={area.id}>{area.title}</button>\r\n            </li>\r\n          })}\r\n        </ul>\r\n        <AdminTable columns={[\r\n          {\r\n            name: 'title',\r\n            title: 'Title',\r\n            url: true,\r\n            target: '_blank',\r\n          },\r\n          {\r\n            name: 'author',\r\n            title: 'Author',\r\n          },\r\n          ]}\r\n          rows={this.state.templates}\r\n          quickActions={[{ tag: 'a', props: {\r\n            href: '/admin/editor?template_id=:id',\r\n            target: '_blank',\r\n            // className: ''\r\n            },\r\n            title: 'Edit'\r\n          }, {\r\n            tag: 'button',\r\n            route: '/admin/ajax/templates/:id/reviews',\r\n            method: 'delete',\r\n            // className: ''\r\n            title: 'Clear History'\r\n          }, {\r\n            tag: 'button',\r\n            route: '/admin/ajax/templates',\r\n            method: 'get',\r\n            after: response => this.downloadJSONFile(response),\r\n            title: 'Export'\r\n          }, {\r\n            tag: 'button',\r\n            route: '/admin/ajax/templates/:id',\r\n            method: 'delete',\r\n            confirm: 'Are You Sure?',\r\n            after: () => this.updateTemplates(this.state.currentPage, this.state.activeTemplateArea),\r\n            className: 'quick-action-menu__item_danger',\r\n            title: 'Trash'\r\n          }]}\r\n        />\r\n        <Pagination pageCount={this.state.pageCount || 1}\r\n                    currentPage={this.state.currentPage}\r\n                    changePage={this.changePage}\r\n                    itemsCount={this.state.templates.length }\r\n        />\r\n      </div>\r\n    </div>;\r\n  }\r\n\r\n}\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"10\" height=\"11\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5.583 5.354L9.23 1.707 8.523 1 4.9 4.622 1.753 1.024 1 1.683l3.212 3.67L1 9.025l.753.659L4.9 6.085l3.622 3.622L9.23 9 5.583 5.354z\" fill=\"#343B4C\" /><path d=\"M9.23 1.707l.177.177.176-.177-.176-.177-.177.177zM5.583 5.354l-.176-.177-.177.177.177.176.176-.176zM8.523 1L8.7.823 8.523.646l-.177.177.177.177zM4.9 4.622l-.188.165.175.2.19-.188-.177-.177zM1.753 1.024L1.94.86 1.776.672l-.188.164.165.188zM1 1.683l-.165-.188-.188.164.165.188L1 1.683zm3.212 3.67l.188.165.144-.164-.144-.165-.188.165zM1 9.025L.812 8.86l-.165.188.188.164L1 9.024zm.753.659l-.165.188.188.165.165-.189-.188-.164zM4.9 6.085l.176-.177-.189-.189-.175.201.188.165zm3.622 3.622l-.177.177.177.177.177-.177-.177-.177zM9.23 9l.177.177L9.583 9l-.176-.177L9.23 9zm-.177-7.47L5.407 5.177l.353.353 3.647-3.646-.354-.354zm-.707-.353l.707.707.354-.354L8.7.823l-.354.354zM5.077 4.799L8.7 1.177 8.346.823 4.724 4.445l.353.354zm-3.513-3.61l3.149 3.598.376-.33L1.94.86l-.377.329zm-.4.682l.753-.659-.33-.376-.752.659.33.376zM4.4 5.189l-3.212-3.67-.376.328 3.212 3.671.376-.33zm-.376 0L.812 8.859l.376.33L4.4 5.519l-.376-.33zM.835 9.212l.753.659.33-.376-.753-.659-.33.376zm1.106.635L5.089 6.25l-.377-.33-3.148 3.598.377.33zm2.783-3.585l3.622 3.622.354-.354-3.623-3.622-.353.354zM8.7 9.884l.707-.707-.354-.354-.707.707.354.354zm.707-1.06L5.76 5.176l-.353.353 3.646 3.647.354-.354z\" fill=\"#000\" /></svg>);","import {connect} from \"react-redux\";\r\nimport React, {Component} from \"react\";\r\nimport TimesIcon from '../svgs/times.svg';\r\nimport store from \"../js/store/store\";\r\nimport {toggleModal} from \"../js/store/modal-settings/actions\";\r\n\r\n\r\nclass AdminModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n    this.changeValue = this.changeValue.bind(this);\r\n    this.storeSubscribe = this.storeSubscribe.bind(this);\r\n    this.submit = this.submit.bind(this);\r\n    this.formData = {};\r\n    props.fields.forEach(field=>{\r\n      if(field.defaultValue){\r\n        this.formData[field.name] = field.defaultValue;\r\n      }\r\n    });\r\n    this.state = {\r\n      errors: [],\r\n    };\r\n    store.subscribe(this.storeSubscribe);\r\n  }\r\n  storeSubscribe(){\r\n    store.getState().modalSettings.fields.forEach(field=>{\r\n      if(field.defaultValue){\r\n        this.formData[field.name] = field.defaultValue;\r\n      }\r\n    });\r\n  }\r\n  submit() {\r\n    let valid = true;\r\n    let errors = this.props.fields.map(field => {\r\n      if (field.required &&\r\n          !this.formData[field.name]) {\r\n        valid = false;\r\n        return field.errorMessage || `Need complete this field`;\r\n      }\r\n    });\r\n    if (! valid) {\r\n      this.setState(state => {\r\n        return {...state, errors}\r\n      });\r\n      return;\r\n    }\r\n    this.props.submit(this.formData).then(this.props.success)\r\n  }\r\n\r\n  changeValue(e) {\r\n    let target = e.target;\r\n    this.formData[target.dataset.field] = target.value;\r\n    let errors = [...this.state.errors];\r\n    errors[target.dataset.error] = '';\r\n    this.setState(state => {\r\n      return {...state, errors}\r\n    });\r\n  }\r\n\r\n  toggleModal() {\r\n    store.dispatch(toggleModal());\r\n  }\r\n\r\n  render() {\r\n    let modalClasses = 'admin-modal';\r\n    if (this.props.active) {\r\n      modalClasses += ' admin-modal_active';\r\n    }\r\n    return <div className={modalClasses}>\r\n      <div className=\"admin-modal__bg\" onClick={this.toggleModal}/>\r\n      <div className=\"admin-modal-content\">\r\n        <button className=\"admin-modal__close\" onClick={this.toggleModal}><TimesIcon className=\"icon\"/></button>\r\n        <div className=\"admin-caption\">{this.props.title}</div>\r\n        <div className=\"admin-modal-form form\">\r\n          {\r\n            this.props.fields.map((field, idx) => <label className=\"form-label\"\r\n                                                         data-field={field.name}\r\n                                                         key={field.name}>{field.label}\r\n              {(field.type !== 'select') ?\r\n                  <input type={field.type || 'text'}\r\n                         className=\"form__input\"\r\n                         data-field={field.name}\r\n                         data-error={idx}\r\n                         defaultValue={field.defaultValue || ''}\r\n                         onChange={this.changeValue}/> :\r\n                  <select className=\"form__input\"\r\n                          data-field={field.name}\r\n                          data-error={idx}\r\n                          defaultValue={field.defaultValue || ''}\r\n                          onChange={this.changeValue}>\r\n                    <option value=\"\"/>\r\n                    {\r\n                      field.options.map(option =>\r\n                          <option key={option.id}\r\n                                  value={option.id}\r\n                                  children={option.title || option.name}/>)\r\n                    }\r\n                  </select>\r\n              }\r\n              {this.state.errors[idx] ? <span className=\"form-label__error\">{this.state.errors[idx]}</span> : ''}\r\n            </label>)\r\n          }\r\n          <div className=\"form-bottom\">\r\n            <button className=\"btn btn_success\" onClick={this.submit}>{this.props.submitButton}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ...state.modalSettings\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AdminModal);\r\n","import React, { Component } from \"react\";\r\nimport TimesIcon from '../svgs/times.svg';\r\n\r\nclass AdminModal2 extends Component {\r\n  render() {\r\n    const { closeHandler, children } = this.props;\r\n\r\n    return ReactDOM.createPortal(<div className=\"admin-modal admin-modal_active\">\r\n      <div className=\"admin-modal__bg\" onClick={closeHandler} />\r\n      <div className=\"admin-modal-content\">\r\n        <button className=\"admin-modal__close\" onClick={closeHandler}><TimesIcon className=\"icon\" /></button>\r\n        {children}\r\n      </div>\r\n    </div>, document.body)\r\n  }\r\n}\r\n\r\nexport default AdminModal2;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass PageDataSourceForm extends Component {\r\n  state = {\r\n    source_id: '',\r\n    alias: '',\r\n    priority: 100,\r\n    parameters: '',\r\n    dataSourceOptions: [],\r\n    ...this.props.dataSource\r\n  };\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const resource = new Resource({ route: 'http://altrp.nz/admin/ajax/data_sources' });\r\n    const { data_sources } = await resource.getAll();\r\n    this.setState({ dataSourceOptions: data_sources })\r\n  }\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    const { id } = this.props.match.params;\r\n    const resource = new Resource({ route: `http://altrp.nz/admin/ajax/page_data_sources` });\r\n    const data = { ...this.state };\r\n    delete data.dataSourceOptions;\r\n    if (this.props.dataSource) {\r\n        resource.put(data.id, data);\r\n    } else {\r\n      resource.post({ page_id: id, ...data });\r\n    }\r\n    this.props.updateHandler();\r\n  };\r\n\r\n  render() {\r\n    const { source_id, alias, priority, parameters, dataSourceOptions } = this.state;\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"source_id\">Data Source</label>\r\n        <select id=\"source_id\"\r\n          name=\"source_id\"\r\n          value={source_id}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\" />\r\n          {dataSourceOptions.map(({ id, name }) => <option value={id} key={id}>{name}</option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"alias\">Alias</label>\r\n        <input type=\"text\" id=\"alias\" required\r\n          name=\"alias\"\r\n          value={alias}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"priority\">Priority</label>\r\n        <input type=\"number\" id=\"priority\" required\r\n          name=\"priority\"\r\n          value={priority}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Parameters\r\n            <textarea  name=\"parameters\"\r\n            value={parameters}\r\n            onChange={this.changeHandler}\r\n            className=\"form-control\"\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(PageDataSourceForm);","import React, { Component } from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport { Link, Redirect, withRouter } from 'react-router-dom';\r\nimport AltrpSelect from \"./altrp-select/AltrpSelect\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport AdminModal2 from \"./AdminModal2\";\r\nimport PageDataSourceForm from \"./pages/PageDataSourceForm\";\r\n\r\nconst columns = [\r\n  {\r\n    name: 'source.name',\r\n    title: 'Datasource',\r\n    url: true,\r\n    // editUrl: true,\r\n    // tag: 'Link'\r\n  },\r\n  {\r\n    name: 'alias',\r\n    title: 'Alias'\r\n  },\r\n  {\r\n    name: 'priority',\r\n    title: 'Priority'\r\n  },\r\n  {\r\n    name: 'parameters',\r\n    title: 'Parameters'\r\n  }\r\n];\r\n\r\nconst dataSources = [\r\n  {\r\n    id: 1,\r\n    page_id: 1,\r\n    data_source_id: 1,\r\n    alias: \"alias\",\r\n    priority: 1,\r\n    parameters: \"parameters\"\r\n  },\r\n  {\r\n    id: 2,\r\n    page_id: 1,\r\n    data_source_id: 2,\r\n    alias: \"alias_2\",\r\n    priority: 2,\r\n    parameters: \"parameters_2\"\r\n  },\r\n]\r\n\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass AddPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      page: {},\r\n      value: {},\r\n      redirectAfterSave: false,\r\n      templates: [],\r\n      models: [],\r\n      isModalOpened: false,\r\n      dataSources: [],\r\n      editingDataSource: null\r\n    };\r\n    this.resource = new Resource({ route: '/admin/ajax/pages' });\r\n    this.model_resource = new Resource({ route: '/admin/ajax/models_options' });\r\n    this.templateResource = new Resource({ route: '/admin/ajax/templates' });\r\n    this.dataSourceResource = new Resource({ route: '/admin/ajax/page_data_sources/pages' });\r\n    this.savePage = this.savePage.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Компонент загрузился\r\n   * получыаем данный страницы + опции для шаблона\r\n   * @return {Promise<void>}\r\n   */\r\n  async componentDidMount() {\r\n    let res = await this.templateResource.getOptions();\r\n    this.setState(state => {\r\n      return { ...state, templates: res }\r\n    });\r\n\r\n    let models_res = await this.model_resource.getAll();\r\n    this.setState(state => {\r\n      return { ...state, models: models_res }\r\n    });\r\n    let id = this.props.match.params.id;\r\n    id = parseInt(id);\r\n    if (id) {\r\n      this.getDataSources();\r\n      let pageData = await this.resource.get(id);\r\n      this.setState(state => {\r\n        return { ...state, value: pageData, id }\r\n      });\r\n    }\r\n  }\r\n\r\n  getDataSources = async () => {\r\n    let id = this.props.match.params.id;\r\n    const dataSources = await this.dataSourceResource.get(id);\r\n    this.setState({ dataSources });\r\n    this.setState({ isModalOpened: false, editingDataSource: null })\r\n  }\r\n\r\n  editHandler = editingDataSource => {\r\n    this.setState({ editingDataSource, isModalOpened: true })\r\n  }\r\n\r\n  /**\r\n   * Сохранить страницу или добавить новую\r\n   * @param e\r\n   * @return {Promise<void>}\r\n   */\r\n  async savePage(e) {\r\n    e.preventDefault();\r\n    let res;\r\n    let path = this.state.value.path;\r\n    path = path.split('\\\\').join('/');\r\n    path = (path[0] !== '/') ? `/${path}` : path;\r\n\r\n    let redirect = this.state.value.redirect;\r\n    redirect = (redirect || '').split('\\\\').join('/');\r\n    if (redirect) {\r\n      redirect = (redirect[0] !== '/') ? `/${redirect}` : redirect;\r\n    }\r\n    this.state.value.redirect = redirect;\r\n    this.state.value.path = path;\r\n    if (this.state.id) {\r\n      res = await this.resource.put(this.state.id, this.state.value);\r\n    } else {\r\n      res = await this.resource.post(this.state.value);\r\n    }\r\n    if (res.success) {\r\n      this.setState(state => {\r\n        return { ...state, redirectAfterSave: true }\r\n      });\r\n    } else {\r\n      this.setState(state => {\r\n        return { ...state, value: {} }\r\n      });\r\n    }\r\n  }\r\n  changeValue(value, field) {\r\n    if (field === 'path') {\r\n      value = value.split('\\\\').join('/');\r\n      value = (value[0] !== '/') ? `/${value}` : value;\r\n    }\r\n    if (field === 'redirect') {\r\n      value = value.split('\\\\').join('/');\r\n      if (value) {\r\n        value = (value[0] !== '/') ? `/${value}` : value;\r\n      }\r\n    }\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }\r\n  render() {\r\n    const { isModalOpened, editingDataSource } = this.state;\r\n    if (this.state.redirectAfterSave) {\r\n      return <Redirect to=\"/admin/pages\" />\r\n    }\r\n    let { dataSources } = this.state;\r\n\r\n    dataSources = _.sortBy(dataSources, dataSource => dataSource.priority);\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/pages\">Pages</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">{this.state.value.title || 'Add New Page'}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <form className=\"admin-form\" onSubmit={this.savePage} className=\"mb-2\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"page-title\">Title</label>\r\n            <input type=\"text\" id=\"page-title\" required={1}\r\n              value={this.state.value.title || ''}\r\n              onChange={e => { this.changeValue(e.target.value, 'title') }}\r\n              className=\"form-control\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"page-path\">Path</label>\r\n            <input type=\"text\" id=\"page-path\" required={1}\r\n              value={this.state.value.path || ''}\r\n              onChange={e => { this.changeValue(e.target.value, 'path') }}\r\n              className=\"form-control\" />\r\n          </div>\r\n\r\n          {/*<div className=\"form-group\">*/}\r\n            {/*<label htmlFor=\"page-template\">Content Template</label>*/}\r\n            {/*<select id=\"page-template\"*/}\r\n                   {/*value={this.state.value.template_id || ''}*/}\r\n                   {/*onChange={e => {this.changeValue(e.target.value, 'template_id')}}*/}\r\n                   {/*className=\"form-control\">*/}\r\n              {/*<option value=\"\"/>*/}\r\n              {/*{*/}\r\n                {/*this.state.templates.map(template=>{*/}\r\n                  {/*return <option value={template.value} key={template.value}>{template.label}</option>*/}\r\n                {/*})*/}\r\n              {/*}*/}\r\n            {/*</select>*/}\r\n          {/*</div>*/}\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"page-model\">Model</label>\r\n            <select id=\"page-model\"\r\n              value={this.state.value.model_id || ''}\r\n              onChange={e => { this.changeValue(e.target.value, 'model_id') }}\r\n              className=\"form-control\">\r\n              <option value=\"\" />\r\n              {\r\n                this.state.models.map(model => {\r\n                  return <option value={model.value} key={model.value}>{model.label}</option>\r\n                })\r\n              }\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"page-roles\">Roles</label>\r\n            <AltrpSelect id=\"page-roles\"\r\n              isMulti={true}\r\n              optionsRoute=\"/admin/ajax/role_options\"\r\n              placeholder=\"All\"\r\n              defaultOptions={[\r\n                {\r\n                  value: 'guest',\r\n                  label: 'Guest',\r\n                }\r\n              ]}\r\n              value={this.state.value.roles}\r\n              onChange={value => { this.changeValue(value, 'roles') }}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"redirect\">Redirect</label>\r\n            <input type=\"text\" id=\"redirect\"\r\n              value={this.state.value.redirect || ''}\r\n              onChange={e => { this.changeValue(e.target.value, 'redirect') }}\r\n              className=\"form-control\" />\r\n          </div>\r\n          <button className=\"btn btn_success\">{this.state.id ? 'Save' : 'Add'}</button>\r\n        </form>\r\n\r\n        {Boolean(dataSources.length) && <AdminTable\r\n          columns={columns}\r\n          quickActions={[\r\n            {\r\n              callBack: data => this.editHandler(data),\r\n              title: 'Edit'\r\n            },\r\n            {\r\n              tag: 'button',\r\n              route: `/admin/ajax/page_data_sources/:id`,\r\n              method: 'delete',\r\n              confirm: 'Are You Sure?',\r\n              after: () => this.getDataSources(),\r\n              className: 'quick-action-menu__item_danger',\r\n              title: 'Trash'\r\n            }\r\n          ]}\r\n          rows={dataSources.map(dataSource => ({ ...dataSource, /* editUrl: `/admin/tables/models/${model.id}/fields/edit/${field.id}` */ }))}\r\n        />}\r\n\r\n        {this.props.match.params.id &&\r\n          <button onClick={() => this.setState({ isModalOpened: true })} className=\"btn btn_add\">\r\n            Add Data Source\r\n          </button>}\r\n\r\n        {isModalOpened && <AdminModal2 closeHandler={() => this.setState({ isModalOpened: false, editingDataSource: null })}>\r\n          <PageDataSourceForm updateHandler={this.getDataSources} dataSource={editingDataSource} />\r\n        </AdminModal2>}\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddPage);\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"20\" height=\"22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M10 22a2.75 2.75 0 002.749-2.75H7.25A2.75 2.75 0 0010 22zm9.255-6.433c-.83-.892-2.383-2.234-2.383-6.63 0-3.338-2.341-6.01-5.498-6.667v-.895a1.375 1.375 0 10-2.748 0v.895C5.469 2.926 3.128 5.6 3.128 8.938c0 4.395-1.553 5.737-2.383 6.63a1.343 1.343 0 00-.37.932 1.376 1.376 0 001.38 1.375h16.49c.822 0 1.376-.67 1.38-1.375a1.342 1.342 0 00-.37-.933z\" fill=\"#8E94AA\" /></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"18\" height=\"18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M11.625 13.5h-.75a.375.375 0 00-.375.375V16.5h-9v-15h9v2.625c0 .207.168.375.375.375h.75A.375.375 0 0012 4.125V1.5A1.5 1.5 0 0010.5 0h-9A1.5 1.5 0 000 1.5v15A1.5 1.5 0 001.5 18h9a1.5 1.5 0 001.5-1.5v-2.625a.375.375 0 00-.375-.375z\" fill=\"#8E94AA\" /><path d=\"M17.878 8.724l-4.5-4.125a.374.374 0 00-.628.276v.75c0 .106.045.208.124.279l2.607 2.346H4.875a.375.375 0 00-.375.375v.75c0 .208.168.375.375.375h10.606l-2.607 2.347a.375.375 0 00-.124.278v.75a.375.375 0 00.628.277l4.5-4.125a.374.374 0 000-.553z\" fill=\"#8E94AA\" /></svg>);","import React, {Component} from \"react\";\r\nimport BellIcon from './../svgs/bell.svg';\r\nimport UserIcon from './../svgs/user.svg';\r\nimport LogoutIcon from './../svgs/logout.svg';\r\nimport {logout} from \"../js/helpers\";\r\n\r\nclass UserTopPanel extends Component {\r\n  render(){\r\n    return<div className=\"admin-user-top-panel top-panel d-flex align-items-center\">\r\n      <a href=\"#\" className=\"top-panel-notification notification\">\r\n        <BellIcon className=\"notification__icon\"/>\r\n      </a>\r\n      <UserIcon className=\"top-panel__portrait\"/>\r\n      <div className=\"top-panel__greeting\">Hello, administrator</div>\r\n      <button className=\"top-panel-logout logout\" onClick={logout}>\r\n        <LogoutIcon className=\"logout__icon\"/>\r\n      </button>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default UserTopPanel","import {SET_CURRENT_ELEMENT} from './actions'\r\n\r\nconst defaultState = {\r\n  currentElement: {}\r\n};\r\n\r\nexport function currentElementReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type) {\r\n    case SET_CURRENT_ELEMENT:{\r\n      state = {\r\n        currentElement: action.element,\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}","import { CHANGE_TEMPLATE_STATUS } from \"./actions\";\r\nimport  CONSTANTS  from \"../../consts\";\r\n\r\nconst defaultState = {\r\n  status: CONSTANTS.TEMPLATE_UPDATED,\r\n};\r\n\r\nexport function templateStatusReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case CHANGE_TEMPLATE_STATUS:\r\n      return { ...state, status: action.status };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {START_DRAG, STOP_DRAG} from './actions'\r\n\r\nconst defaultState = {\r\n  dragState: STOP_DRAG\r\n};\r\n\r\nexport function elementDragReducer(state, action) {\r\n  if(! state){\r\n    return defaultState;\r\n  }\r\n  if(! action){\r\n    return{dragState: STOP_DRAG}\r\n  }\r\n  switch (action.type) {\r\n    case STOP_DRAG:{\r\n      state = {\r\n        dragState: STOP_DRAG,\r\n        element:null,\r\n      };\r\n    }break;\r\n    case START_DRAG:{\r\n      state = {\r\n        dragState: START_DRAG,\r\n        element: action.element\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}","export const START_DRAG = 'START_DRAG';\r\nexport const STOP_DRAG = 'STOP_DRAG';\r\nexport const CHANGE_DRAG_STATE = 'CHANGE_DRAG_STATE';\r\n\r\nexport function startDrag(element) {\r\n  return {\r\n    type: START_DRAG,\r\n    element\r\n  };\r\n}\r\nexport function stopDrag() {\r\n  return {\r\n    type: STOP_DRAG,\r\n  };\r\n}\r\n\r\n\r\n","import {SET_CURRENT_CONTEXT_ELEMENT} from './actions'\r\n\r\nconst defaultState = {\r\n  currentElement: {}\r\n};\r\n\r\nexport function currentElementContextReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type) {\r\n    case SET_CURRENT_CONTEXT_ELEMENT:{\r\n      state = {\r\n        currentElement: action.element,\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}","import {SHOW_DYNAMIC_CONTENT, HIDE_DYNAMIC_CONTENT, TOGGLE_DYNAMIC_CONTENT} from './actions'\r\n\r\nconst defaultState = {\r\n  show: false,\r\n  params: {\r\n    type: 'text',\r\n  },\r\n  element: null,\r\n  onSelect: (contentData)=>{\r\n    console.log(contentData);\r\n  }\r\n};\r\n\r\nexport function dynamicContentReducer(state, action) {\r\n  state = state || {...defaultState};\r\n  switch (action.type) {\r\n    case SHOW_DYNAMIC_CONTENT:{\r\n      state = {\r\n        params: {...action.params},\r\n        element: action.element,\r\n        show: true,\r\n      };\r\n    }break;\r\n    case TOGGLE_DYNAMIC_CONTENT:{\r\n      state = {\r\n        params: {...action.params},\r\n        element: action.element,\r\n        show: ! state.show,\r\n      };\r\n    }break;\r\n    case HIDE_DYNAMIC_CONTENT:{\r\n      state = {\r\n          ...defaultState,\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}","import {CONTROLLER_VALUE} from \"./actions\";\r\n\r\nconst defaultState = {\r\n  value: '',\r\n  controlId: ''\r\n\r\n};\r\n\r\nexport function controllerReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type) {\r\n    case CONTROLLER_VALUE:{\r\n      state = {\r\n        ...action.data,\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}\r\n","import {SET_ACTIVE_SECTION} from './actions';\r\n\r\nconst defaultState = {};\r\n\r\nexport function settingSectionMenuReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case SET_ACTIVE_SECTION:\r\n      let newState = {...state};\r\n      newState[action.elementName] = newState[action.elementName] || {};\r\n      /**\r\n       * При повторном клике сохраним null, чтобы ни одна не была открыта\r\n       */\r\n      if(newState[action.elementName][action.tab] !== action.sectionID){\r\n        newState[action.elementName][action.tab] = action.sectionID;\r\n      } else {\r\n        newState[action.elementName][action.tab] = null;\r\n      }\r\n      return newState;\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import {SET_CURRENT_TAB} from \"./actions\"\r\n\r\nconst defaultState = {\r\n  currentTab: ''\r\n};\r\n\r\nexport function currentTabReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type) {\r\n    case SET_CURRENT_TAB:{\r\n      state = {\r\n        currentTab: action.tab,\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}\r\n","import { SET_CURRENT_STATE } from \"./actions\"\r\n\r\nconst defaultState = {\r\n  title: \"N\",\r\n  value: \"\",\r\n};\r\n\r\nexport function currentStateReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case SET_CURRENT_STATE: {\r\n      state = {\r\n        ...state,\r\n        title: action.title,\r\n        value: action.value,\r\n      };\r\n    }\r\n      break;\r\n  }\r\n  return state;\r\n}\r\n","import { SET_CURRENT_SCREEN } from './actions'\r\nimport CONSTANTS from \"../../consts\";\r\n\r\nconst defaultState = CONSTANTS.SCREENS[0];\r\n\r\nexport function currentScreenReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case SET_CURRENT_SCREEN: {\r\n      state = {\r\n        ...action.screen\r\n      };\r\n      return state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}","import {SET_TEMPLATE_DATA} from './actions'\r\n\r\nconst defaultState = {\r\n};\r\n\r\nexport function templateDataReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type) {\r\n    case SET_TEMPLATE_DATA:{\r\n      state = action.templateData;\r\n    }break;\r\n  }\r\n  return state;\r\n}","import { combineReducers } from 'redux';\r\nimport { currentElementReducer } from './current-element/reducers';\r\nimport { templateStatusReducer } from \"./template-status/reducers\";\r\nimport { elementDragReducer } from \"./element-drag/reducers\";\r\nimport { assetsSettingsReducer } from \"./assets-browser/reducers\";\r\nimport { currentElementContextReducer } from \"./current-context-element/reducers\";\r\nimport { dynamicContentReducer } from \"./dynamic-content/reducers\";\r\nimport { controllerReducer } from \"./controller-value/reducers\";\r\nimport { settingSectionMenuReducer } from \"./setting-section/reducers\"\r\nimport { currentTabReducer } from \"./active-settings-tab/reducers\";\r\nimport { currentStateReducer } from \"./state-section/reducers\";\r\nimport { currentScreenReducer } from './responsive-switcher/reducers';\r\nimport {currentModelReducer} from \"../../../../front-app/src/js/store/current-model/reducers\";\r\nimport {templateDataReducer} from \"./template-data/reducers\";\r\nimport {currentUserReducer} from \"../../../../front-app/src/js/store/current-user/reducers\";\r\nimport {currentDataStorageReducer} from \"../../../../front-app/src/js/store/current-data-storage/reducers\";\r\n\r\nexport default combineReducers({\r\n  currentElement: currentElementReducer,\r\n  currentContextElement: currentElementContextReducer,\r\n  templateStatus: templateStatusReducer,\r\n  elementDrag: elementDragReducer,\r\n  assetsManagerSettings: assetsSettingsReducer,\r\n  dynamicContentState: dynamicContentReducer,\r\n  controllerValue: controllerReducer,\r\n  settingSectionMenu: settingSectionMenuReducer,\r\n  currentTab: currentTabReducer,\r\n  currentState: currentStateReducer,\r\n  currentScreen: currentScreenReducer,\r\n  currentModel: currentModelReducer,\r\n  templateData: templateDataReducer,\r\n  currentUser: currentUserReducer,\r\n  currentDataStorage: currentDataStorageReducer,\r\n});\r\n","export const SET_CURRENT_ELEMENT = 'SET_CURRENT_ELEMENT';\r\nexport const DROP_ELEMENT = 'ADD_CURRENT_ELEMENT';\r\n\r\nexport function setCurrentElement(element) {\r\n  return {\r\n    type: SET_CURRENT_ELEMENT,\r\n    element\r\n  };\r\n}\r\n\r\nexport function dropCurrentElement(element) {\r\n  return {\r\n    type: DROP_ELEMENT,\r\n    element\r\n  };\r\n}\r\n\r\n","export const SET_CURRENT_CONTEXT_ELEMENT = 'SET_CURRENT_CONTEXT_ELEMENT';\r\n\r\nexport function setCurrentContextElement(element) {\r\n  return {\r\n    type: SET_CURRENT_CONTEXT_ELEMENT,\r\n    element\r\n  };\r\n}\r\n\r\n","export const CHANGE_TEMPLATE_STATUS = 'CHANGE_TEMPLATE_STATUS';\r\n\r\nexport function changeTemplateStatus(status) {\r\n  return {\r\n    type: CHANGE_TEMPLATE_STATUS,\r\n    status\r\n  };\r\n}\r\n\r\n","export const SHOW_DYNAMIC_CONTENT = 'SHOW_DYNAMIC_CONTENT';\r\nexport const HIDE_DYNAMIC_CONTENT = 'HIDE_DYNAMIC_CONTENT';\r\nexport const TOGGLE_DYNAMIC_CONTENT = 'TOGGLE_DYNAMIC_CONTENT';\r\n\r\n/**\r\n *\r\n * @param params\r\n * @param element - Элемент, на которые кликнули\r\n * @return {{type: string, params: *, element: *}}\r\n */\r\nexport function showDynamicContent(params, element) {\r\n  return {\r\n    type: SHOW_DYNAMIC_CONTENT,\r\n    params,\r\n    element\r\n  };\r\n}\r\n\r\n/**\r\n *\r\n * @param params\r\n * @param element - Элемент, на которые кликнули\r\n * @return {{type: string, params: *, element: *}}\r\n */\r\nexport function toggleDynamicContent(params, element) {\r\n  return {\r\n    type: TOGGLE_DYNAMIC_CONTENT,\r\n    params,\r\n    element\r\n  };\r\n}\r\n\r\nexport function closeDynamicContent() {\r\n  return {\r\n    type:  HIDE_DYNAMIC_CONTENT,\r\n  };\r\n}\r\n\r\n","export const CONTROLLER_VALUE = 'CONTROLLER_VALUE';\r\n/**\r\n *\r\n * @param {*} value\r\n * @param {string} controlId\r\n * @returns {{data: {controlId: *, value: *}, type: string}}\r\n */\r\nexport function controllerValue(value, controlId) {\r\n  return {\r\n    type: CONTROLLER_VALUE,\r\n    data: {\r\n      controlId,\r\n      value\r\n    }\r\n  };\r\n}\r\n\r\n","export const SET_ACTIVE_SECTION = \"SET_ACTIVE_SECTION\";\r\n\r\nexport function setActiveSection(elementName, tab, sectionID) {\r\n  return {\r\n    type: SET_ACTIVE_SECTION,\r\n    elementName,\r\n    tab,\r\n    sectionID\r\n  }\r\n}\r\n","export const SET_CURRENT_TAB = \"SET_CURRENT_TAB\";\r\n\r\nexport function setCurrentTab(tab) {\r\n  return {\r\n    type: SET_CURRENT_TAB,\r\n    tab\r\n  };\r\n}\r\n","export const SET_CURRENT_STATE = \"SET_CURRENT_STATE\";\r\n\r\nexport function setCurrentState(title, value) {\r\n  return {\r\n    type: SET_CURRENT_STATE,\r\n    title,\r\n    value,\r\n  };\r\n};\r\n","export const SET_CURRENT_SCREEN = \"SET_CURRENT_SCREEN\";\r\n\r\nexport function setCurrentScreen(screen) {\r\n  return {\r\n    type: SET_CURRENT_SCREEN,\r\n    screen\r\n  }\r\n}","export const SET_TEMPLATE_DATA = 'SET_TEMPLATE_DATA';\r\nexport function setTemplateData(templateData) {\r\n  return {\r\n    type: SET_TEMPLATE_DATA,\r\n    templateData\r\n  };\r\n}\r\n\r\n","import { createStore } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nlet store = createStore(rootReducer, composeWithDevTools());\r\n\r\nexport default store;\r\n\r\n/**\r\n * Возвращает текущий элемент (тот который в данный момент редлактируется)\r\n * @return {BaseElement}\r\n */\r\nexport function getCurrentElement() {\r\n  return store.getState().currentElement.currentElement;\r\n}\r\n\r\nexport function getCurrentTab() {\r\n  return store.getState().currentTab.currentTab;\r\n}\r\n\r\nexport function getElementState() {\r\n  return store.getState().currentState;\r\n}\r\n\r\n/**\r\n * Возвращает текущие настройки окна редактора\r\n *\r\n * @return {{}} - объект содержит свойства:\r\n * name\r\n * icon\r\n * id\r\n * width\r\n * css\r\n *\r\n */\r\nexport function getCurrentScreen() {\r\n  return store.getState().currentScreen;\r\n}\r\n","import React, {Component} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Times from \"../../../svgs/times.svg\";\r\nimport { assetsToggle } from \"../../store/assets-browser/actions\";\r\nimport { iconsManager } from \"../../helpers\";\r\nimport Resource from \"../Resource\";\r\nimport '../../../sass/assets-browser.scss';\r\n\r\n\r\nclass AssetsBrowser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.tabClick = this.tabClick.bind(this);\r\n    this.toggleBrowser = this.toggleBrowser.bind(this);\r\n    this.selectAsset = this.selectAsset.bind(this);\r\n    this.chooseAsset = this.chooseAsset.bind(this);\r\n    this.state = {\r\n      // activeTab: 'icons',\r\n      activeTab: \"media\",\r\n      tabs: [\r\n        // {\r\n        //   name: 'upload',\r\n        //   title: 'Upload Media File',\r\n        // },\r\n        {\r\n          name: \"icons\",\r\n          title: \"Icons Library\"\r\n        },\r\n        {\r\n          name: \"media\",\r\n          title: \"Media Library\"\r\n        }\r\n      ],\r\n      assets: this.getAssets(\"media\"),\r\n      // assets: this.getAssets('icons'),\r\n      selectedAsset: null,\r\n      mediaAssets: []\r\n    };\r\n    this.mediaResource = new Resource({ route: \"/admin/ajax/media\" });\r\n  }\r\n  async componentDidMount() {\r\n    try {\r\n      let res = await this.mediaResource.getAll();\r\n\r\n      this.setState(state => {\r\n        state = { ...state, mediaAssets: res };\r\n        if (state.activeTab === \"media\") {\r\n          state.assets = res;\r\n        }\r\n        return state;\r\n      });\r\n    } catch (error) {\r\n      console.log(\"error\", error);\r\n    }\r\n  }\r\n  getAssets(tab) {\r\n    if (!tab) {\r\n      tab = this.state.activeTab;\r\n    }\r\n\r\n    switch (tab) {\r\n      case \"icons\": {\r\n        return iconsManager().getIconsList();\r\n      }\r\n      case \"media\": {\r\n        return this.state ? this.state.mediaAssets : [];\r\n      }\r\n    }\r\n    return [];\r\n  }\r\n\r\n  selectAsset(e) {\r\n    let selectedAsset = e.currentTarget.dataset.assetname;\r\n    this.setState(state => {\r\n      return { ...state, selectedAsset };\r\n    });\r\n  }\r\n\r\n  tabClick(e) {\r\n    this.setActiveTab(e.target.dataset.tab);\r\n  }\r\n\r\n  setActiveTab(tab) {\r\n    this.setState(state => {\r\n      return { ...state, activeTab: tab, assets: this.getAssets(tab) };\r\n    });\r\n  }\r\n\r\n  toggleBrowser() {\r\n    this.setState(state => {\r\n      return { ...state, selectedAsset: null };\r\n    });\r\n    this.props.dispatch(assetsToggle());\r\n  }\r\n\r\n  chooseAsset() {\r\n    let asset;\r\n    this.state.assets.forEach(item => {\r\n      if (item.name === this.state.selectedAsset) {\r\n        asset = item;\r\n      }\r\n    });\r\n    if (!asset) {\r\n      throw `Asset with name ${this.state.selectedAsset} not found in Assets Browser (${this.state.activeTab})!`;\r\n    }\r\n    this.props.onChoose(asset);\r\n    this.setState(state => {\r\n      return { ...state, selectedAsset: null };\r\n    });\r\n    this.props.dispatch(assetsToggle());\r\n  }\r\n\r\n  render() {\r\n    let classes = \"assets-browser\";\r\n    if (this.props.active) {\r\n      classes += \" assets-browser_active\";\r\n    }\r\n    let buttonClasses = \"btn\";\r\n    if (!this.state.selectedAsset) {\r\n      buttonClasses += \" btn_disabled\";\r\n    } else {\r\n      buttonClasses += \" btn_success\";\r\n    }\r\n    return (\r\n      <div className={classes}>\r\n        <div className=\"assets-browser__bg\" onClick={this.toggleBrowser} />\r\n        <div className=\"assets-browser-content\">\r\n          <div className=\"assets-browser-top\">\r\n            <div className=\"caption\">Append Media</div>\r\n            <button className=\"btn btn_bare assets-browser__close\" onClick={this.toggleBrowser} >\r\n              <Times className=\"icon\"/>\r\n            </button>\r\n            <div className=\"assets-browser-nav\">\r\n              {this.state.tabs.map(tab => {\r\n                let tabClasses = \"assets-browser__tab\";\r\n                if (this.state.activeTab === tab.name) {\r\n                  tabClasses += \" assets-browser__tab_active\";\r\n                }\r\n                return (\r\n                  <button\r\n                    className={tabClasses}\r\n                    onClick={this.tabClick}\r\n                    key={tab.name}\r\n                    data-tab={tab.name}\r\n                  >\r\n                    {tab.title}\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          {this.state.assets.length ? (\r\n            <div className=\"assets-browser-choose-frame\">\r\n              {this.state.assets.map(asset => {\r\n                let AssetContent;\r\n                let classes = \"asset-choose\";\r\n                let assetProps = {\r\n                  className: \"asset-choose__content\"\r\n                };\r\n                if (this.state.activeTab === \"icons\") {\r\n                  AssetContent = asset.iconComponent;\r\n                  classes += \" asset-choose_icon\";\r\n                  // assetProps.viewBox = '0 0 20 20';\r\n                  // assetProps.viewport = '0 0 10 10';\r\n                  assetProps.width = \"20\";\r\n                  assetProps.height = \"20\";\r\n                }\r\n                if (this.state.activeTab === \"media\") {\r\n                  AssetContent = \"img\";\r\n                  assetProps.src = asset.url;\r\n                  classes += \" asset-choose_media\";\r\n                  asset.name = asset.filename;\r\n                  asset.assetType = \"media\";\r\n                }\r\n                if (this.state.selectedAsset === asset.name) {\r\n                  classes += \" asset-choose_selected\";\r\n                }\r\n                return (\r\n                  <div\r\n                    className={classes}\r\n                    data-assetname={asset.name}\r\n                    key={asset.name}\r\n                    onClick={this.selectAsset}\r\n                  >\r\n                    <AssetContent {...assetProps} />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <div className=\"assets-browser-bottom\">\r\n            <button className={buttonClasses} onClick={this.chooseAsset}>\r\n              Choose\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ...state.assetsManagerSettings\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AssetsBrowser);\r\n","import {getCurrentScreen, getElementState} from \"./store/store\";\r\nimport {isEditor} from \"../../../front-app/src/js/helpers\";\r\nimport CONSTANTS from \"./consts\";\r\n\r\nexport function getTemplateId(){\r\n  return (new URL(window.location)).searchParams.get('template_id');\r\n}\r\n/**\r\n * @param {array} names\r\n * */\r\nexport function getClassNames(names) {\r\n  if(! names.length){\r\n    return '';\r\n  }\r\n  let result = '';\r\n  for(let cssClass of names){\r\n    result += cssClass + ' ';\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function settingToState(setting) {\r\n  if(! setting){\r\n    return{};\r\n  }\r\n    return {\r\n    value: setting.getValue(),\r\n    label: setting.getLabel(),\r\n  };\r\n}\r\n\r\nexport function getEditorContent(){\r\n  return window.frames[0].window.altrpEditorContent;\r\n}\r\n/**\r\n * @return {Editor}\r\n * */\r\nexport function getEditor() {\r\n  return window.altrpEditor || window.parent.altrpEditor;\r\n}\r\n\r\nexport function editorSetCurrentElement(element){\r\n  getEditor().modules.templateDataStorage.setCurrentElement(element);\r\n}\r\n/**\r\n * @return {TemplateDataStorage}\r\n * */\r\nexport function getTemplateDataStorage() {\r\n  return window.altrpEditor.modules.templateDataStorage\r\n}\r\n\r\n/**\r\n *\r\n * @return {ElementsFactory}\r\n */\r\nexport function getFactory() {\r\n  return getEditor().modules.elementsFactory;\r\n}\r\n/**\r\n * @param {Event} e\r\n * @param {HTMLElement} element\r\n * */\r\nexport function topOrBottomHover(e, element) {\r\n  let rect = element.getBoundingClientRect();\r\n  let y = e.clientY - rect.top;\r\n  return (y < (rect.height / 2)) ? 'top' : 'bottom';\r\n}\r\n/**\r\n * @return {IconsManager}\r\n * */\r\nexport function iconsManager() {\r\n  return window.iconsManager;\r\n}\r\n\r\n/**\r\n * Генерирует суфикс для всех настроек\r\n * на основе elementState и разврешения\r\n * @param {Controller} controller\r\n * @return {string}\r\n */\r\nexport function getElementSettingsSuffix(controller) {\r\n  let suffix_1 = getElementState().value;\r\n  let suffix_2 = (getCurrentScreen().name === CONSTANTS.DEFAULT_BREAKPOINT) ? '' : getCurrentScreen().name;\r\n  if(! (suffix_2 || suffix_1)){\r\n    return '';\r\n  }\r\n  return `_${getElementState().value}_${getCurrentScreen().name}`\r\n}\r\n\r\n/**\r\n * Конвертируем RGBA в HEX формат\r\n * @param {String} строка в формате CSS-правила\r\n * @return {string}\r\n */\r\nexport function rgb2hex(rgb) {\r\n  if (rgb) rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\r\n  return (rgb && rgb.length === 4) ? \"#\" +\r\n    (\"0\" + parseInt(rgb[1], 10).toString(16)).slice(-2) +\r\n    (\"0\" + parseInt(rgb[2], 10).toString(16)).slice(-2) +\r\n    (\"0\" + parseInt(rgb[3], 10).toString(16)).slice(-2) : '';\r\n}\r\n\r\nexport function cutString(string, maxLength = 80) {\r\n  if (string.length <= maxLength) return string;\r\n  return string.slice(0, maxLength) + '...';\r\n}\r\n\r\nexport function sortOptions(options, sortDirection) {\r\n  options.sort((a, b) => a.label.toLowerCase() > b.label.toLowerCase() ? 1 : b.label.toLowerCase() > a.label.toLowerCase() ? -1 : 0);\r\n  return sortDirection === \"asc\" ? options : options.reverse();\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Tab, TabList, TabPanel, Tabs } from \"react-tabs\";\r\nimport 'react-tabs/style/react-tabs.scss';\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport AdminTable from \"./AdminTable\";\r\nimport Pagination from \"./Pagination\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\n\r\nconst columnsModel = [\r\n  {\r\n    name: 'title',\r\n    title: 'Title',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'description',\r\n    title: 'Description'\r\n  },\r\n  {\r\n    name: 'updated_at',\r\n    title: 'Updated At'\r\n  }\r\n];\r\nconst columnsDataSource = [\r\n  {\r\n    name: 'name',\r\n    title: 'Name',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'model.title',\r\n    title: 'Model'\r\n  },\r\n  {\r\n    name: 'route',\r\n    title: 'Route'\r\n  },\r\n  {\r\n    name: 'type',\r\n    title: 'Type'\r\n  }\r\n];\r\n\r\nexport default class Models extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      activeTab: 0,\r\n      modelsCurrentPage: 1,\r\n      dataSourcesCurrentPage: 1,\r\n      models: [],\r\n      modelsSearch: '',\r\n      modelsPageCount: 1,\r\n      modelsCount: 0,\r\n      dataSources: [],\r\n      dataSourcesSearch: '',\r\n      dataSourcesPageCount: 1,\r\n      dataSourcesCount: 0,\r\n    };\r\n    this.switchTab = this.switchTab.bind(this);\r\n    this.changePage = this.changePage.bind(this);\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/models' });\r\n    this.dataSourcesResource = new Resource({ route: '/admin/ajax/data_sources' });\r\n    this.itemsPerPage = 10;\r\n  }\r\n\r\n  switchTab(activeTab) {\r\n    this.setState(state => ({ ...state, activeTab }))\r\n  }\r\n\r\n  changePage(currentPage, pagination) {\r\n    this.setState(state => ({ ...state, [pagination]: { ...state[pagination], currentPage } }));\r\n  }\r\n\r\n  /**\r\n   * Обновить список источников данных\r\n   */\r\n  getDataSources = async (dataSourcesSearch) => {\r\n    let res = await this.dataSourcesResource.getQueried({\r\n      page: this.state.dataSourcesCurrentPage,\r\n      pageSize: this.itemsPerPage,\r\n      preset: false,\r\n      s: dataSourcesSearch\r\n    });\r\n    this.setState(state => {\r\n      return {\r\n        ...state,\r\n        dataSources: res.data_sources,\r\n        dataSourcesSearch,\r\n        dataSourcesPageCount: res.pageCount\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Обновить список моделей\r\n   */\r\n  getModels = async (modelsSearch) => {\r\n    let res = await this.modelsResource.getQueried({\r\n      page: this.state.modelsCurrentPage,\r\n      pageSize: this.itemsPerPage,\r\n      preset: false,\r\n      s: modelsSearch\r\n    });\r\n    this.setState(state => {\r\n      return {\r\n        ...state,\r\n        models: res.models,\r\n        modelsSearch,\r\n        modelsPageCount: res.pageCount\r\n      }\r\n    });\r\n  };\r\n\r\n  // slicePage = (array, page, itemsPerPage) => {\r\n  //   return array.slice(page * itemsPerPage - itemsPerPage, page * itemsPerPage);\r\n  // }\r\n\r\n  async componentDidMount() {\r\n    // get: /admin/ajax/models .then(models => {\r\n    //   this.setState({models});\r\n    // });\r\n    let models = await this.modelsResource.getAll();\r\n    this.setState(state => ({\r\n      ...state,\r\n      modelsCount: models.models.length\r\n    }));\r\n\r\n    let data_sources = await this.dataSourcesResource.getAll();\r\n    this.setState(state => ({\r\n      ...state,\r\n      dataSourcesCount: data_sources.data_sources.length\r\n    }));\r\n\r\n    this.getModels();\r\n    this.getDataSources();\r\n  }\r\n\r\n  /**\r\n   * фильтрация по строке\r\n   */\r\n  changeSearchHandler = e => {\r\n    let modelsSearch = e.target.value;\r\n    this.getModels(modelsSearch);\r\n\r\n  };\r\n\r\n  /**\r\n   * фильтрация по строке\r\n   */\r\n  changeDataSourcesSearchHandler = e => {\r\n    let dataSourcesSearch = e.target.value;\r\n    this.getDataSources(dataSourcesSearch);\r\n  };\r\n\r\n  render() {\r\n    const { activeTab, models, dataSources, modelsCurrentPage, dataSourcesCurrentPage, modelsSearch, dataSourcesSearch,\r\n      modelsPageCount, dataSourcesPageCount, modelsCount, dataSourcesCount } = this.state;\r\n\r\n    return <div className=\"admin-settings admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">Tables</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">{activeTab === 0 ? 'All Models' : 'All Data Sources'}</span>\r\n        </div>\r\n        <Link className=\"btn\" to={`/admin/tables/${activeTab === 0 ? 'models' : 'data-sources'}/add`}>Add New</Link>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <Tabs selectedIndex={activeTab} onSelect={this.switchTab}>\r\n          <TabList className=\"nav nav-pills admin-pills\">\r\n            <Tab>\r\n              Models\r\n            </Tab>\r\n            <Tab>\r\n              Data Sources\r\n            </Tab>\r\n          </TabList>\r\n          <TabPanel>\r\n            <AdminTable\r\n              columns={columnsModel}\r\n              search={{\r\n                value: modelsSearch || '',\r\n                changeHandler: this.changeSearchHandler\r\n              }}\r\n              quickActions={[\r\n                {\r\n                  tag: 'Link',\r\n                  props: { href: '/admin/tables/models/edit/:id' },\r\n                  title: 'Edit'\r\n                },\r\n                {\r\n                  tag: 'button',\r\n                  route: '/admin/ajax/models/:id',\r\n                  method: 'delete',\r\n                  confirm: 'Are You Sure?',\r\n                  after: () => { this.getModels() },\r\n                  className: 'quick-action-menu__item_danger',\r\n                  title: 'Trash'\r\n                }\r\n              ]}\r\n              rows={models.map(model => ({\r\n                ...model,\r\n                editUrl: '/admin/tables/models/edit/' + model.id\r\n              }))}\r\n            />\r\n            <Pagination pageCount={modelsPageCount || 1}\r\n              currentPage={modelsCurrentPage || 1}\r\n              changePage={modelsCurrentPage => {\r\n                if(this.state.modelsCurrentPage !== modelsCurrentPage){\r\n                  this.setState({modelsCurrentPage}, this.getModels)}\r\n                }\r\n              }\r\n              itemsCount={modelsCount}\r\n            />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <AdminTable\r\n              columns={columnsDataSource}\r\n              search={{\r\n                value: dataSourcesSearch || '',\r\n                changeHandler: this.changeDataSourcesSearchHandler\r\n              }}\r\n              quickActions={[\r\n                {\r\n                  tag: 'Link',\r\n                  props: { href: '/admin/tables/data-sources/edit/:id' },\r\n                  title: 'Edit'\r\n                },\r\n                {\r\n                  tag: 'button',\r\n                  route: '/admin/ajax/data_sources/:id',\r\n                  method: 'delete',\r\n                  confirm: 'Are You Sure?',\r\n                  after: () => { this.getDataSources() },\r\n                  className: 'quick-action-menu__item_danger',\r\n                  title: 'Trash'\r\n                }\r\n              ]}\r\n              rows={dataSources.map(dataSource => ({\r\n                ...dataSource,\r\n                editUrl: '/admin/tables/data-sources/edit/' + dataSource.id\r\n              }))}\r\n            />\r\n            <Pagination pageCount={dataSourcesPageCount}\r\n              currentPage={dataSourcesCurrentPage}\r\n              changePage={dataSourcesCurrentPage => this.setState({ dataSourcesCurrentPage }, this.getDataSources)}\r\n              itemsCount={dataSourcesCount}\r\n            />\r\n          </TabPanel>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport { titleToName }from \"../../js/helpers\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\n\r\nclass EditModelForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: {...this.props.model}\r\n    };\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n    this.deleteHandler = this.deleteHandler.bind(this);\r\n    this.titleChangeHandler = this.titleChangeHandler.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Сменить значение поля модели\r\n   * @param value\r\n   * @param field\r\n   */\r\n  changeValue(value, field) {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      state.value[field] = value;\r\n      return state\r\n    });\r\n  }\r\n\r\n  titleChangeHandler(e) {\r\n    e.persist();\r\n    this.setState(state => ({\r\n      ...state, value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Обновляем state при получении новых props (model)\r\n   */\r\n  componentDidUpdate(prevProps){\r\n    if(this.props !== prevProps){\r\n      this.setState(state => {\r\n        state = { ...state };\r\n        state.value = {...this.props.model};\r\n        return state\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Обработка формы\r\n   * @param e\r\n   */\r\n  submitHandler(e) {\r\n    e.preventDefault();\r\n    if(_.isFunction(this.props.onSubmit)){\r\n      delete this.state.value.created_at;\r\n      delete this.state.value.updated_at;\r\n      this.props.onSubmit(this.state.value);\r\n    } else {\r\n      console.log(this.state.value);\r\n    }\r\n  }\r\n\r\n  async deleteHandler() {\r\n    // delete: /admin/ajax/models/{model_id}\r\n    let res = await (new Resource({route: '/admin/ajax/models'}).delete(this.props.model.id));\r\n    this.setState(state=>({...state, redirect: '/admin/tables/models/'}))\r\n  }\r\n\r\n  render() {\r\n    const model = this.state.value;\r\n    if(this.state.redirect){\r\n      return <Redirect to={this.state.redirect} push={true}/>\r\n    }\r\n    return <form className=\"admin-form row\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group col-12\">\r\n        <label htmlFor=\"page-title\">Model Title</label>\r\n        <input type=\"text\" id=\"page-title\" required\r\n          value={model.title || ''}\r\n          onChange={this.titleChangeHandler}\r\n          className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group col-4\">\r\n        <label htmlFor=\"page-name\">Model Name</label>\r\n        <input type=\"text\" id=\"page-name\" required\r\n          value={model.name || ''}\r\n          onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n          className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group col-4\">\r\n        <label htmlFor=\"page-description\">Parent Model</label>\r\n        <input type=\"text\" id=\"page-description\"\r\n               value={model.parent_model_id || ''}\r\n               onChange={e => { this.changeValue(e.target.value, 'parent_model_id') }}\r\n               className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group col-4\">\r\n        <label htmlFor=\"page-description\">Model Description</label>\r\n        <input type=\"text\" id=\"page-description\"\r\n          value={model.description || ''}\r\n          onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n          className=\"form-control\" />\r\n      </div>\r\n      {(model.id) ? '' : <div className=\"form-group col-12 \">\r\n        <label htmlFor=\"model-table_id\" className=\"label_checkbox\">Table</label>\r\n        <AltrpSelect\r\n            id=\"model-table_id\"\r\n            defaultOptions={[\r\n              {\r\n                value: '',\r\n                label: ' ',\r\n              }\r\n            ]}\r\n            value={this.state.value.table_id || ''}\r\n            isDisabled={model.id}\r\n            onChange={value => {this.changeValue(value, 'table_id')}}\r\n            optionsRoute=\"/admin/ajax/tables/options\"/>\r\n      </div>}\r\n      <div className=\"row col-12\">\r\n        <div className=\"form-group col-6 form-check-inline\">\r\n          <input type=\"checkbox\" id=\"page-soft_deletes\"\r\n            checked={model.soft_deletes}\r\n            onChange={e => { this.changeValue(e.target.checked, 'soft_deletes') }}\r\n            className=\"form-check-input form-check-input\" />\r\n          <label htmlFor=\"page-soft_deletes\" className=\"label_checkbox\">Soft Deletes</label>\r\n        </div>\r\n        <div className=\"form-group col-6 form-check-inline\">\r\n          <input type=\"checkbox\" id=\"page-time_stamps\"\r\n            checked={model.time_stamps}\r\n            onChange={e => { this.changeValue(e.target.checked, 'time_stamps') }}\r\n            className=\"form-check-input form-check-input_inline\" />\r\n          <label htmlFor=\"page-time_stamps\" className=\"label_checkbox\">Time Stamps</label>\r\n        </div>\r\n\r\n      </div>\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">{this.props.submitText}</button>\r\n        <Link to=\"/admin/tables/models\"><button className=\"btn\">Cancel</button></Link>\r\n        {this.props.edit\r\n            ? <button className=\"btn btn_failure\" type=\"button\" onClick={this.deleteHandler}>Delete</button>\r\n            : ''}\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default EditModelForm;\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter, Redirect } from \"react-router-dom\";\r\nimport EditModelForm from \"./EditModelForm\";\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nconst columns = [\r\n  {\r\n    name: 'title',\r\n    title: 'Title',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'description',\r\n    title: 'Description'\r\n  }\r\n];\r\n\r\n\r\nclass EditModel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { id } = this.props.match.params;\r\n    this.state = {\r\n      model: {\r\n        name: '',\r\n        title: '',\r\n        description: '',\r\n        bounded_model: '',\r\n        soft_deletes: false,\r\n        time_stamps: false\r\n      },\r\n      fields: null,\r\n      relations: null,\r\n      id,\r\n      queries: [],\r\n      // sql_editors: [],\r\n      // fields: [],\r\n      // relations: []\r\n    };\r\n\r\n    this.modelsResource = new Resource({route: '/admin/ajax/models'});\r\n    if(id){\r\n      this.fieldsResource = new Resource({route: `/admin/ajax/models/${id}/fields`});\r\n      this.relationsResource = new Resource({route: `/admin/ajax/models/${id}/relations`});\r\n      this.queriesResource = new Resource({route: `/admin/ajax/models/${id}/queries`});\r\n    }\r\n  }\r\n\r\n  updateFields = async() => {\r\n    let fields = await this.fieldsResource.getAll();\r\n    fields = fields.filter(({ name }) => name !== 'id');\r\n    this.setState(state => ({ ...state, fields }));\r\n  }\r\n\r\n  updateRelations = async() => {\r\n    let relations = await this.relationsResource.getAll();\r\n    this.setState(state => ({ ...state, relations }));\r\n  }\r\n\r\n  updateQueries = async () => {\r\n    let queries = await this.queriesResource.getAll();\r\n    this.setState(state => ({ ...state, queries }));\r\n  }\r\n\r\n  /**\r\n   * Загрузим данные модели\r\n   * @return {Promise<void>}\r\n   */\r\n  async componentDidMount() {\r\n    // TODO: делать запросы асинхронно\r\n    if(this.state.id){\r\n      let model = await this.modelsResource.get(this.state.id);\r\n      let relations = await this.relationsResource.getAll();\r\n      let fields = await this.fieldsResource.getAll();\r\n      let queries = await this.queriesResource.getAll();\r\n      fields = fields.filter(({name}) => name !== 'id');\r\n      this.setState(state=>({\r\n          ...state,\r\n        model,\r\n        relations,\r\n        fields,\r\n        queries\r\n      }))\r\n    }\r\n  }\r\n  /**\r\n   * Обработка формы\r\n   * @return {*}\r\n   */\r\n  onSubmit = async (model) => {\r\n    let res;\r\n    if(this.state.id){\r\n      res = await this.modelsResource.put(this.state.id ,model);\r\n    } else {\r\n      res = await this.modelsResource.post(model);\r\n    }\r\n    this.props.history.push(\"/admin/tables/models\");\r\n  };\r\n  render() {\r\n    const { model, fields, relations, queries, sql_editors } = this.state;\r\n\r\n    const { id } = this.props.match.params;\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Tables / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">{this.state.id ? 'Edit Model' : 'Add Model'}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <EditModelForm model={model}\r\n                       submitText={model.id ? 'Save' : 'Add'}\r\n                       edit={model.id}\r\n                       onSubmit={this.onSubmit}/>\r\n\r\n\r\n        {fields ?  <><h2 className=\"sub-header\">Fields</h2>\r\n        <AdminTable\r\n          columns={columns}\r\n          quickActions={[{ tag: 'Link', props: {\r\n              href: `/admin/tables/models/${id}/fields/edit/:id`,\r\n            },\r\n            title: 'Edit'\r\n          } , {\r\n            tag: 'button',\r\n            route: `/admin/ajax/models/${id}/fields/:id`,\r\n            method: 'delete',\r\n            confirm: 'Are You Sure?',\r\n            after: () => this.updateFields(),\r\n            className: 'quick-action-menu__item_danger',\r\n            title: 'Trash'\r\n          }]}\r\n          rows={fields.map(field => ({ ...field, editUrl: `/admin/tables/models/${model.id}/fields/edit/${field.id}` }))}\r\n        />\r\n        <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/fields/add`}>Add Field</Link>\r\n        </> : ''}\r\n        {relations ?<>\r\n        <h2 className=\"sub-header\">Relations</h2>\r\n        <AdminTable\r\n          columns={columns}\r\n          quickActions={[{ tag: 'Link', props: {\r\n              href: `/admin/tables/models/${id}/relations/edit/:id`,\r\n            },\r\n            title: 'Edit'\r\n          } , {\r\n            tag: 'button',\r\n            route: `/admin/ajax/models/${id}/relations/:id`,\r\n            method: 'delete',\r\n            confirm: 'Are You Sure?',\r\n            after: () => this.updateRelations(),\r\n            className: 'quick-action-menu__item_danger',\r\n            title: 'Trash'\r\n          }]}\r\n          rows={relations.map(relation => ({ ...relation, editUrl: `/admin/tables/models/${model.id}/relations/edit/${relation.id}` }))}\r\n        />\r\n        <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/relations/add`}>Add Relation</Link>\r\n        </> : ''}\r\n        {queries ? <>\r\n        <h2 className=\"sub-header\">Queries</h2>\r\n        <AdminTable\r\n          columns={columns}\r\n          rows={queries.map(query => ({ ...query, editUrl: `/admin/tables/models/${model.id}/queries/edit/${query.id}` }))}\r\n          quickActions={[{\r\n            tag: 'Link', props: {\r\n              href: `/admin/tables/models/${model.id}/queries/edit/:id`,\r\n            },\r\n            title: 'Edit'\r\n          }, {\r\n            tag: 'button',\r\n            route: `/admin/ajax/models/${model.id}/queries/:id`,\r\n            method: 'delete',\r\n            confirm: 'Are You Sure?',\r\n            after: () => this.updateQueries(),\r\n            className: 'quick-action-menu__item_danger',\r\n            title: 'Trash'\r\n          }]}\r\n        />\r\n        <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/queries/add`}>Add Query</Link>\r\n        </> : ''}\r\n        {sql_editors ? <>\r\n        <h2 className=\"sub-header\">SQL Editors</h2>\r\n        <AdminTable\r\n          columns={columns}\r\n          rows={sql_editors.map(query => ({ ...query, editUrl: `/admin/tables/models/${model.id}/sql_editors/edit/${query.id}` }))}\r\n        />\r\n        <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/sql_editors/add`}>Add Editor</Link>\r\n        </> : ''}\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(EditModel);","import React, { Component } from \"react\";\r\n\r\nclass FieldCalculationLogic extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      rightType: \"string\",\r\n      is1stString: true,\r\n      is2ndString: true,\r\n      right: {\r\n        string: '',\r\n        fieldId: '',\r\n        string_1: '',\r\n        fieldId_1: '',\r\n        string_2: '',\r\n        fieldId_2: '',\r\n      }\r\n    };\r\n    this.rightTypeHandler = this.rightTypeHandler.bind(this);\r\n    this.rightChangeHandler = this.rightChangeHandler.bind(this);\r\n    this.setRight = this.setRight.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { right } = this.props.item;\r\n    if (right) {\r\n      typeof this.props.item.right === \"string\" ?\r\n        this.setState({ rightType: \"string\", right: { ...this.state.right, string: right } }) :\r\n        this.setState({ rightType: \"object\", right: { ...this.state.right, fieldId: right.id } })\r\n    }\r\n  }\r\n\r\n  rightTypeHandler(type) {\r\n    this.setState(_state => ({ rightType: type }), this.setRight)\r\n  }\r\n\r\n  rightChangeHandler({ target: { value, name } }) {\r\n    this.setState(state => {\r\n      state.right[name] = value;\r\n      return state;\r\n    }, this.setRight)\r\n  }\r\n\r\n  operatorChangeHandler(value) {\r\n    switch (value) {\r\n      case \"not-null\":\r\n      case \"null\":\r\n        this.rightTypeHandler(\"null\");\r\n        break;\r\n      case \"between\":\r\n        this.rightTypeHandler(\"array\");\r\n        break;\r\n      default:\r\n        this.rightTypeHandler(\"string\");\r\n        break;\r\n    }\r\n    this.props.changeHandler({ value, name: \"operator\" });\r\n  }\r\n\r\n  setRight() {\r\n    const { rightType, is1stString, is2ndString, right } = this.state;\r\n    let value;\r\n\r\n    switch (rightType) {\r\n      case \"string\":\r\n        value = right.string;\r\n        break;\r\n      case \"object\":\r\n        value = { id: right.fieldId }\r\n        break;\r\n      case \"null\":\r\n        value = null\r\n        break;\r\n      case \"array\":\r\n        value = [\r\n          is1stString ? right.string_1 : { id: right.fieldId_1 },\r\n          is2ndString ? right.string_2 : { id: right.fieldId_2 }\r\n        ]\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    this.props.changeHandler({ name: \"right\", value });\r\n  }\r\n\r\n  render() {\r\n    const { item, index, fieldsOptions, changeHandler, deleteItemHandler } = this.props;\r\n    const { rightType, right, is1stString, is2ndString } = this.state;\r\n    return <>\r\n      <div className=\"flex-container\">\r\n        <p>if</p>\r\n        <button className=\"btn btn_failure\" type=\"button\" onClick={deleteItemHandler}>\r\n          Delete\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor={\"left\" + index}>Field Name</label>\r\n        <select className=\"form-control\" id={\"left\" + index} name=\"left\" required\r\n          value={item.left}\r\n          onChange={({ target: { value, name } }) => changeHandler({ value, name })}\r\n        >\r\n          <option disabled value=\"\" />\r\n          {fieldsOptions.map(({ value, label }) =>\r\n            <option value={value} key={value}>{label}</option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <p>Comparison Operators</p>\r\n\r\n      <div className=\"form-group\">\r\n        <select className=\"form-control\" name=\"operator\" required\r\n          value={item.operator}\r\n          onChange={({ target: { value } }) => this.operatorChangeHandler(value)}\r\n        >\r\n          <option value=\"\" disabled />\r\n          {/* <option value=\"not-null\">Not Null</option>\r\n          <option value=\"null\">Null</option> */}\r\n          <option value=\"==\">Equals</option>\r\n          <option value=\"<>\">Not Equals</option>\r\n          {/* <option value=\"between\">Between</option> */}\r\n          <option value=\">\">&gt;</option>\r\n          <option value=\">=\">&gt;=</option>\r\n          <option value=\"<\">&lt;</option>\r\n          <option value=\"<=\">&lt;=</option>\r\n        </select>\r\n      </div>\r\n\r\n      {[\"string\", \"object\"].includes(rightType) &&\r\n        <div className=\"form-group__inline-wrapper\">\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={rightType === \"string\"}\r\n                onChange={() => this.rightTypeHandler(\"string\")}\r\n              />\r\n            </label>\r\n            <input type=\"text\" className=\"form-control\" name=\"string\"\r\n              required={rightType === \"string\"}\r\n              value={right.string}\r\n              disabled={rightType !== \"string\"}\r\n              onChange={this.rightChangeHandler}\r\n            />\r\n          </div>\r\n\r\n          <p className=\"form-group__inline-wrapper__divider\">or</p>\r\n\r\n          <div className=\"form-group form-group_width47\">\r\n            <label htmlFor={\"right\" + index}>Field Name\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={rightType === \"object\"}\r\n                onChange={() => this.rightTypeHandler(\"object\")}\r\n              />\r\n            </label>\r\n            <select className=\"form-control\" id={\"right\" + index} name=\"fieldId\"\r\n              required={rightType === \"object\"}\r\n              value={right.fieldId}\r\n              disabled={rightType !== \"object\"}\r\n              onChange={this.rightChangeHandler}\r\n            >\r\n              <option disabled value=\"\" />\r\n              {fieldsOptions.map(({ value, label }) =>\r\n                <option value={value} key={value}>{label}</option>)}\r\n            </select>\r\n          </div>\r\n        </div>}\r\n\r\n      {rightType === \"array\" && <>\r\n        <div className=\"form-group__inline-wrapper\">\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={is1stString}\r\n                onChange={() => this.setState({ is1stString: true }, this.setRight)}\r\n              />\r\n            </label>\r\n            <input type=\"text\" className=\"form-control\" name=\"string_1\"\r\n              required={is1stString}\r\n              value={right.string_1}\r\n              disabled={!is1stString}\r\n              onChange={this.rightChangeHandler}\r\n            />\r\n          </div>\r\n\r\n          <p className=\"form-group__inline-wrapper__divider\">or</p>\r\n\r\n          <div className=\"form-group form-group_width47\">\r\n            <label htmlFor={\"right\" + index}>Field Name\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={!is1stString}\r\n                onChange={() => this.setState({ is1stString: false }, this.setRight)}\r\n              />\r\n            </label>\r\n            <select className=\"form-control\" id={\"right\" + index} name=\"fieldId_1\"\r\n              required={!is1stString}\r\n              value={right.fieldId_1}\r\n              disabled={is1stString}\r\n              onChange={this.rightChangeHandler}\r\n            >\r\n              <option disabled value=\"\" />\r\n              {fieldsOptions.map(({ value, label }) =>\r\n                <option value={value} key={value}>{label}</option>)}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <p className=\"centred\">and</p>\r\n\r\n        <div className=\"form-group__inline-wrapper\">\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={is2ndString}\r\n                onChange={() => this.setState({ is2ndString: true }, this.setRight)}\r\n              />\r\n            </label>\r\n            <input type=\"text\" className=\"form-control\" name=\"string_2\"\r\n              required={is2ndString}\r\n              value={right.string_2}\r\n              disabled={!is2ndString}\r\n              onChange={this.rightChangeHandler}\r\n            />\r\n          </div>\r\n\r\n          <p className=\"form-group__inline-wrapper__divider\">or</p>\r\n\r\n          <div className=\"form-group form-group_width47\">\r\n            <label htmlFor={\"right\" + index}>Field Name\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={!is2ndString}\r\n                onChange={() => this.setState({ is2ndString: false }, this.setRight)}\r\n              />\r\n            </label>\r\n            <select className=\"form-control\" id={\"right\" + index} name=\"fieldId_2\"\r\n              required={!is2ndString}\r\n              value={right.fieldId_2}\r\n              disabled={is2ndString}\r\n              onChange={this.rightChangeHandler}\r\n            >\r\n              <option disabled value=\"\" />\r\n              {fieldsOptions.map(({ value, label }) =>\r\n                <option value={value} key={value}>{label}</option>)}\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </>}\r\n\r\n      <p>Then = </p>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor={\"result\" + index}>Value</label>\r\n        <input type=\"text\" className=\"form-control\" id={\"result\" + index} name=\"result\" required\r\n          value={item.result}\r\n          onChange={({ target: { value, name } }) => changeHandler({ value, name })}\r\n        />\r\n      </div>\r\n      <p>E.g. [field_name]*[field_name] + 10</p>\r\n    </>\r\n  }\r\n}\r\n\r\nexport default FieldCalculationLogic;\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport FieldCalculationLogic from \"./FieldCalculationLogic\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { titleToName } from \"../../js/helpers\";\r\n\r\nconst fieldTypeOptions = [\r\n  {\r\n    value: 'string',\r\n    label: 'String'\r\n  },\r\n  {\r\n    value: 'integer',\r\n    label: 'integer'\r\n  },\r\n  {\r\n    value: 'bigInteger',\r\n    label: 'Big Integer'\r\n  },\r\n  {\r\n    value: 'float',\r\n    label: 'Float'\r\n  },\r\n  {\r\n    value: 'boolean',\r\n    label: 'Boolean'\r\n  },\r\n  {\r\n    value: 'text',\r\n    label: 'Text'\r\n  },\r\n  {\r\n    value: 'longText',\r\n    label: 'Long Text'\r\n  },\r\n  {\r\n    value: 'calculated',\r\n    label: 'Calculated'\r\n  },\r\n  {\r\n    value: 'date',\r\n    label: 'Date'\r\n  },\r\n  {\r\n    value: 'time',\r\n    label: 'Time'\r\n  },\r\n  {\r\n    value: 'year',\r\n    label: 'Year'\r\n  },\r\n  {\r\n    value: 'dateTime',\r\n    label: 'Datetime'\r\n  },\r\n  {\r\n    value: 'geometry',\r\n    label: 'Geometry'\r\n  },\r\n  {\r\n    value: 'json',\r\n    label: 'JSON'\r\n  },\r\n  {\r\n    value: 'binary',\r\n    label: 'Binary'\r\n  },\r\n];\r\nconst attributeOptions = [\r\n\r\n  {\r\n    value: 'unsigned',\r\n    label: 'UNSIGNED'\r\n  }\r\n];\r\nconst inputTipeOptions = ['textarea', 'text', 'number', 'slider', 'WYSIWYG', 'color', 'select', 'checkbox', 'radio button'];\r\n\r\n\r\nclass AddFieldForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isAlways: false,\r\n      fieldsOptions: [],\r\n      value: {\r\n        name: '',\r\n        title: '',\r\n        description: '',\r\n        is_label: false,\r\n        is_title: false,\r\n        is_auth: false,\r\n        type: 'string',\r\n        length_value: '',\r\n        default: '',\r\n        attribute: '',\r\n        input_type: 'text',\r\n        options: '',\r\n        null: false,\r\n        indexed: false,\r\n        editable: true,\r\n        calculation: '',\r\n        calculation_logic: [\r\n          { left: '', operator: '', result: '', right: '' }\r\n        ],\r\n      },\r\n      // value: this.props.field || {},\r\n    };\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n    this.itemChangeHandler = this.itemChangeHandler.bind(this);\r\n    this.addItemHandler = this.addItemHandler.bind(this);\r\n    this.deleteItemHandler = this.deleteItemHandler.bind(this);\r\n    this.titleChangeHandler = this.titleChangeHandler.bind(this);\r\n\r\n    this.filedsResource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.modelId}/fields` });\r\n    this.fieldsOptionsResource = new Resource({\r\n      route: `/admin/ajax/models/${this.props.match.params.modelId}/field_options`\r\n    });\r\n  }\r\n  /**\r\n   * новый field в props\r\n   * */\r\n  // componentDidUpdate(prevProps){\r\n  //   if(this.props !== prevProps){\r\n  //     this.setState(state => {\r\n  //       state = { ...state };\r\n  //       state.value = {...this.props.field};\r\n  //       return state\r\n  //     });\r\n  //   }\r\n  // }\r\n  /**\r\n   * Изменение данны с валидацией\r\n   * @param {string} value\r\n   * @param {string} field\r\n   */\r\n\r\n  changeValue(value, field) {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      if (field === 'default') {\r\n\r\n        if(state.value.size && value.length > state.value.size){\r\n          value = value.substring(0, parseInt(state.value.size))\r\n        }\r\n        switch (state.value.type) {\r\n          case 'boolean':{\r\n            if(value === ''){\r\n              value = null;\r\n            } else if (value != '0' && value != '1'){\r\n              value = 1;\r\n            }\r\n          }\r\n          break;\r\n          case 'bigInteger':{\r\n            if(!isNaN(value) && value !== '0'){\r\n              value = parseInt(value);\r\n            } else if(value === ''){\r\n              value = null;\r\n            } else {\r\n              value = '0';\r\n            }\r\n          }\r\n          break;\r\n          case 'integer':{\r\n            if(!isNaN(value) && value !== '0'){\r\n              value = parseInt(value);\r\n            } else if(value === ''){\r\n              value = null;\r\n            } else {\r\n              value = '0';\r\n            }\r\n          }\r\n          break;\r\n        }\r\n      }\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  titleChangeHandler(e) {\r\n    e.persist();\r\n    this.setState(state => ({\r\n      ...state, value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: this.props.match.params.id ? state.value.name : titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  submitHandler(e) {\r\n    e.preventDefault();\r\n    const { history, match } = this.props;\r\n    const { name, title, description, is_label, is_title, is_auth, type, size, default: default_, attribute, input_type,\r\n      options, null: _null, indexed, editable, calculation, calculation_logic } = this.state.value;\r\n\r\n    let data = {};\r\n\r\n    if (type === \"calculated\") {\r\n      this.state.isAlways ?\r\n        data = { title, description, type, calculation, name, } :\r\n        data = { title, description, type, calculation_logic, name, };\r\n    } else {\r\n      data = { name, title, description, is_label, is_title, is_auth, type, size, default: default_, attribute, input_type, null: _null, indexed, editable };\r\n      if (['select', 'checkbox', 'radio button'].includes(input_type)) {\r\n        data = { ...data, options };\r\n      }\r\n      console.log(default_);\r\n      if (['integer', 'bigInteger'].includes(type)) {\r\n        data.default = default_;\r\n      }\r\n    }\r\n\r\n    if (_.isFunction(this.props.onSubmit)) {\r\n      this.props.onSubmit(data);\r\n    }\r\n  }\r\n\r\n  addItemHandler() {\r\n    this.setState(state => {\r\n      state.value.calculation_logic\r\n        .push({ left: '', operator: '', result: '', right: '' });\r\n      return state;\r\n    })\r\n  }\r\n\r\n  deleteItemHandler(index) {\r\n    this.setState(state => {\r\n      state.value.calculation_logic.splice(index, 1);\r\n      return state;\r\n    })\r\n  }\r\n\r\n  itemChangeHandler({ name, value }, index) {\r\n    this.setState(state => {\r\n      state.value.calculation_logic[index][name] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { options } = await this.fieldsOptionsResource.getAll();\r\n\r\n    if (this.props.match.params.id) {\r\n      let value = await this.filedsResource.get(this.props.match.params.id);\r\n\r\n      if (typeof value.calculation_logic === 'string') {\r\n        value.calculation_logic = JSON.parse(value.calculation_logic);\r\n      }  \r\n      this.setState(state => ({ ...state, isAlways: value.calculation ? true : false ,  value: { ...state.value, ...value } }));\r\n    }\r\n    this.setState(state => ({ ...state, fieldsOptions: options }));\r\n  }\r\n\r\n  render() {\r\n    const { modelId } = this.props.match.params;\r\n    return <form className=\"admin-form field-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group \">\r\n        <label htmlFor=\"field-title\">Field Title</label>\r\n        <input type=\"text\" id=\"field-title\" required\r\n          value={this.state.value.title || ''}\r\n          onChange={this.titleChangeHandler}\r\n          className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group__inline-wrapper\">\r\n\r\n        <div className=\"form-group form-group_width30\">\r\n          <label htmlFor=\"field-name\">Field Name</label>\r\n          <input type=\"text\" id=\"field-name\" required readOnly={this.props.match.params.id}\r\n            value={this.state.value.name || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n        <div className=\"form-group form-group_width65\">\r\n          <label htmlFor=\"field-description\">Field Description</label>\r\n          <input type=\"text\" id=\"field-description\"\r\n            value={this.state.value.description || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"field-type\">Field Type</label>\r\n        <select id=\"field-type\" required\r\n          value={this.state.value.type || ''}\r\n          onChange={e => { this.changeValue(e.target.value, 'type') }}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\" />\r\n          {fieldTypeOptions.map(item =>\r\n            <option key={item.value} value={item.value}>\r\n              {item.label}\r\n            </option>)}\r\n        </select>\r\n      </div>\r\n\r\n      {this.state.value.type === 'calculated' ?\r\n        <>\r\n          <div className=\"form-group col-6 form-check-inline\">\r\n            <input type=\"checkbox\" id=\"always\"\r\n              className=\"form-check-input\"\r\n              checked={this.state.isAlways}\r\n              onChange={e => this.setState({ isAlways: e.target.checked })}\r\n            />\r\n            <label htmlFor=\"always\" className=\"label_checkbox\">Always</label>\r\n          </div>\r\n\r\n          {this.state.isAlways ?\r\n            <>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"calculation\">Calculation</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"calculation\"\r\n                  value={this.state.value.calculation}\r\n                  onChange={e => { this.changeValue(e.target.value, 'calculation') }}\r\n                />\r\n              </div>\r\n              <p>E.g. [field_name]*[field_name] + 10</p>\r\n            </> :\r\n            <>\r\n              {this.state.value.calculation_logic.map((item, index) => <>\r\n                {index !== 0 && <hr />}\r\n                <FieldCalculationLogic\r\n                  item={item}\r\n                  index={index}\r\n                  fieldsOptions={this.state.fieldsOptions}\r\n                  key={index}\r\n                  changeHandler={item => this.itemChangeHandler(item, index)}\r\n                  deleteItemHandler={() => this.deleteItemHandler(index)}\r\n                />\r\n              </>)}\r\n              <button className=\"btn\" type=\"button\" onClick={this.addItemHandler}>\r\n                + Calculated Logic\r\n              </button>\r\n            </>}\r\n        </> :\r\n        <>\r\n          <div className=\"checkbox-group\">\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-is_label\"\r\n                checked={this.state.value.is_label}\r\n                onChange={e => { this.changeValue(e.target.checked, 'is_label') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-is_label\">As Label</label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-is_title\"\r\n                checked={this.state.value.is_title}\r\n                onChange={e => { this.changeValue(e.target.checked, 'is_title') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-is_title\">As Title</label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-is_auth\"\r\n                     checked={this.state.value.is_auth}\r\n                     onChange={e => { this.changeValue(e.target.checked, 'is_auth') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-is_auth\">Set Auth</label>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group__inline-wrapper\">\r\n            <div className=\"form-group form-group_width47\">\r\n              <label htmlFor=\"field-length_value\">Length/Value</label>\r\n              <input type=\"number\" id=\"field-length_value\"\r\n                value={this.state.value.size || ''}\r\n                onChange={e => { this.changeValue(+e.target.value, 'size') }}\r\n                className=\"form-control\" />\r\n            </div>\r\n\r\n            <div className=\"form-group form-group_width47\">\r\n              <label htmlFor=\"field-default\">Default</label>\r\n              <input type=\"text\" id=\"field-default\"\r\n                value={this.state.value.default || ''}\r\n                onChange={e => { this.changeValue(e.target.value, 'default') }}\r\n                className=\"form-control\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"field-attribute\">Attribute</label>\r\n            <select id=\"field-attribute\"\r\n              value={this.state.value.attribute || ''}\r\n              onChange={e => { this.changeValue(e.target.value, 'attribute') }}\r\n              className=\"form-control\"\r\n            >\r\n              <option value=\"\" />\r\n              {attributeOptions.map(item =>\r\n                <option key={item.value} value={item.value}>\r\n                  {item.label}\r\n                </option>)}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"field-input_type\">Input Type</label>\r\n            <select id=\"field-input_type\" required\r\n              value={this.state.value.input_type || ''}\r\n              onChange={e => { this.changeValue(e.target.value, 'input_type') }}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {inputTipeOptions.map(item =>\r\n                <option key={item} value={item}>\r\n                  {item}\r\n                </option>)}\r\n            </select>\r\n          </div>\r\n\r\n          {['select', 'checkbox', 'radio button'].includes(this.state.value.input_type) && <>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"field-options\">Options</label>\r\n              <textarea id=\"field-options\"\r\n                value={this.state.value.options || ''}\r\n                onChange={e => { this.changeValue(e.target.value, 'options') }}\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n            <p>Enter each choice on a new line.</p>\r\n            <p>Fro more control, you may specify both a value and label like this:</p>\r\n            <p>red | Red</p>\r\n          </>}\r\n\r\n          <div className=\"checkbox-group\">\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-nullable\"\r\n                checked={this.state.value.null}\r\n                onChange={e => { this.changeValue(e.target.checked, 'null') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-nullable\">Nullable</label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-indexed\"\r\n                checked={this.state.value.indexed}\r\n                onChange={e => { this.changeValue(e.target.checked, 'indexed') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-indexed\">Indexed</label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-editable\"\r\n                checked={this.state.value.editable}\r\n                onChange={e => { this.changeValue(e.target.checked, 'editable') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-editable\">Editable</label>\r\n            </div>\r\n          </div>\r\n        </>\r\n      }\r\n      <div className=\"btn__wrapper btn_add\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link className=\"btn\" to={`/admin/tables/models/edit/${modelId}`}>Cancel</Link>\r\n        {/* TODO: отображать кнопку если в форме редактируются данные\r\n          повесить обработчик удаления\r\n        <button className=\"btn btn_failure\">Delete</button> */}\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddFieldForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AddFieldForm from \"./AddFieldForm\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass EditField extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modelTitle: 'Model Title',\r\n      field: {},\r\n    };\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/models' });\r\n    this.filedsResource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.modelId}/fields` });\r\n  }\r\n  async componentDidMount() {\r\n    const { modelId } = this.props.match.params;\r\n    let model = await this.modelsResource.get(modelId);\r\n    this.setState({ modelTitle: model.title });\r\n  }\r\n\r\n  /**\r\n   * отправка данных\r\n   * @return {*}\r\n   */\r\n  onSubmit = async data => {\r\n    const { modelId } = this.props.match.params;\r\n    const { history } = this.props;\r\n    if (this.props.match.params.id) {\r\n      let res = await this.filedsResource.put(this.props.match.params.id, data);\r\n      history.push(`/admin/tables/models/edit/${modelId}`);\r\n    } else {\r\n      let res = await this.filedsResource.post(data);\r\n      history.push(`/admin/tables/models/edit/${modelId}`);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { modelTitle } = this.state;\r\n    const { modelId } = this.props.match.params;\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Models / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <Link className=\"admin-breadcrumbs__link\" to={`/admin/tables/models/edit/${modelId}`}>\r\n            {modelTitle}\r\n          </Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">Add New Field</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AddFieldForm onSubmit={this.onSubmit} />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(EditField);","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {titleToName} from \"../../js/helpers\";\r\n\r\nconst relationTypeOptions = [\r\n  {\r\n    value: 'hasOne',\r\n    label: 'Has One'\r\n  },\r\n  {\r\n    value: 'belongsTo',\r\n    label: 'Belongs To'\r\n  },\r\n  {\r\n    value: 'hasMany',\r\n    label: 'Has Many'\r\n  },\r\n];\r\nconst deleteUpdateOptions = [\r\n  {\r\n    value: 'cascade',\r\n    label: 'cascade'\r\n  },\r\n  {\r\n    value: 'set null',\r\n    label: 'set null'\r\n  },\r\n  {\r\n    value: 'no action',\r\n    label: 'no action'\r\n  },\r\n  {\r\n    value: 'restrict',\r\n    label: 'restrict'\r\n  }\r\n];\r\n\r\nclass AddRelationForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modelsOptions: [],\r\n      value: {\r\n        title: '',\r\n        description: '',\r\n        type: '',\r\n        model_id: this.props.match.params.modelId,\r\n        add_belong_to: false,\r\n        editable: true,\r\n        always_with: false,\r\n        local_key: '',\r\n        foreign_key: '',\r\n        onDelete: 'set null',\r\n        onUpdate: 'set null'\r\n      },\r\n      selfFieldsOptions: [],\r\n      foreignFieldsOptions: [],\r\n      relationTypeOptions,\r\n    };\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/model_options' });\r\n    this.relationsResource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.modelId}/relations` });\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { options } = await this.modelsResource.getAll();\r\n    const { modelId, id } = this.props.match.params;\r\n    //Модель может ссылаться на саму себя\r\n    //options = options.filter(option=>(Number(option.value) !== Number(modelId)));\r\n    this.setState({ modelsOptions: options });\r\n    let fields = await (new Resource({route: `/admin/ajax/models/${modelId}/fields`})).getAll();\r\n    let selfFieldsOptions = fields.map(field=>({\r\n      label: field.title,\r\n      value: field.name,\r\n    }));\r\n    this.setState(state=>({...state, selfFieldsOptions}));\r\n    if(id){\r\n      let value = await this.relationsResource.get(id);\r\n      this.updateForeignFieldOptions(value.target_model_id);\r\n      this.changeTargetModel(value.target_model_id);\r\n      this.setState(state=>({...state, value}));\r\n    }\r\n  }\r\n  /**\r\n   * Проверяем значение при смене модели\r\n   * если модель это User, то скроем Add Reverse Relation\r\n   * и уберем из вариантов связей Has many\r\n   * @param {string} value\r\n   */\r\n  changeTargetModel(value) {\r\n    let modelName = '';\r\n    this.state.modelsOptions.forEach(option=>{\r\n      if(parseInt(option.value) === parseInt(value)){\r\n        modelName = option.label;\r\n      }\r\n    });\r\n    let _relationTypeOptions = relationTypeOptions.filter(option=>{\r\n      if(modelName !== 'User'){\r\n        return true;\r\n      }\r\n      return option.value !== 'hasMany';\r\n    });\r\n    if(modelName === 'User'){\r\n      this.changeValue('hasOne', 'type');\r\n      this.changeValue(false, 'add_belong_to');\r\n    }\r\n    this.setState(state =>({...state, hideAddBelongTo:modelName === 'User', relationTypeOptions:_relationTypeOptions}));\r\n  }\r\n/**\r\n * Изменить значение\r\n * @param {*} value\r\n * @param {string} field\r\n */\r\n  changeValue(value, field) {\r\n  const { id } = this.props.match.params;\r\n\r\n  if(field === 'target_model_id'){\r\n    this.changeTargetModel(value);\r\n  }\r\n  this.setState(state => {\r\n      state = { ...state };\r\n      state.value[field] = value;\r\n      if(field === 'title' && ! id){\r\n        state.value.name = titleToName(value);\r\n      }\r\n      if((field === 'name')){\r\n        state.value.name = titleToName(value);\r\n      }\r\n      if(field === 'foreign_key'){\r\n        state.value[field] = titleToName(value);\r\n      }\r\n      if(field === 'target_model_id'){\r\n        this.updateForeignFieldOptions(value)\r\n      }\r\n      return state\r\n    })\r\n  }\r\n\r\n  /**\r\n   * При изменении модели для связи изменяем опции\r\n   * @param {string} modelId\r\n   */\r\n  async updateForeignFieldOptions(modelId){\r\n    let fields = await (new Resource({route: `/admin/ajax/models/${modelId}/fields`})).getAll();\r\n    let foreignFieldsOptions = fields.map(field=>({\r\n      label: field.title,\r\n      value: field.name,\r\n    }));\r\n    this.setState(state=>({...state, foreignFieldsOptions}))\r\n\r\n  }\r\n  /**\r\n   * Отправка данных\r\n   */\r\n  async submitHandler(e) {\r\n    e.preventDefault();\r\n    const { history, match } = this.props;\r\n    const data = this.state.value;\r\n    if (this.props.match.params.id) {\r\n      let res = await this.relationsResource.put(this.props.match.params.id, data);\r\n    } else {\r\n      let res = await this.relationsResource.post(data);\r\n    }\r\n    history.push(`/admin/tables/models/edit/${match.params.modelId}`);\r\n  }\r\n\r\n  /**\r\n   * вывод поля Local Key\r\n   */\r\n  renderLocalKey(){\r\n    const { id } = this.props.match.params;\r\n\r\n    return <div className=\"form-group form-group_width47\">\r\n      <label htmlFor=\"relation-local_key\">Local Key</label>\r\n      <select  id=\"relation-local_key\"\r\n             value={this.state.value.local_key || ''}\r\n             className=\"form-control\"\r\n             onChange={e => { this.changeValue(e.target.value, 'local_key') }}\r\n      >\r\n        <option disabled value=\"\" />\r\n        {this.state.selfFieldsOptions.map(({ value, label }) =>\r\n            <option key={value} value={value}>\r\n              {label}\r\n            </option>)}\r\n      </select>\r\n    </div>\r\n\r\n  }\r\n\r\n/**\r\n   * вывод поля Foreign Key\r\n   */\r\n  renderForeignKey(){\r\n    const { id } = this.props.match.params;\r\n\r\n    return<div className=\"form-group form-group_width47\">\r\n      <label htmlFor=\"relation-foreign_key\">Foreign Key</label>\r\n      <select id=\"relation-foreign_key\"\r\n        value={this.state.value.foreign_key || ''}\r\n        onChange={e => { this.changeValue(e.target.value, 'foreign_key') }}\r\n        className=\"form-control\"\r\n      >\r\n        <option disabled value=\"\" />\r\n        {this.state.foreignFieldsOptions.map(({ value, label }) =>\r\n          <option key={value} value={value}>\r\n            {label}\r\n          </option>)}\r\n      </select>\r\n    </div>\r\n  }\r\n\r\n\r\n  render() {\r\n    const { id } = this.props.match.params;\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"row\">\r\n        <div className=\"form-group col-12\">\r\n          <label htmlFor=\"relation-title\">Relation Title</label>\r\n          <input type=\"text\" id=\"relation-title\" required\r\n            value={this.state.value.title || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'title') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n        <div className=\"form-group col-4\">\r\n          <label htmlFor=\"relation-title\">Relation Name</label>\r\n          <input type=\"text\" id=\"relation-title\" required readOnly={id}\r\n            value={this.state.value.name || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group col-8\">\r\n          <label htmlFor=\"relation-description\">Relation Description</label>\r\n          <input type=\"text\" id=\"relation-description\" readOnly={id}\r\n            value={this.state.value.description || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"relation-type\">Relation Type</label>\r\n          <select id=\"relation-type\" required disabled={id}\r\n            value={this.state.value.type}\r\n            onChange={e => { this.changeValue(e.target.value, 'type') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {this.state.relationTypeOptions.map(item =>\r\n              <option key={item.value} value={item.value}>\r\n                {item.label}\r\n              </option>)}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"relation-model_id\">Model to Bound</label>\r\n          <select id=\"relation-model_id\" required\r\n            value={this.state.value.target_model_id || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'target_model_id') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {this.state.modelsOptions.map(({ value, label }) =>\r\n              <option key={value} value={value}>\r\n                {label}\r\n              </option>)}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"form-group col-4\">\r\n          {this.state.hideAddBelongTo || this.state.value.type === 'belongsTo' ? '' : <><input type=\"checkbox\" id=\"relation-add_belong_to\"\r\n            checked={this.state.value.add_belong_to} readOnly={id}\r\n            onChange={e => { this.changeValue(e.target.checked, 'add_belong_to') }}\r\n          />\r\n          <label className=\"checkbox-label\" htmlFor=\"relation-add_belong_to\">Add Reverse Relation</label></>}\r\n        </div>\r\n        <div className=\"form-group col-4\">\r\n          { (! ['hasMany', 'belongsTo'].includes(this.state.value.type)) ?\r\n              <><input type=\"checkbox\"\r\n                       id=\"field-editable\"\r\n                       checked={this.state.value.editable}\r\n                       onChange={e => { this.changeValue(e.target.checked, 'editable') }}\r\n          />\r\n            <label className=\"checkbox-label\" htmlFor=\"field-editable\">Editable</label></> : ''}\r\n\r\n        </div>\r\n        <div className=\"form-group col-4\">\r\n         <input type=\"checkbox\"\r\n                id=\"field-always_with\"\r\n                checked={this.state.value.always_with}\r\n                onChange={e => { this.changeValue(e.target.checked, 'always_with') }}\r\n          />\r\n            <label className=\"checkbox-label\" htmlFor=\"field-always_with\">Always With</label>\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group__inline-wrapper\">\r\n        {this.renderLocalKey()}\r\n        {this.renderForeignKey()}\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"onDelete\">On Delete</label>\r\n          <select id=\"onDelete\" required\r\n            value={this.state.value.onDelete}\r\n            onChange={e => { this.changeValue(e.target.value, 'onDelete') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {deleteUpdateOptions.map(({ value, label }) =>\r\n              <option key={value} value={value}>\r\n                {label.toUpperCase()}\r\n              </option>)}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"onUpdate\">On Update</label>\r\n          <select id=\"onUpdate\" required\r\n            value={this.state.value.onUpdate}\r\n            onChange={e => { this.changeValue(e.target.value, 'onUpdate') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {deleteUpdateOptions.map(({ value, label }) =>\r\n              <option key={value} value={value}>\r\n                {label.toUpperCase()}\r\n              </option>)}\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n       <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link className=\"btn\" to=\"/admin/tables/models\">Cancel</Link>\r\n        {/* <button className=\"btn btn_failure\">Delete</button> */}\r\n      </div>\r\n    </form>;\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AddRelationForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AddRelationForm from \"./AddRelationForm\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass AddRelation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modelTitle: 'Model Title'\r\n    };\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/models' });\r\n  }\r\n  \r\n  async componentDidMount() {\r\n    const { modelId } = this.props.match.params;\r\n    let model = await this.modelsResource.get(modelId);\r\n    this.setState({ modelTitle: model.title })\r\n  }\r\n\r\n  render() {\r\n    const { modelTitle } = this.state;\r\n    const { modelId } = this.props.match.params;\r\n\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Models / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <Link className=\"admin-breadcrumbs__link\" to={`/admin/tables/models/edit/${modelId}`}>\r\n            {modelTitle}\r\n          </Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">Add New Relation</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AddRelationForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddRelation);","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { titleToName } from \"../../js/helpers\";\r\n\r\nclass AddDataSourceForm extends Component {\r\n  state = {\r\n    modelsOptions: [],\r\n    value: {\r\n      title: '',\r\n      name: '',\r\n      description: '',\r\n      type: '',\r\n      request_type: '',\r\n      model_id: '',\r\n      url: '',\r\n      api_url: '',\r\n      auth: true,\r\n      access: {\r\n        roles: [],\r\n        permissions: []\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    const optionsResource = new Resource({ route: '/admin/ajax/model_options' });\r\n    optionsResource.getAll().then(({ options }) => this.setState({ modelsOptions: options }));\r\n    if (id) {\r\n      const resource = new Resource({ route: '/admin/ajax/data_sources' });\r\n      resource.get(id).then(value => this.setState({ value }));\r\n    }\r\n  }\r\n\r\n  changeValue = (value, field) => {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  titleChangeHandler = e => {\r\n    e.persist();\r\n    this.setState(state => ({\r\n      ...state, value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Смена ролей\r\n   */\r\n  changeRoles = (roles) => {\r\n    let _roles = [];\r\n    if (roles) roles.forEach(r => {\r\n      _roles.push(r.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.access.roles = _roles;\r\n      return newState;\r\n    });\r\n  };\r\n  /**\r\n   * Смена разрешений\r\n   */\r\n  changePermission = (permissions) => {\r\n    let _permissions = [];\r\n    if (permissions) permissions.forEach(p => {\r\n      _permissions.push(p.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.access.permissions = _permissions;\r\n      return newState;\r\n    });\r\n  };\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    const resource = new Resource({ route: '/admin/ajax/data_sources' });\r\n    resource.post(this.state.value);\r\n    console.log(this.state.value);\r\n  }\r\n\r\n  render() {\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-title\">Data Source Title</label>\r\n          <input type=\"text\" id=\"data-source-title\" required\r\n            value={this.state.value.title}\r\n            onChange={this.titleChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-title\">Data Source Name</label>\r\n          <input type=\"text\" id=\"data-source-title\" required\r\n            value={this.state.value.name}\r\n            onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"data-source-description\">Data Source Description</label>\r\n        <input type=\"text\" id=\"data-source-description\"\r\n          value={this.state.value.description}\r\n          onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-type\">Data Source Type</label>\r\n          <select id=\"data-source-type\" required\r\n            name=\"type\"\r\n            value={this.state.value.type}\r\n            onChange={e => { this.changeValue(e.target.value, 'type') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            <option value=\"remote\">remote</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-type\">Request Type</label>\r\n          <select id=\"data-source-type\" required\r\n            name=\"type\"\r\n            value={this.state.value.request_type}\r\n            onChange={e => { this.changeValue(e.target.value, 'request_type') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            <option value=\"get\">get</option>\r\n            <option value=\"post\">post</option>\r\n            <option value=\"put\">put</option>\r\n            <option value=\"delete\">delete</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"data-source-model_id\">Model</label>\r\n        <select id=\"data-source-model_id\" required\r\n          value={this.state.value.model_id}\r\n          onChange={e => { this.changeValue(e.target.value, 'model_id') }}\r\n          className=\"form-control\"\r\n        >\r\n          <option disabled value=\"\" />\r\n          {this.state.modelsOptions.map(({ value, label }) =>\r\n            <option key={value} value={value}>\r\n              {label}\r\n            </option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-url\">Route</label>\r\n          <input type=\"text\" id=\"data-source-url\" required\r\n            value={this.state.value.url}\r\n            onChange={e => { this.changeValue(e.target.value, 'url') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-api_url\">API Route</label>\r\n          <input type=\"text\" id=\"data-source-api_url\" required\r\n            value={this.state.value.api_url}\r\n            onChange={e => { this.changeValue(e.target.value, 'api_url') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Access</h2>\r\n\r\n      <input type=\"checkbox\" id=\"field-auth\"\r\n        checked={this.state.value.auth} value={this.state.value.auth}\r\n        onChange={e => { this.changeValue(e.target.checked, 'auth') }}\r\n      />\r\n      <label className=\"checkbox-label\" htmlFor=\"field-auth\">Auth</label>\r\n\r\n      {this.state.value.auth && <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group col-6\">\r\n          <label htmlFor=\"field-roles\">Roles</label>\r\n          <AltrpSelect id=\"field-roles\"\r\n            isMulti={true}\r\n            optionsRoute=\"/admin/ajax/role_options\"\r\n            placeholder=\"All\"\r\n            defaultOptions={[\r\n              {\r\n                value: null,\r\n                label: 'All',\r\n              }\r\n            ]}\r\n            value={this.state.value.roles}\r\n            onChange={this.changeRoles}\r\n          />\r\n        </div>\r\n        <div className=\"form-group col-6\">\r\n          <label htmlFor=\"field-permissions\">Permissions</label>\r\n          <AltrpSelect id=\"field-permissions\"\r\n            isMulti={true}\r\n            optionsRoute=\"/admin/ajax/permissions_options\"\r\n            placeholder=\"All\"\r\n            defaultOptions={[\r\n              {\r\n                value: null,\r\n                label: 'All',\r\n              }\r\n            ]}\r\n            value={this.state.value.permissions}\r\n            onChange={this.changePermission}\r\n          />\r\n        </div>\r\n      </div>}\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link className=\"btn\" to=\"/admin/tables/models\">Cancel</Link>\r\n        {/* <button className=\"btn btn_failure\">Delete</button> */}\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddDataSourceForm);","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AddDataSourceForm from \"./AddDataSourceForm\";\r\n\r\nclass AddDataSource extends Component {\r\n  render() {\r\n    const { id } = this.props.match.params;\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Models / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">{id ? 'Edit Data Source' : 'Add New Data Source'}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AddDataSourceForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddDataSource);","import React, { Component } from \"react\";\r\n\r\nconst typeOptions = ['sum', 'min', 'max', 'avg', 'count', 'distinct', 'count_distinct'];\r\n\r\nclass AggregateComponent extends Component {\r\n  render() {\r\n    const { type, column, alias } = this.props.item;\r\n    const { columnsOptions, changeHandler } = this.props;\r\n    return <div className=\"form-segment form-group__inline-wrapper\">\r\n      <div className=\"form-group form-group_width30\">\r\n        <label>Type\r\n          <select required name=\"type\"\r\n            value={type}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {typeOptions.map(type =>\r\n              <option key={type} value={type}>\r\n                {type}\r\n              </option>)}\r\n          </select>\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group form-group_width30\">\r\n        <label>Field\r\n          <select required name=\"column\"\r\n            value={column}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            <option value=\"*\">All</option>\r\n            {columnsOptions.map(({ value, label }) =>\r\n              <option key={value} value={value}>\r\n                {label}\r\n              </option>)}\r\n          </select>\r\n        </label>\r\n      </div>\r\n      \r\n      <div className=\"form-group form-group_width30\">\r\n        <label>Alias\r\n          <input type=\"text\" required name=\"alias\"\r\n            value={alias}\r\n            onChange={changeHandler}\r\n            className=\"form-control\" />\r\n        </label>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default AggregateComponent;","import React, { Component } from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nconst tablesOptions = tableId => new Resource({ route: `/admin/ajax/tables/${tableId}/columns` });\r\nclass JoinComponent extends Component {\r\n  state = {\r\n    targetColumnOptions: []\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { target_table } = this.props.item;\r\n    if (prevProps.item.target_table !== target_table) {\r\n      tablesOptions(target_table).getAll()\r\n        .then(targetColumnOptions => this.setState({ targetColumnOptions }));\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { target_table } = this.props.item;\r\n    if (target_table) {\r\n      tablesOptions(target_table).getAll()\r\n        .then(targetColumnOptions => this.setState({ targetColumnOptions }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { type, target_table, source_column, operator, target_column } = this.props.item;\r\n    const { changeHandler, tablesOptions, sourceColumnOptions } = this.props;\r\n    const { targetColumnOptions } = this.state;\r\n    return <div className=\"form-segment\">\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label>Type\r\n            <select required name=\"type\"\r\n              value={type}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              <option value=\"inner_join\">Inner Join</option>\r\n              <option value=\"left_join\">Left Join</option>\r\n              <option value=\"right_join\">Right Join</option>\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label>Target Table\r\n          <select required name=\"target_table\"\r\n              value={target_table}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {tablesOptions.map(({ value, label }) =>\r\n                <option disabled={value === target_table} value={value} key={value}>\r\n                  {label}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width30\">\r\n          <label>Source Column\r\n          <select required name=\"source_column\"\r\n              value={source_column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {sourceColumnOptions.map(({ label, value }) => <option value={value} key={value}>{label}</option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width30\">\r\n          <label>Operator\r\n            <select required name=\"operator\"\r\n              value={operator}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option value=\"\" disabled />\r\n              <option value=\"=\">Equals</option>\r\n              <option value=\"!=\">Not Equals</option>\r\n              <option value=\"like\">Like</option>\r\n              <option value=\">\">&gt;</option>\r\n              <option value=\">=\">&gt;=</option>\r\n              <option value=\"<\">&lt;</option>\r\n              <option value=\"<=\">&lt;=</option>\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width30\">\r\n          <label>Target Column\r\n            <select required name=\"target_column\"\r\n              value={target_column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\">{!target_table ? 'Choose Table First' : ''}</option>\r\n              {targetColumnOptions.map(({ id, title }) => <option value={id} key={id}>{title}</option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default JoinComponent;","/** @function getDateFormat\r\n  * @param {string} type тип поля where_date\r\n  * @return {string} формат отображаемых данных\r\n */\r\nexport function getDatePickerFormat(type) {\r\n  switch (type) {\r\n    case 'datetime':\r\n      return \"yyyy/MM/dd h:mm:ss\";\r\n    case 'date':\r\n      return \"yyyy/MM/dd\";\r\n    case 'time':\r\n      return \"h:mm:ss\";\r\n    case 'day':\r\n      return \"dd\";\r\n    case 'month':\r\n      return \"MM\";\r\n    case 'year':\r\n      return \"yyyy\";\r\n\r\n    default:\r\n      return \"yyyy\";\r\n  }\r\n}\r\n\r\n/** @function getDateFormat\r\n * Функция схожа с getDateFormat, с тем различием\r\n что moment запрашивает дату в формате DD - заглавные буквы\r\n * @param {string} type - тип поля where_date\r\n * @return {string | undefined} формат строки, получаемой из объекта Date\r\n */\r\nexport function getMomentFormat(type) {\r\n  switch (type) {\r\n    case 'datetime':\r\n      return \"YYYY/MM/DD H:mm:ss\";\r\n    case 'date':\r\n      return \"YYYY/MM/DD\";\r\n    case 'time':\r\n      return \"H:mm:ss\";\r\n    case 'day':\r\n      return \"DD\";\r\n    case 'month':\r\n      return \"MM\";\r\n    case 'year':\r\n      return \"YYYY\";\r\n\r\n    default:\r\n      return \"YYYY\";\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport moment from \"moment\";\r\nimport { getDatePickerFormat, getMomentFormat } from \"./helpers\";\r\n\r\nconst conditionTypeOptions = ['where', 'or_where', 'where_between', 'where_in', 'where_date', 'where_column'];\r\nconst dateTypesOptions = [\r\n  { value: 'datetime', label: 'Date - Time' },\r\n  { value: 'date', label: 'Date' },\r\n  { value: 'time', label: 'Time' },\r\n  { value: 'day', label: 'Day' },\r\n  { value: 'month', label: 'Month' },\r\n  { value: 'year', label: 'Year' }\r\n];\r\n\r\nclass ConditionComponent extends Component {\r\n  state = { isDateVar: false }\r\n\r\n  dateValueFormatChange = () => {\r\n    const { isDateVar } = this.state;\r\n\r\n    this.props.changeHandler({\r\n      target: {\r\n        value: isDateVar ? moment(new Date()).format(getMomentFormat(this.props.item.type)) : '',\r\n        name: \"value\"\r\n      }\r\n    });\r\n    this.setState({ isDateVar: !isDateVar });\r\n  }\r\n\r\n  render() {\r\n    const { columnsOptions, changeHandler, isFirst } = this.props;\r\n    const { condition_type, column, operator, value, or, not, values, type,\r\n      first_column, second_column } = this.props.item;\r\n    const { isDateVar } = this.state;\r\n\r\n    return <div className=\"form-segment\">\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width30\">\r\n          <label>Condition Type\r\n            <select required name=\"condition_type\"\r\n              value={condition_type}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {conditionTypeOptions.map(type =>\r\n                <option key={type} value={type} disabled={isFirst && type === 'or_where'}>\r\n                  {type}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        {condition_type && condition_type !== \"where_column\" && <div className=\"form-group form-group_width30\">\r\n          <label>Field\r\n            <select required name=\"column\"\r\n              value={column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {columnsOptions.map(({ value, label }) =>\r\n                <option key={value} value={value}>\r\n                  {label}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>}\r\n\r\n        {['where', 'or_where', 'where_column'].includes(condition_type) &&\r\n          <div className=\"form-group form-group_width30\">\r\n            <label>Operator\r\n              <select required name=\"operator\"\r\n                value={operator}\r\n                onChange={changeHandler}\r\n                className=\"form-control\"\r\n              >\r\n                <option value=\"\" disabled />\r\n                <option value=\"=\">Equals</option>\r\n                <option value=\"!=\">Not Equals</option>\r\n                <option value=\"like\">Like</option>\r\n                <option value=\">\">&gt;</option>\r\n                <option value=\">=\">&gt;=</option>\r\n                <option value=\"<\">&lt;</option>\r\n                <option value=\"<=\">&lt;=</option>\r\n              </select>\r\n            </label>\r\n          </div>}\r\n\r\n        {['where_between', 'where_in', 'where_column'].includes(condition_type) && <>\r\n          {!isFirst && <div className=\"form-group form-group_checkbox form-group_width15\">\r\n            <label className=\"label_checkbox\">\r\n              <input type=\"checkbox\" name=\"or\"\r\n                className=\"form-check-input\"\r\n                checked={or}\r\n                onChange={changeHandler}\r\n              /> Or\r\n            </label>\r\n          </div>}\r\n\r\n          {condition_type !== 'where_column' && <div className=\"form-group form-group_checkbox form-group_width15\">\r\n            <label className=\"label_checkbox\">\r\n              <input type=\"checkbox\" name=\"not\"\r\n                className=\"form-check-input\"\r\n                checked={not}\r\n                onChange={changeHandler}\r\n              /> Not\r\n            </label>\r\n          </div>}\r\n        </>}\r\n\r\n        {condition_type === \"where_date\" && <div className=\"form-group form-group_width30\">\r\n          <label>Type\r\n            <select id=\"type\" required name=\"type\"\r\n              value={type}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {dateTypesOptions.map(({ value, label }) =>\r\n                <option key={value} value={value}>{label}</option>)}\r\n            </select>\r\n          </label>\r\n        </div>}\r\n      </div>\r\n\r\n      {['where', 'or_where'].includes(condition_type) &&\r\n        <div className=\"form-group\">\r\n          <label>Value\r\n            <input type=\"text\" required name=\"value\"\r\n              value={value}\r\n              onChange={changeHandler}\r\n              className=\"form-control\" />\r\n          </label>\r\n        </div>}\r\n\r\n      {['where_between'].includes(condition_type) &&\r\n        <div className=\"form-group__inline-wrapper\">\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value 1\r\n              <input type=\"text\" required name=\"value1\"\r\n                value={values[0] || ''}\r\n                onChange={changeHandler}\r\n                className=\"form-control\" />\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value 2\r\n              <input type=\"text\" required name=\"value2\"\r\n                value={values[1] || ''}\r\n                onChange={changeHandler}\r\n                className=\"form-control\" />\r\n            </label>\r\n          </div>\r\n        </div>}\r\n\r\n      {condition_type === \"where_in\" && <>\r\n        <div className=\"form-group\">\r\n          <label>Values\r\n            <textarea required name=\"values\"\r\n              value={values.join(\", \")}\r\n              onChange={changeHandler}\r\n              className=\"form-control\" />\r\n          </label>\r\n        </div>\r\n        <p>Comma Separated</p>\r\n      </>}\r\n\r\n      {condition_type === \"where_date\" && <div className=\"row\">\r\n        <div className=\"form-group col-6\">\r\n          <label>Operator\r\n              <select required name=\"operator\"\r\n              value={operator}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option value=\"\" disabled />\r\n              <option value=\"=\">Equals</option>\r\n              <option value=\"!=\">Not Equals</option>\r\n              <option value=\">\">&gt;</option>\r\n              <option value=\">=\">&gt;=</option>\r\n              <option value=\"<\">&lt;</option>\r\n              <option value=\"<=\">&lt;=</option>\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className={`form-group col-6 ${[\"day\", \"month\"].includes(type) ? \"hide-blocks\" : \"\"}`}>\r\n          <label className=\"w-auto mb-0\">Value</label>\r\n          <label className=\"label_checkbox float-right w-auto\">\r\n            <input type=\"checkbox\"\r\n              className=\"form-check-input\"\r\n              checked={isDateVar}\r\n              onChange={this.dateValueFormatChange}\r\n            /> Set Variable\r\n            </label>\r\n          {isDateVar ?\r\n            <input type=\"text\" required name=\"value\"\r\n              value={value}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            /> :\r\n            <DatePicker selected={moment(value, getMomentFormat(type))._d}\r\n              showTimeSelect={[\"datetime\", \"time\"].includes(type)}\r\n              showYearPicker={type === \"year\"}\r\n              showTimeSelectOnly={type === \"time\"}\r\n              showMonthYearPicker={type === \"month\"}\r\n              dateFormat={getDatePickerFormat(type)}\r\n              className=\"form-control\"\r\n              onChange={value => changeHandler({\r\n                target: {\r\n                  value: moment(value).format(getMomentFormat(type)),\r\n                  name: \"value\"\r\n                }\r\n              })}\r\n            />}\r\n        </div>\r\n      </div>}\r\n\r\n      {condition_type === \"where_column\" && <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label>First Field\r\n            <select required name=\"first_column\"\r\n\r\n              value={first_column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {columnsOptions.map(({ value, label }) =>\r\n                <option key={value} value={value}>\r\n                  {label}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label>Second Field\r\n            <select required name=\"second_column\"\r\n              value={second_column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {columnsOptions.map(({ value, label }) =>\r\n                <option key={value} value={value}>\r\n                  {label}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n      </div>}\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default ConditionComponent;","import React, { Component } from \"react\";\r\n\r\nclass OrderByComponent extends Component {\r\n  render() {\r\n    const { type, column } = this.props.item;\r\n    const { columnsOptions, changeHandler } = this.props;\r\n\r\n    return <div className=\"form-segment form-group__inline-wrapper\">\r\n      <div className=\"form-group form-group_width47\">\r\n        <label>Field\r\n          <select required name=\"column\"\r\n            value={column}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {columnsOptions.map(({ value, label }) =>\r\n              <option key={value} value={label}>\r\n                {label}\r\n              </option>)}\r\n          </select>\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group form-group_width47\">\r\n        <label>Type\r\n          <select required name=\"type\"\r\n            value={type}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          >\r\n            {/*<option disabled value=\"\" />*/}\r\n            <option value=\"asc\">Asc</option>\r\n            <option value=\"desc\">Desc</option>\r\n          </select>\r\n        </label>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default OrderByComponent;","import React, { Component, Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { titleToName } from \"../../js/helpers\";\r\nimport AggregateComponent from \"./AggregateComponent\";\r\nimport JoinComponent from \"./JoinComponent\";\r\nimport ConditionComponent from \"./ConditionComponent\";\r\nimport OrderByComponent from \"./OrderByComponent\";\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\nimport { getMomentFormat } from \"./helpers\";\r\n\r\nclass SQLBuilderForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { modelId, id } = this.props.match.params;\r\n    this.state = {\r\n      value: {\r\n        title: \"\",\r\n        name: \"\",\r\n        columns: [],\r\n        aggregates: [],\r\n        joins: [],\r\n        conditions: [],\r\n        relations: [],\r\n        order_by: [],\r\n        access: { roles: [], permissions: [] },\r\n        group_by: [],\r\n        // offset: 'REQUEST:pageSize * (REQUEST:page - 1)',\r\n        // limit: 'REQUEST:pageSize'\r\n      },\r\n      relationsOptions: [],\r\n      rolesOptions: [],\r\n      permissionsOptions: [],\r\n      tablesOptions: [],\r\n      selfFields: [],\r\n      selfFieldsOptions: [],\r\n      isAggregateRaw: false\r\n      // isOffsetDisable: true,\r\n      // isLimitDisable: true\r\n    };\r\n    this.counter = 0;\r\n    this.rolesOptions = new Resource({ route: '/admin/ajax/role_options' });\r\n    this.permissionsOptions = new Resource({ route: '/admin/ajax/permissions_options' });\r\n    this.tablesOptions = new Resource({ route: '/admin/ajax/tables_options' });\r\n    this.selfFieldsResource = new Resource({ route: `/admin/ajax/models/${modelId}/fields_only` });\r\n    this.relationsResource = new Resource({ route: `/admin/ajax/models/${modelId}/relations` });\r\n    this.sqlResource = new Resource({ route: `/admin/ajax/models/${modelId}/queries` });\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n    this.multipleSelectChangeHandler = this.multipleSelectChangeHandler.bind(this);\r\n    this.aggregateChangeHandler = this.aggregateChangeHandler.bind(this);\r\n    this.aggregateAddHandler = this.aggregateAddHandler.bind(this);\r\n    this.aggregateDeleteHandler = this.aggregateDeleteHandler.bind(this);\r\n    this.joinChangeHandler = this.joinChangeHandler.bind(this);\r\n    this.joinAddHandler = this.joinAddHandler.bind(this);\r\n    this.joinDeleteHandler = this.joinDeleteHandler.bind(this);\r\n    this.conditionChangeHandler = this.conditionChangeHandler.bind(this);\r\n    this.orderByChangeHandler = this.orderByChangeHandler.bind(this);\r\n    this.orderByAddHandler = this.orderByAddHandler.bind(this);\r\n    this.orderByDeleteHandler = this.orderByDeleteHandler.bind(this);\r\n    this.titleChangeHandler = this.titleChangeHandler.bind(this);\r\n  }\r\n\r\n  /**\r\n   * запросы опций для селектов\r\n   *\r\n   */\r\n  async componentDidMount() {\r\n    const { id } = this.props.match.params\r\n    if (id) {\r\n      const value = await this.sqlResource.get(id);\r\n      this.setState(state => ({ ...state, value }));\r\n    }\r\n    const rolesOptions = await this.rolesOptions.getAll();\r\n    this.setState(state => ({ ...state, rolesOptions }));\r\n    const permissionsOptions = await this.permissionsOptions.getAll();\r\n    this.setState(state => ({ ...state, permissionsOptions }));\r\n    const tablesOptions = await this.tablesOptions.getAll();\r\n    this.setState(state => ({ ...state, tablesOptions }));\r\n    const selfFields = await this.selfFieldsResource.getAll();\r\n    let selfFieldsOptions = selfFields.map(field => {\r\n      return {\r\n        label: field.title,\r\n        value: field.name,\r\n      };\r\n    });\r\n    this.setState(state => ({ ...state, selfFields, selfFieldsOptions }));\r\n    const relations = await this.relationsResource.getAll();\r\n    let relationsOptions = relations.map(relation => {\r\n      return {\r\n        label: relation.title,\r\n        value: relation.name,\r\n      };\r\n    });\r\n    this.setState(state => ({ ...state, relationsOptions }));\r\n  }\r\n\r\n  /**\r\n   * Добавляет поля из добавленных связей\r\n   * @return {Promise<void>}\r\n   */\r\n  async addForeignFields() {\r\n\r\n  }\r\n\r\n  /**\r\n   * Смена группировки\r\n   */\r\n  changeGroupBy = (group_by) => {\r\n    let _group_by = [];\r\n    if (group_by) group_by.forEach(r => {\r\n      _group_by.push(r.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.group_by = _group_by;\r\n      return newState;\r\n    });\r\n  };\r\n  /**\r\n   * Смена колонок\r\n   */\r\n  changeColumns = (columns) => {\r\n    let _columns = [];\r\n    if (columns) columns.forEach(c => {\r\n      _columns.push(c.value)\r\n    });\r\n    this.setState(state => ({ ...state, value: { ...state.value, columns: _columns } }));\r\n  };\r\n  /**\r\n   * Смена связей\r\n   */\r\n  changeRelations = (relations) => {\r\n    let _relations = [];\r\n    if (relations) relations.forEach(r => {\r\n      _relations.push(r.value)\r\n    });\r\n    this.setState(state => ({ ...state, value: { ...state.value, relations: _relations } }));\r\n  };\r\n  /**\r\n   * Смена ролей\r\n   */\r\n  changeRoles = (roles) => {\r\n    let _roles = [];\r\n    if (roles) roles.forEach(r => {\r\n      _roles.push(r.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.access.roles = _roles;\r\n      return newState;\r\n    });\r\n  };\r\n  /**\r\n   * Смена разрешений\r\n   */\r\n  changePermission = (permissions) => {\r\n    let _permissions = [];\r\n    if (permissions) permissions.forEach(p => {\r\n      _permissions.push(p.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.access.permissions = _permissions;\r\n      return newState;\r\n    });\r\n  };\r\n\r\n  valueChangeHandler = ({ target: { value, name } }) => {\r\n    this.setState(state => ({ ...state, value: { ...state.value, [name]: value } }));\r\n  }\r\n\r\n  // обработчик изменения поля title, изменяющий значение поля name\r\n  titleChangeHandler(e) {\r\n    e.persist();\r\n    this.setState(state => ({\r\n      ...state,\r\n      value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  // обработчики событий для массива aggregates\r\n  aggregateChangeHandler({ target: { value, name } }, index) {\r\n    this.setState(state => {\r\n      const aggregates = [...state.value.aggregates];\r\n      aggregates[index] = { ...state.value.aggregates[index], [name]: value };\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, aggregates }\r\n      };\r\n    });\r\n  }\r\n\r\n  aggregateAddHandler() {\r\n    this.setState(state => {\r\n      const aggregates = [...state.value.aggregates];\r\n      aggregates.push({ type: '', column: '', alias: ''/* , id: this.counter */ });\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, aggregates }\r\n      };\r\n    });\r\n  }\r\n\r\n  aggregateDeleteHandler(index) {\r\n    this.setState(state => {\r\n      const aggregates = [...state.value.aggregates];\r\n      aggregates.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, aggregates }\r\n      };\r\n    });\r\n  }\r\n\r\n  aggregateToggle = () => {\r\n    this.setState(state => ({\r\n      isAggregateRaw: !state.isAggregateRaw,\r\n      value: {\r\n        ...state.value,\r\n        aggregates: state.isAggregateRaw ? [{ type: '', column: '', alias: '' }] : ''\r\n      }\r\n    }));\r\n  }\r\n\r\n  // обработчики событий для массива joins\r\n  joinChangeHandler({ target: { value, name } }, index) {\r\n    this.setState(state => {\r\n      const joins = [...state.value.joins];\r\n      joins[index] = { ...state.value.joins[index], [name]: value };\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, joins }\r\n      };\r\n    });\r\n  }\r\n\r\n  joinAddHandler() {\r\n    this.setState(state => {\r\n      const joins = [...state.value.joins];\r\n      joins.push({\r\n        type: '', target_table: '', source_column: '', operator: '', target_column: ''\r\n      });\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, joins }\r\n      };\r\n    });\r\n  }\r\n\r\n  joinDeleteHandler(index) {\r\n    this.setState(state => {\r\n      const joins = [...state.value.joins];\r\n      joins.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, joins }\r\n      };\r\n    });\r\n  }\r\n\r\n  // обработчики событий для массива conditions\r\n  conditionAddHandler = () => {\r\n    this.setState(state => {\r\n      const conditions = [...state.value.conditions];\r\n      conditions.push({ condition_type: '' });\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, conditions }\r\n      };\r\n    });\r\n  }\r\n\r\n  conditionChangeHandler({ target: { value, name, checked } }, index) {\r\n    this.setState(state => {\r\n      const conditions = [...state.value.conditions];\r\n      let condition;\r\n      if (name === 'condition_type') {\r\n        switch (value) {\r\n          case 'where':\r\n          case 'or_where':\r\n            condition = { condition_type: value, column: '', operator: '', value: '' };\r\n            break;\r\n          case 'where_between':\r\n          case 'where_in':\r\n            condition = index === 0 ?\r\n              { condition_type: value, not: false, column: '', values: [] } :\r\n              { condition_type: value, or: false, not: false, column: '', values: [] };\r\n            break;\r\n          case 'where_date':\r\n            condition = { condition_type: value, type: 'year', column: '', value: '2020' };\r\n            break;\r\n          case 'where_column':\r\n            condition = index === 0 ?\r\n              { condition_type: value, first_column: '', operator: '', second_column: '' } :\r\n              { condition_type: value, or: false, first_column: '', operator: '', second_column: '' };\r\n            break;\r\n\r\n          default:\r\n            throw new Error('invalid condition type');\r\n        }\r\n      } else {\r\n        switch (name) {\r\n          case 'value1':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              values: [value, state.value.conditions[index].values[1]]\r\n            };\r\n            break;\r\n          case 'value2':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              values: [state.value.conditions[index].values[0], value]\r\n            };\r\n            break;\r\n          case 'values':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              [name]: value.split(',').map(item => item.trim())\r\n            };\r\n            break;\r\n          case 'type':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              type: value,\r\n              value: moment(new Date()).format(getMomentFormat(value))\r\n            };\r\n            break;\r\n          case 'operator':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              [name]: value\r\n            };\r\n            condition.condition_type === 'where_column' ?\r\n              condition.second_column = condition.second_column || '' :\r\n              condition.value = condition.value || ''\r\n            break;\r\n\r\n          default:\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              [name]: ['or', 'not'].includes(name) ? checked : value\r\n            };\r\n            break;\r\n        }\r\n\r\n      }\r\n      conditions[index] = condition;\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, conditions }\r\n      };\r\n    });\r\n  }\r\n\r\n  conditionDeleteHandler(index) {\r\n    this.setState(state => {\r\n      const conditions = [...state.value.conditions];\r\n      conditions.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, conditions }\r\n      };\r\n    });\r\n  }\r\n\r\n  // обработчики событий для массива orderBy\r\n  orderByChangeHandler({ target: { value, name } }, index) {\r\n    this.setState(state => {\r\n      const order_by = [...state.value.order_by];\r\n      order_by[index] = { ...state.value.order_by[index], [name]: value };\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, order_by }\r\n      };\r\n    });\r\n  }\r\n\r\n  orderByAddHandler() {\r\n    // this.counter++;\r\n\r\n    this.setState(state => {\r\n      const order_by = [...state.value.order_by];\r\n      order_by.push({ type: 'asc', column: ''/* , id: this.counter */ });\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, order_by }\r\n      };\r\n    });\r\n  }\r\n\r\n  orderByDeleteHandler(index) {\r\n    this.setState(state => {\r\n      const order_by = [...state.value.order_by];\r\n      order_by.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, order_by }\r\n      };\r\n    })\r\n  }\r\n\r\n  // обработчик изменения для multiple-селектов\r\n  multipleSelectChangeHandler({ target: { value, name } }) {\r\n    this.setState(state => {\r\n      const array = [...state[name]];\r\n\r\n      if (array.includes(value)) {\r\n        const index = array.indexOf(value);\r\n        array.splice(index, 1);\r\n      } else {\r\n        array.push(value);\r\n      }\r\n\r\n      return { ...state, [name]: array };\r\n    })\r\n  }\r\n\r\n  offsetDeleteHandler = () => {\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      delete newState.value.offset;\r\n      return newState;\r\n    })\r\n  }\r\n\r\n  limitDeleteHandler = () => {\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      delete newState.value.offset;\r\n      delete newState.value.limit;\r\n      return newState;\r\n    })\r\n  }\r\n\r\n  submitHandler(e) {\r\n    const { modelId, id } = this.props.match.params;\r\n    e.preventDefault();\r\n\r\n    (id ?\r\n      this.sqlResource.put(id, this.state.value) :\r\n      this.sqlResource.post(this.state.value))\r\n      .then(() => this.props.history.push(`/admin/tables/models/edit/${modelId}`));\r\n  }\r\n\r\n  /**\r\n   * сохранить связи\r\n   */\r\n  setRelations = (relations) => {\r\n    let _relations = [];\r\n    relations.forEach(r => {\r\n      _relations.push(r.value);\r\n    });\r\n    this.setState(state => ({ ...state, relations: _relations }))\r\n  };\r\n  /**\r\n   * сохранить колонки\r\n   */\r\n  setColumns = (columns) => {\r\n    let _columns = [];\r\n    columns.forEach(c => {\r\n      _columns.push(c.value)\r\n    });\r\n    this.setState(state => ({ ...state, columns: _columns }))\r\n  };\r\n\r\n  render() {\r\n    const { title, name, relations, columns, aggregates, joins, conditions, order_by, group_by, offset, limit } = this.state.value;\r\n    const { roles, permissions } = this.state.value.access;\r\n    const { selfFieldsOptions, permissionsOptions, relationsOptions, rolesOptions, tablesOptions, isAggregateRaw /* isOffsetDisable, isLimitDisable  */ } = this.state;\r\n    const { modelId } = this.props.match.params;\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"row\">\r\n        <div className=\"form-group  col-6\">\r\n          <label htmlFor=\"title\">Title</label>\r\n          <input type=\"text\" id=\"title\" required name=\"title\"\r\n            value={title}\r\n            onChange={this.titleChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group col-6 \">\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input type=\"text\" id=\"name\" required name=\"name\"\r\n            value={name}\r\n            onChange={this.valueChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group col-6\">\r\n          <label htmlFor=\"relations\">With</label>\r\n          <AltrpSelect\r\n            closeMenuOnSelect={false}\r\n            onChange={this.changeRelations}\r\n            value={_.filter(relationsOptions, r => relations.indexOf(r.value) >= 0)}\r\n            options={relationsOptions}\r\n            isMulti={true} />\r\n        </div>\r\n\r\n        <div className=\"form-group col-6\">\r\n          <label htmlFor=\"columns\">Fields</label>\r\n\r\n          <AltrpSelect\r\n            closeMenuOnSelect={false}\r\n            onChange={this.changeColumns}\r\n            value={_.filter(selfFieldsOptions, c => columns.indexOf(c.value) >= 0)}\r\n            options={selfFieldsOptions}\r\n            isMulti={true} />\r\n        </div>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Access</h2>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"roles\">Roles</label>\r\n\r\n          <AltrpSelect id=\"roles\"\r\n            closeMenuOnSelect={false}\r\n            value={_.filter(rolesOptions, r => roles.indexOf(r.value) >= 0)}\r\n            isMulti={true}\r\n            onChange={this.changeRoles}\r\n            options={rolesOptions} />\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"permissions\">Permissions</label>\r\n          <AltrpSelect id=\"roles\"\r\n            value={_.filter(permissionsOptions, p => permissions.indexOf(p.value) >= 0)}\r\n            closeMenuOnSelect={false}\r\n            isMulti={true}\r\n            onChange={this.changePermission}\r\n            options={permissionsOptions} />\r\n        </div>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Joins</h2>\r\n      {joins.map((item, index) => <Fragment key={index}>\r\n        {index !== 0 && <hr />}\r\n        <div className=\"text-right\">\r\n          <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.joinDeleteHandler(index)}>\r\n            ✖\r\n          </button>\r\n        </div>\r\n        <JoinComponent item={item}\r\n          tablesOptions={tablesOptions}\r\n          sourceColumnOptions={selfFieldsOptions}\r\n          changeHandler={e => this.joinChangeHandler(e, index)}\r\n        />\r\n      </Fragment>)}\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.joinAddHandler}>\r\n          + New Join\r\n        </button>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Aggregates</h2>\r\n\r\n      {(!!aggregates.length || isAggregateRaw) &&\r\n        <div className=\"text-center\">\r\n          <button className={`btn ${isAggregateRaw ? 'btn_success' : ''}`} type=\"button\" onClick={this.aggregateToggle}>\r\n            Aggregate Raw\r\n          </button>\r\n        </div>}\r\n\r\n      {isAggregateRaw ?\r\n        <div className=\"form-group\">\r\n          <input type=\"text\" id=\"aggregates\" required name=\"aggregates\"\r\n            value={aggregates}\r\n            onChange={this.valueChangeHandler}\r\n            className=\"form-control\" />\r\n        </div> :\r\n        aggregates.map((item, index) => <Fragment key={index}>\r\n          {index !== 0 && <hr />}\r\n          <div className=\"text-right\">\r\n            <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.aggregateDeleteHandler(index)}>\r\n              ✖\r\n            </button>\r\n          </div>\r\n          <AggregateComponent item={item}\r\n            columnsOptions={selfFieldsOptions}\r\n            changeHandler={e => this.aggregateChangeHandler(e, index)}\r\n          />\r\n        </Fragment>)}\r\n\r\n      {!isAggregateRaw && <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.aggregateAddHandler}>\r\n          + New Aggregate\r\n        </button>\r\n      </div>}\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Conditions</h2>\r\n\r\n      {conditions.map((condition, index) => <Fragment key={index}>\r\n        <div className=\"text-right\">\r\n          <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.conditionDeleteHandler(index)}>\r\n            ✖\r\n          </button>\r\n        </div>\r\n        {index !== 0 && <hr />}\r\n        <ConditionComponent\r\n          item={condition}\r\n          isFirst={index === 0}\r\n          columnsOptions={selfFieldsOptions}\r\n          changeHandler={e => this.conditionChangeHandler(e, index)}\r\n        />\r\n\r\n      </Fragment>)}\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.conditionAddHandler}>\r\n          + New Condition\r\n        </button>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Order By</h2>\r\n\r\n      {order_by.map((item, index) => <Fragment key={index}>\r\n        {index !== 0 && <hr />}\r\n        <div className=\"text-right\">\r\n          <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.orderByDeleteHandler(index)}>\r\n            ✖\r\n          </button>\r\n        </div>\r\n        <OrderByComponent\r\n          item={item}\r\n          columnsOptions={selfFieldsOptions}\r\n          changeHandler={e => this.orderByChangeHandler(e, index)}\r\n        />\r\n      </Fragment>)}\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.orderByAddHandler}>\r\n          + New Order\r\n        </button>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Group By</h2>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"group_by\">Fields</label>\r\n\r\n        <AltrpSelect\r\n          id=\"group_by\"\r\n          closeMenuOnSelect={false}\r\n          onChange={this.changeGroupBy}\r\n          value={_.filter(selfFieldsOptions, f => group_by.indexOf(f.value) >= 0)}\r\n          options={selfFieldsOptions}\r\n          isMulti={true} />\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Pagination Settings</h2>\r\n\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\"\r\n          onClick={() => this.setState({ value: { ...this.state.value, limit: 'REQUEST:pageSize' } })}\r\n        >\r\n          Add Limit\r\n        </button>\r\n      </div>\r\n\r\n      {limit && <div className=\"centred mt-3\">\r\n        <button className=\"btn btn_success\" type=\"button\"\r\n          onClick={() => this.setState({ value: { ...this.state.value, offset: 'REQUEST:pageSize * (REQUEST:page - 1)' } })}\r\n        >\r\n          Add Offset\r\n        </button>\r\n      </div>}\r\n\r\n      <div className=\"row\">\r\n        {offset && <div className=\"form-group  col-6\">\r\n          <div className=\"text-right\">\r\n            <button className=\"btn btn_failure\" type=\"button\" onClick={this.offsetDeleteHandler}>\r\n              ✖\r\n            </button>\r\n          </div>\r\n          <label htmlFor=\"offset\">Offset</label>\r\n          {/* <label className=\"label_checkbox float-right\">\r\n            <input type=\"checkbox\"\r\n              className=\"form-check-input\"\r\n              checked={isOffsetDisable}\r\n              onChange={() => this.setState({ isOffsetDisable: !isOffsetDisable })}\r\n            /> Blocked\r\n          </label> */}\r\n          <input type=\"text\" id=\"offset\" required name=\"offset\"\r\n            value={offset}\r\n            // disabled={isOffsetDisable}\r\n            onChange={this.valueChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>}\r\n\r\n        {limit && <div className=\"form-group col-6 \">\r\n          <div className=\"text-right\">\r\n            <button className=\"btn btn_failure\" type=\"button\" onClick={this.limitDeleteHandler}>\r\n              ✖\r\n            </button>\r\n          </div>\r\n          <label htmlFor=\"limit\">Limit</label>\r\n          {/* <label className=\"label_checkbox float-right\">\r\n            <input type=\"checkbox\"\r\n              className=\"form-check-input\"\r\n              checked={isLimitDisable}\r\n              onChange={() => this.setState({ isLimitDisable: !isLimitDisable })}\r\n            /> Blocked\r\n          </label> */}\r\n          <input type=\"text\" id=\"limit\" required name=\"limit\"\r\n            value={limit}\r\n            // disabled={isLimitDisable}\r\n            onChange={this.valueChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>}\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper btn_add centred\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Save</button>\r\n        <Link className=\"btn\" to=\"/admin/tables/models\">Cancel</Link>\r\n      </div>\r\n    </form >\r\n  }\r\n}\r\n\r\nexport default withRouter(SQLBuilderForm);\r\n","import React, { Component } from \"react\";\r\nimport SQLBuilderForm from \"./sql-builder/SQLBuilderForm\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nclass SQLBuilder extends Component {\r\n  render() {\r\n    return <div className=\"admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">SQL</a>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <SQLBuilderForm />\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(SQLBuilder);","import React, {Component} from \"react\";\r\nimport {Link, withRouter} from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {titleToName} from \"../../js/helpers\";\r\nimport store from '../../js/store/store';\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\n\r\nclass SqlEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let storeState = store.getState();\r\n    this.state = {\r\n      modelTitle: 'Model Title',\r\n      value: {\r\n        paged: false,\r\n        is_object: false,\r\n        auth: false,\r\n      },\r\n      modelsOptions: [],\r\n      AceEditor: storeState.aceEditorReducer.AceEditor\r\n    };\r\n    this.sqlEditorResource = new Resource({route: `/admin/ajax/sql_editors`});\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/model_options' });\r\n\r\n    store.subscribe(this.aceEditorObserver);\r\n  }\r\n\r\n  /**\r\n   * AceEditor загрузился\r\n   */\r\n  aceEditorObserver = () => {\r\n    let storeState = store.getState();\r\n    this.setState(state=>({\r\n        ...state,\r\n      AceEditor: storeState.aceEditorReducer.AceEditor\r\n    }))\r\n  };\r\n  /**\r\n   * Компонент загрузился\r\n   * @return {Promise<void>}\r\n   */\r\n  async componentDidMount() {\r\n    const {id} = this.props.match.params;\r\n    let { options } = await this.modelsResource.getAll();\r\n    options = options.filter(option=>(option.label !== 'User'));\r\n    this.setState({ modelsOptions: options });\r\n    if(id){\r\n      let value = await this.sqlEditorResource.get(id);\r\n      this.editor = null;\r\n      this.setState(state=>({\r\n          ...state,\r\n        value,\r\n      }))\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Имзенить поле\r\n   * @param {*} value\r\n   * @param {string} field\r\n   */\r\n  changeValue(value, field) {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      if(field === 'name'){\r\n        state.value[field] = titleToName(value);\r\n      }else{\r\n        state.value[field] = value;\r\n      }\r\n      if(field === 'title') {\r\n        state.value.name = titleToName(value);\r\n      }\r\n      return state\r\n    })\r\n  }\r\n  /**\r\n   * отправка данных\r\n   * @return {*}\r\n   */\r\n  onSubmit = async e => {\r\n    const {id} = this.props.match.params;\r\n    e.preventDefault();\r\n    let res;\r\n    if(! this.state.value.sql){\r\n      return alert('Заполните SQL Query');\r\n    }\r\n    if(id){\r\n      res = await this.sqlEditorResource.put(id, this.state.value);\r\n    } else {\r\n      res = await this.sqlEditorResource.post(this.state.value);\r\n    }\r\n    if(res.success){\r\n      this.props.history.push('/admin/tables/sql_editors');\r\n    } else {\r\n      alert(res.message);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {id} = this.props.match.params;\r\n    console.log(this.state.value.sql);\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/sql_editors\">All  SQL Editors</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n\r\n          <span className=\"admin-breadcrumbs__current\">Add SQL Query</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <form className=\"admin-form field-form\" onSubmit={this.onSubmit}>\r\n          <div className=\"row\">\r\n            <div className=\"form-group col-6\">\r\n              <label htmlFor=\"field-title\">Title</label>\r\n              <input type=\"text\" id=\"field-title\" required\r\n                     value={this.state.value.title || ''}\r\n                     onChange={e => {\r\n                       this.changeValue(e.target.value, 'title')\r\n                     }}\r\n                     className=\"form-control\"/>\r\n            </div>\r\n            <div className=\"form-group col-6\">\r\n              <label htmlFor=\"field-name\">Name</label>\r\n              <input type=\"text\" id=\"field-name\" required readOnly={id}\r\n                     value={this.state.value.name || ''}\r\n                     onChange={e => {\r\n                       this.changeValue(e.target.value, 'name')\r\n                     }}\r\n                     className=\"form-control\"/>\r\n            </div>\r\n            <div className=\"form-group col-12\">\r\n              <label htmlFor=\"field-name\">Description</label>\r\n              <input type=\"text\" id=\"field-description\"\r\n                     value={this.state.value.description || ''}\r\n                     onChange={e => {\r\n                       this.changeValue(e.target.value, 'description')\r\n                     }}\r\n                     className=\"form-control\"/>\r\n            </div>\r\n            {/*<div className=\"form-group col-12\">*/}\r\n              {/*<input type=\"checkbox\" id=\"relation-paged\"*/}\r\n                     {/*checked={this.state.value.paged}*/}\r\n                     {/*onChange={e => { this.changeValue(e.target.checked, 'paged') }}*/}\r\n              {/*/>*/}\r\n              {/*<label className=\"checkbox-label\" htmlFor=\"relation-paged\">Paged</label>*/}\r\n            {/*</div>*/}\r\n            <div className=\"form-group col-12\">\r\n              <label htmlFor=\"relation-model_id\">Model</label>\r\n              <select id=\"relation-model_id\" required disabled={id}\r\n                      value={this.state.value.model_id || ''}\r\n                      onChange={e => { this.changeValue(e.target.value, 'model_id') }}\r\n                      className=\"form-control\"\r\n              >\r\n                <option disabled value=\"\" />\r\n                {this.state.modelsOptions.map(({ value, label }) =>\r\n                    <option key={value} value={value}>\r\n                      {label}\r\n                    </option>)}\r\n              </select>\r\n            </div>\r\n            <div className=\"form-group col-12\">\r\n              <input type=\"checkbox\" id=\"field-auth\"\r\n                     checked={this.state.value.auth} value={this.state.value.auth}\r\n                     onChange={e => { this.changeValue(e.target.checked, 'auth') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-auth\">Auth</label>\r\n            </div>\r\n            <div className=\"form-group col-12\">\r\n              <input type=\"checkbox\" id=\"field-is_object\"\r\n                     checked={this.state.value.is_object} value={this.state.value.is_object}\r\n                     onChange={e => { this.changeValue(e.target.checked, 'is_object') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-is_object\">As Object</label>\r\n            </div>\r\n            {!this.state.value.auth ? '' : <><div className=\"form-group col-4\">\r\n              <label htmlFor=\"field-roles\">Roles</label>\r\n              <AltrpSelect id=\"field-roles\"\r\n                           isMulti={true}\r\n                           optionsRoute=\"/admin/ajax/role_options\"\r\n                           placeholder=\"All\"\r\n                           defaultOptions={[\r\n                             {\r\n                               value: null,\r\n                               label: 'All',\r\n                             }\r\n                           ]}\r\n                           value={this.state.value.roles}\r\n                           onChange={value => {this.changeValue(value, 'roles')}}\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-4\">\r\n              <label htmlFor=\"field-permissions\">Permissions</label>\r\n              <AltrpSelect id=\"field-permissions\"\r\n                           isMulti={true}\r\n                           optionsRoute=\"/admin/ajax/permissions_options\"\r\n                           placeholder=\"All\"\r\n                           defaultOptions={[\r\n                             {\r\n                               value: null,\r\n                               label: 'All',\r\n                             }\r\n                           ]}\r\n                           value={this.state.value.permissions}\r\n                           onChange={value => {this.changeValue(value, 'permissions')}}\r\n              />\r\n            </div></>}\r\n            <div className=\"form-group col-12\">\r\n              <label htmlFor=\"field-name\">SQL Query</label>\r\n              {this.state.AceEditor && (this.editor = (this.editor || <this.state.AceEditor\r\n                  mode=\"sql\"\r\n                  theme=\"textmate\"\r\n                  onChange={value => {\r\n                    this.changeValue(value, 'sql')\r\n                  }}\r\n                  className=\"field-ace\"\r\n                  name=\"aceEditor\"\r\n                  height=\"15em\"\r\n                  setOptions={{\r\n                    value: this.state.value.sql || ''\r\n                  }}\r\n                  showPrintMargin={false}\r\n                  style={{\r\n                    width: '100%'\r\n                  }}\r\n                  enableLiveAutocompletion={true} />))}\r\n            </div>\r\n          </div>\r\n          <div className=\"btn__wrapper btn_add\">\r\n            <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n            <Link className=\"btn\" to={`/admin/tables/sql_editors`}>Cancel</Link>\r\n            {/* TODO: отображать кнопку если в форме редактируются данные\r\n          повесить обработчик удаления\r\n        <button className=\"btn btn_failure\">Delete</button> */}\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(SqlEditor);\r\n","\r\nimport React, { Component } from \"react\";\r\nimport { Tab, TabList, TabPanel, Tabs } from \"react-tabs\";\r\nimport 'react-tabs/style/react-tabs.scss';\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nimport AdminTable from \"./AdminTable\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\n\r\nconst columns = [\r\n  {\r\n    name: 'name',\r\n    title: 'Name',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'display_name',\r\n    title: 'Display Name'\r\n  },\r\n  {\r\n    name: 'description',\r\n    title: 'Description'\r\n  }\r\n];\r\n\r\nconst rolesResource = new Resource({ route: '/admin/ajax/roles' });\r\nconst permissionsResource = new Resource({ route: '/admin/ajax/permissions' });\r\n\r\nclass AccessOptions extends Component {\r\n  state = {\r\n    roles: [],\r\n    permissions: [],\r\n  };\r\n  /**\r\n   * Список ролей\r\n   */\r\n  getRoles = async () => {\r\n    const roles = await rolesResource.getAll();\r\n    this.setState({ roles });\r\n  }\r\n  /**\r\n   * Список permissions\r\n   */\r\n  getPermissions = async () => {\r\n    const permissions = await permissionsResource.getAll();\r\n    this.setState({ permissions });\r\n  }\r\n\r\n  // slicePage = (array, page, itemsPerPage) => {\r\n  //   return array.slice(page * itemsPerPage - itemsPerPage, page * itemsPerPage);\r\n  // }\r\n\r\n  componentDidMount() {\r\n    this.getRoles();\r\n    this.getPermissions();\r\n  }\r\n\r\n  render() {\r\n    const { roles, permissions } = this.state;\r\n    const activeTab = this.props.location.pathname === \"/admin/access/roles\" ? 0 : 1;\r\n\r\n    return <div className=\"admin-settings admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">Access</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">\r\n            {activeTab === 0 ? 'All Roles' : 'All Permissions'}\r\n          </span>\r\n        </div>\r\n        <Link className=\"btn\" to={`/admin/access/${activeTab === 0 ? 'roles' : 'permissions'}/add`}>\r\n          Add New\r\n        </Link>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <Tabs selectedIndex={activeTab} onSelect={() => {}}>\r\n          <TabList className=\"nav nav-pills admin-pills\">\r\n            <Link to=\"/admin/access/roles\"><Tab>Roles</Tab></Link>\r\n            <Link to=\"/admin/access/permissions\"><Tab>Permissions</Tab></Link>\r\n          </TabList>\r\n          <TabPanel>\r\n            <AdminTable\r\n              columns={columns}\r\n              quickActions={[\r\n                {\r\n                  tag: 'Link',\r\n                  props: { href: '/admin/access/roles/edit/:id' },\r\n                  title: 'Edit'\r\n                },\r\n                {\r\n                  tag: 'button',\r\n                  route: '/admin/ajax/roles/:id',\r\n                  method: 'delete',\r\n                  confirm: 'Are You Sure?',\r\n                  after: () => this.getRoles(),\r\n                  className: 'quick-action-menu__item_danger',\r\n                  title: 'Trash'\r\n                }\r\n              ]}\r\n              rows={roles.map(role => ({\r\n                ...role,\r\n                editUrl: '/admin/access/roles/edit/' + role.id\r\n              }))}\r\n            />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <AdminTable\r\n              columns={columns}\r\n              quickActions={[\r\n                {\r\n                  tag: 'Link',\r\n                  props: { href: '/admin/access/permissions/edit/:id' },\r\n                  title: 'Edit'\r\n                },\r\n                {\r\n                  tag: 'button',\r\n                  route: '/admin/ajax/permissions/:id',\r\n                  method: 'delete',\r\n                  confirm: 'Are You Sure?',\r\n                  after: () => this.getPermissions(),\r\n                  className: 'quick-action-menu__item_danger',\r\n                  title: 'Trash'\r\n                }\r\n              ]}\r\n              rows={permissions.map(permission => ({\r\n                ...permission,\r\n                editUrl: '/admin/access/permissions/edit/' + permission.id\r\n              }))}\r\n            />\r\n          </TabPanel>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(AccessOptions);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nconst rolesResource = new Resource({ route: '/admin/ajax/roles' });\r\n\r\nclass RoleForm extends Component {\r\n  state = {\r\n    name: '',\r\n    display_name: '',\r\n    description: ''\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    if (id) {\r\n      const { name, display_name, description } = await rolesResource.get(id);\r\n      this.setState({ name, display_name, description });\r\n    }\r\n  }\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  deleteHandler = () => {\r\n    const { id } = this.props.match.params;\r\n    rolesResource.delete(id)\r\n      .then(() => this.props.history.push('/admin/access/roles'));\r\n  }\r\n\r\n  submitHandler = e => {\r\n    const { id } = this.props.match.params;\r\n    e.preventDefault();\r\n    (id ? rolesResource.put(id, this.state) : rolesResource.post(this.state))\r\n      .then(() => this.props.history.push('/admin/access/roles'));\r\n  }\r\n\r\n  render() {\r\n    const { name, display_name, description } = this.state;\r\n    const isEditing = Boolean(this.props.match.params.id);\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" required name=\"name\"\r\n          value={name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"display_name\">Display Name</label>\r\n        <input type=\"text\" id=\"display_name\" name=\"display_name\"\r\n          value={display_name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"description\">Description</label>\r\n        <input type=\"text\" id=\"description\" required name=\"description\"\r\n          value={description}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link to=\"/admin/access/roles\"><button className=\"btn\">Cancel</button></Link>\r\n        {isEditing && <button className=\"btn btn_failure\" type=\"button\" onClick={this.deleteHandler}>\r\n          Delete\r\n        </button>}\r\n      </div>\r\n    </form >\r\n  }\r\n}\r\n\r\nexport default withRouter(RoleForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport RoleForm from \"./RoleForm\";\r\n\r\nclass RolePage extends Component {\r\n  render() {\r\n    const isEditing = Boolean(this.props.match.params.id);\r\n\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/access\">Access / All Roles</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">\r\n            {isEditing ? 'Edit Role' : 'Add New Role'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <RoleForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(RolePage);","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nconst permissionsResource = new Resource({ route: '/admin/ajax/permissions' });\r\n\r\nclass PermissionForm extends Component {\r\n  state = {\r\n    name: '',\r\n    display_name: '',\r\n    description: ''\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    if (id) {\r\n      const { name, display_name, description } = await permissionsResource.get(id);\r\n      this.setState({ name, display_name, description });\r\n    }\r\n  }\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  deleteHandler = () => {\r\n    const { id } = this.props.match.params;\r\n    permissionsResource.delete(id)\r\n      .then(() => this.props.history.push('/admin/access/permissions'));\r\n  }\r\n\r\n  submitHandler = e => {\r\n    const { id } = this.props.match.params;\r\n    e.preventDefault();\r\n    (id ? permissionsResource.put(id, this.state) : permissionsResource.post(this.state))\r\n      .then(() => this.props.history.push('/admin/access/permissions'));\r\n  }\r\n\r\n  render() {\r\n    const { name, display_name, description } = this.state;\r\n    const isEditing = Boolean(this.props.match.params.id);\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" required name=\"name\"\r\n          value={name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"display_name\">Display Name</label>\r\n        <input type=\"text\" id=\"display_name\" name=\"display_name\"\r\n          value={display_name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"description\">Description</label>\r\n        <input type=\"text\" id=\"description\" required name=\"description\"\r\n          value={description}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link to=\"/admin/access/permissions\"><button className=\"btn\">Cancel</button></Link>\r\n        {isEditing && <button className=\"btn btn_failure\" type=\"button\" onClick={this.deleteHandler}>\r\n          Delete\r\n        </button>}\r\n      </div>\r\n    </form >\r\n  }\r\n}\r\n\r\nexport default withRouter(PermissionForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PermissionForm from \"./PermissionForm\";\r\n\r\nclass PermissionPage extends Component {\r\n  render() {\r\n    const isEditing = Boolean(this.props.match.params.id);\r\n\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/access\">Access / All Permissions</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">\r\n            {isEditing ? 'Edit Permission' : 'Add New Permission'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <PermissionForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(PermissionPage);","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\n//import TableForm from \"../../../../admin/src/components/tables/TableForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass TableForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: {},\r\n            errors: [],\r\n            redirectAfterSave: false,\r\n        };\r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.saveTable = this.saveTable.bind(this);\r\n    }\r\n    async componentDidMount(){\r\n        let id = this.props.id;\r\n        \r\n        if(id){\r\n            let pageData = await this.resource.get(id);\r\n            this.setState(state=>{\r\n                return{...state, value:pageData, id: id}\r\n            });\r\n        }\r\n    }\r\n    async saveTable(e){\r\n        e.preventDefault();\r\n        let res;\r\n\r\n        if(this.state.id){\r\n            res = await this.resource.put(this.state.id, this.state.value);\r\n        } else {\r\n            res = await this.resource.post(this.state.value);\r\n        }\r\n\r\n        if(res){\r\n            this.setState(state=>{\r\n                return {...state, redirectAfterSave: true}\r\n            });\r\n        } else {\r\n            this.setState(state=>{\r\n                return {...state, value: {}}\r\n            });\r\n        }\r\n    }\r\n    changeValue(value, field){\r\n        this.setState(state=>{\r\n            state = {...state};\r\n            state.value[field] = value;\r\n            return state\r\n        })\r\n    }\r\n    render() {\r\n        if(this.state.redirectAfterSave){\r\n            return <Redirect to={this.props.redirect_url}/>\r\n        }\r\n        return <form className=\"admin-form\" onSubmit={this.saveTable}>\r\n        \r\n            \r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"page-name\">Name</label>\r\n                <input type=\"text\" id=\"page-name\" required={1}\r\n                    value={this.state.value.name || ''}\r\n                    onChange={e => {this.changeValue(e.target.value, 'name')}}\r\n                    className=\"form-control\"/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"page-title\">Title</label>\r\n                <input type=\"text\" id=\"page-title\" required={1}\r\n                    value={this.state.value.title || ''}\r\n                    onChange={e => {this.changeValue(e.target.value, 'title')}}\r\n                    className=\"form-control\"/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"page-description\">Description</label>\r\n                <input type=\"text\" id=\"page-description\" required={1}\r\n                    value={this.state.value.description || ''}\r\n                    onChange={e => {this.changeValue(e.target.value, 'description')}}\r\n                    className=\"form-control\"/>\r\n            </div>\r\n            <button className=\"btn btn_success\">{this.state.id ? 'Save' : 'Add'}</button>\r\n        </form>;\r\n    }\r\n}\r\n\r\nexport default TableForm;","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport TableForm from \"../../../../admin/src/components/tables/TableForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass AddTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            redirect_url: \"/admin/tables\",\r\n        };\r\n    }\r\n    async componentDidMount(){\r\n        let id = this.props.match.params.id;\r\n        \r\n        this.setState((state) => ({\r\n            table_id: id\r\n        }));\r\n    }\r\n\t\r\n    render() {\r\n        return <div className=\"admin-pages admin-page\">\r\n            <div className=\"admin-heading\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables\">Tables</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">Add New Table</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-content\">\r\n                <TableForm id={this.state.table_id} redirect_url={this.state.redirect_url}/>\r\n            </div>\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport default withRouter(AddTable);","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport TableForm from \"../../../../admin/src/components/tables/TableForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass EditTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            redirect_url: \"/admin/tables\",\r\n            table_id: this.props.match.params.id,\r\n            setting_url: \"/admin/tables/edit/\"+this.props.match.params.id+\"/setting\"\r\n        };\r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n    }\r\n    render() {\r\n        if(this.state.redirectAfterSave){\r\n            return <Redirect to=\"/admin/tables\"/>\r\n        }\r\n        return <div className=\"admin-pages admin-page\">\r\n            <div className=\"admin-heading\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables\">Tables</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">Edit Table</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-content\">\r\n                <TableForm id={this.state.table_id} redirect_url={this.state.redirect_url}/>\r\n                <div>\r\n                    <Link to={ this.state.setting_url }>Settings</Link>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>;\r\n    }\r\n}\r\n\r\nexport default withRouter(EditTable);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\n/*\r\nimport store from \"../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../js/store/modal-settings/actions\";\r\nimport {generateId, redirect} from \"../js/helpers\";*/\r\n\r\n\r\nclass MigrationsTable extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            table_id: this.props.match.params.id,\r\n            migrations: [],\r\n            table: {},\r\n            table_columns: [\r\n                {name: 'name',title: 'Name',},\r\n                {name: 'status',title: 'Status',},\r\n                {name: 'created_at',title: 'Created At',},\r\n            ],\r\n        };\r\n        \r\n        this.migrations_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/migrations'});\r\n        this.table_resource = new Resource({route: '/admin/ajax/tables'});\r\n    }\r\n    async componentDidMount(){\r\n        let res = await this.migrations_resource.getAll();\r\n        this.setState(state=>{\r\n            return{...state, migrations:res}\r\n        });\r\n        \r\n        let table_res = await this.table_resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res}\r\n        });\r\n    }\r\n    \r\n    render(){\r\n        return <div>\r\n          <AdminTable columns={this.state.table_columns} rows={this.state.migrations}/>\r\n        </div>\r\n    }\r\n\r\n}\r\n\r\nexport default withRouter(MigrationsTable);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\nimport TimesIcon from '../../svgs/times.svg';\r\n\r\nclass AddModelPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        /**\r\n         * Типы связей\r\n         */\r\n        this.relationship_types = [\r\n            {id: \"hasMany\",name: \"hasMany\"},\r\n            {id: \"hasOne\",name: \"hasOne\"},\r\n            {id: \"belongsTo\",name: \"belongsTo\"},\r\n            {id: \"belongsToMany\",name: \"belongsToMany\"},\r\n            {id: \"hasOneThrough\",name: \"hasOneThrough\"},\r\n            {id: \"hasManyThrough\",name: \"hasManyThrough\"},\r\n            {id: \"morphTo\",name: \"morphTo\"},\r\n            {id: \"morphOne\",name: \"morphOne\"},\r\n            {id: \"morphMany\",name: \"morphMany\"},\r\n            {id: \"morphToMany\",name: \"morphToMany\"},\r\n            {id: \"morphedByMany\",name: \"morphedByMany\"},\r\n        ];\r\n        \r\n        /**\r\n         * Настройки таблицы связей\r\n         */\r\n        this.table_columns = [\r\n            {name: 'id',title: 'ID',},\r\n            {name: 'name',title: 'Name',},\r\n            {name: 'type',title: 'Type',},\r\n            {name: 'model_class',title: 'Model Class',},\r\n            {name: 'foreign_key',title: 'Foreign Key',},\r\n            {name: 'local_key',title: 'Local Key',},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addModalShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ];\r\n        \r\n        /**\r\n         * Связь по умолчанию\r\n         * @type type\r\n         */\r\n        const default_relationship = {\r\n            id: \"\",\r\n            name: '',\r\n            title: '',\r\n            type: \"hasMany\",\r\n            model_class: '',\r\n            foreign_key: '',\r\n            local_key: '',\r\n        };\r\n        \r\n        /**\r\n         * Настройки таблицы формул\r\n         */\r\n        this.accessors_table_columns = [\r\n            {name: 'id',title: 'ID',},\r\n            {name: 'name',title: 'Name',},\r\n            {name: 'formula',title: 'Formula',},\r\n            {name: 'status',title: 'Status',},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addAccessorModalShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteAccessorClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ];\r\n        \r\n        /**\r\n         * Формула по умолчанию\r\n         * @type type\r\n         */\r\n        const default_accessor = {\r\n            id: \"\",\r\n            name: '',\r\n            formula: '',\r\n            description: \"\",\r\n        };\r\n        \r\n        this.state = {\r\n            modal_toogle: false,\r\n            table_id: this.props.match.params.id,\r\n            table: {},\r\n            actual_columns: [],\r\n            fillable_columns: [],\r\n            user_cols: [],\r\n            data: {\r\n                description: \"\",\r\n                fillable_cols: [],\r\n                user_cols: [],\r\n                table_id: this.props.match.params.id,\r\n                path: \"\",\r\n                name: \"\",\r\n                relationships: [],\r\n                pk: \"\",\r\n                time_stamps: false,\r\n                soft_deletes: false\r\n            },\r\n            accessors: [],\r\n            default_relationship: default_relationship,\r\n            selected_relationship: null,\r\n            relationship: default_relationship,\r\n            default_accessor: default_accessor,\r\n            selected_accessor: null,\r\n            accessor: default_accessor,\r\n        };\r\n        \r\n        \r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.model_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/model'});\r\n        this.save_model_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/models'});\r\n        this.accessors_resource = false;\r\n        \r\n        this.addFillableColumn = this.addFillableColumn.bind(this);\r\n        this.deleteFillableColumn = this.deleteFillableColumn.bind(this);\r\n        this.addUserColsColumn = this.addUserColsColumn.bind(this);\r\n        this.deleteUserColsColumn = this.deleteUserColsColumn.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onChangeRelationship = this.onChangeRelationship.bind(this);\r\n        this.saveModel = this.saveModel.bind(this);\r\n        \r\n        this.addRelationship = this.addRelationship.bind(this);\r\n        this.addModalShow = this.addModalShow.bind(this);\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.getModalClasses = this.getModalClasses.bind(this);\r\n        this.onDeleteClick = this.onDeleteClick.bind(this);\r\n        \r\n        this.addAccessorModalShow = this.addAccessorModalShow.bind(this);\r\n        this.onDeleteAccessorClick = this.onDeleteAccessorClick.bind(this);\r\n        \r\n    }\r\n    \r\n    async componentDidMount(){\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res};\r\n        });\r\n        \r\n        let columns_res = await this.resource.get(this.state.table_id+\"/columns\");\r\n        this.setState(state=>{\r\n            return{...state, actual_columns: columns_res, fillable_columns: columns_res, user_cols: columns_res};\r\n        });\r\n        \r\n        let model_data = await this.resource.get(this.state.table_id+\"/model\");\r\n        \r\n        if(model_data) {\r\n             \r\n            \r\n            \r\n            let model = {\r\n                description: model_data.description,\r\n                fillable_cols: this.setCols(model_data.fillable_cols),\r\n                user_cols: this.setCols(model_data.user_cols),\r\n                table_id: model_data.table_id,\r\n                path: model_data.path !== null ? model_data.path : \"\",\r\n                name: model_data.name,\r\n                relationships: model_data.table.relationships,\r\n                pk: model_data.pk,\r\n                time_stamps: model_data.time_stamps,//1 == model_data.time_stamps ? true : false,\r\n                soft_deletes: model_data.soft_deletes//1 == model_data.soft_deletes ? true : false,\r\n            }\r\n            \r\n            this.accessors_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/models/'+model_data.id+\"/accessors\"});\r\n            let accessors_data = await this.accessors_resource.getAll();\r\n\r\n            this.setState(state=>{\r\n                return{...state, data: model, accsessors: accessors_data};\r\n            }, () => {\r\n                \r\n            });\r\n        }\r\n                \r\n        \r\n        \r\n        /*\r\n        let keys_res = await this.resource.get(this.state.table_id+\"/keys\")\r\n        this.setState(state=>{\r\n            return{...state, data: { ...state.data, keys: keys_res}};\r\n        });*/\r\n    }\r\n    \r\n    setCols(value) {\r\n        \r\n        let cols = [];\r\n        \r\n        if(!value) return cols;\r\n        \r\n        if(value == null || value == \"\") return cols;\r\n        \r\n        \r\n        value.replace(/'/g,\"\");\r\n        return value.split(\",\");\r\n    }\r\n    \r\n    addFillableColumn(e) {\r\n        \r\n        let value = e.target.value;\r\n        \r\n        let itemIndex = this.state.data.fillable_cols.indexOf(value);\r\n        \r\n        if(itemIndex !== -1) {\r\n            alert(\"This column has already been added.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...state.data,  fillable_cols: update(state.data.fillable_cols, {$push: [value]})}};\r\n        }, () => {\r\n            //this.toggleModal();\r\n        });\r\n    }\r\n    deleteFillableColumn(e, value) {\r\n        e.preventDefault();\r\n        \r\n        let itemIndex = this.state.data.fillable_cols.indexOf(value);\r\n        \r\n        if(itemIndex === -1) {\r\n            alert(\"This column not found.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...state.data,  fillable_cols: update(state.data.fillable_cols, {$splice: [[itemIndex, 1]]})}};\r\n        }, () => {\r\n            //this.toggleModal();\r\n        });\r\n    }\r\n    \r\n    addUserColsColumn(e) {\r\n        \r\n        let value = e.target.value;\r\n        \r\n        let itemIndex = this.state.data.user_cols.indexOf(value);\r\n        \r\n        if(itemIndex !== -1) {\r\n            alert(\"This column has already been added.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...state.data,  user_cols: update(state.data.user_cols, {$push: [value]})}};\r\n        }, () => {\r\n            //this.toggleModal();\r\n        });\r\n    }\r\n    deleteUserColsColumn(e, value) {\r\n        e.preventDefault();\r\n        \r\n        let itemIndex = this.state.data.user_cols.indexOf(value);\r\n        \r\n        if(itemIndex === -1) {\r\n            alert(\"This column not found.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...state.data,  user_cols: update(state.data.user_cols, {$splice: [[itemIndex, 1]]})}};\r\n        }, () => {\r\n            //this.toggleModal();\r\n        });\r\n    }\r\n    \r\n    onChange(e) {\r\n        let field_name = e.target.name;\r\n        let value = e.target.type === \"checkbox\" ? e.target.checked : e.target.value;\r\n        \r\n        this.setState({ ...this.state, data:{...this.state.data, [field_name]: value}});\r\n    }\r\n    onChangeRelationship(e) {\r\n        let field_name = e.target.name;\r\n        this.setState({ ...this.state, relationship:{...this.state.relationship, [field_name]: e.target.value}});\r\n    }\r\n    \r\n    async saveModel(e) {\r\n        e.preventDefault();\r\n        \r\n        if(this.state.data.name == \"\") {\r\n            alert(\"Enter model name!\");\r\n            return;\r\n        }\r\n        \r\n        let headers = {\r\n            'Content-Type': 'application/json'\r\n        };\r\n        \r\n        let data = {...this.state.data};\r\n        /*data.time_stamps = String(true) == model.time_stamps ? true : false;\r\n        data.soft_deletes = String(true) == model.soft_deletes ? true : false;*/\r\n        data._token = _token;\r\n\r\n\r\n        console.log(this.state.data)\r\n        /*let data = {\r\n            model: model,\r\n            \r\n        };*/\r\n        let options = {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers,\r\n        };\r\n        \r\n        \r\n        let res;\r\n        res = await this.save_model_resource.post(data);\r\n        \r\n        if(res){\r\n            alert(\"Success\");\r\n        }\r\n        else {\r\n            alert(\"Error\");\r\n        }\r\n    }\r\n    \r\n    addRelationship(e) {\r\n        e.preventDefault();\r\n        \r\n        let obj = {...this.state.relationship};\r\n        \r\n        if(obj.id == \"\") {\r\n            obj.id = new Date().getTime();\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            if(state.selected_relationship == null) {\r\n                return { ...state, data: { ...state.data,  relationships: update(state.data.relationships, {$push: [obj]})}};\r\n            }\r\n            else {\r\n                return { ...state, data: { ...state.data,  relationships: update(state.data.relationships, {[state.selected_relationship]: {$set: obj}})}};\r\n            }\r\n        }, () => {\r\n            this.toggleModal();\r\n        });\r\n    }\r\n    getModalClasses() {\r\n        let modalClasses = 'admin-modal';\r\n        if (this.state.modal_toogle) {\r\n          modalClasses += ' admin-modal_active';\r\n        }\r\n        return modalClasses;\r\n    }\r\n    toggleModal() {\r\n        this.setState((state) => {\r\n            return { ...state, modal_toogle: !state.modal_toogle}\r\n        })\r\n    }\r\n    addModalShow(e) {\r\n        console.log(e);\r\n        let itemIndex = this.state.data.relationships.indexOf(e);\r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_relationship: null, relationship: state.default_relationship}\r\n            }\r\n            else {\r\n                return { ...state, selected_relationship: itemIndex, relationship: state.data.relationships[itemIndex]}\r\n            }\r\n            \r\n        }, () => { \r\n            this.toggleModal();\r\n        });\r\n    }\r\n    onDeleteClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.relationships.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                this.setState((state) => {\r\n                    return { ...state, data: { ...state.data,  relationships: update(this.state.data.relationships, {$splice: [[itemIndex, 1]]})}};\r\n                }, () => {\r\n                    alert(\"Success\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    addAccessorModalShow(e) {\r\n        console.log(e);\r\n        let itemIndex = this.state.data.relationships.indexOf(e);\r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_relationship: null, relationship: state.default_relationship}\r\n            }\r\n            else {\r\n                return { ...state, selected_relationship: itemIndex, relationship: state.data.relationships[itemIndex]}\r\n            }\r\n            \r\n        }, () => { \r\n            this.toggleModal();\r\n        });\r\n    }\r\n    onDeleteAccessorClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.relationships.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                this.setState((state) => {\r\n                    return { ...state, data: { ...state.data,  relationships: update(this.state.data.relationships, {$splice: [[itemIndex, 1]]})}};\r\n                }, () => {\r\n                    alert(\"Success\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        return <div>\r\n            <div>\r\n                <form>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Name\r\n                            <input className='form__input' type=\"text\" name=\"name\" value={this.state.data.name}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Description\r\n                            <input className='form__input' type=\"text\" name=\"description\" value={this.state.data.description}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Soft Deletes\r\n                            <input className='form__input' type=\"checkbox\" checked={this.state.data.soft_deletes ? 1 : 0} name=\"soft_deletes\" onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Timestamps\r\n                            <input className='form__input' type=\"checkbox\" checked={this.state.data.time_stamps ? 1 : 0}  name=\"time_stamps\" onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Fillable\r\n                            <select className=\"form__input\" name='add_fillable' onChange={(e) => {this.addFillableColumn(e)}}>\r\n                                <option value=\"\"/>\r\n                                {\r\n                                  this.state.fillable_columns.map(option =>\r\n                                      <option key={option.id}\r\n                                              value={option.name}\r\n                                              children={option.title}/>)\r\n                                }\r\n                            </select>\r\n                        </label>\r\n                        <div>\r\n                            {\r\n                                this.state.data.fillable_cols.map(option =>\r\n                                <div key={option}>\r\n                                    <button className=\"btn\" onClick={(e) => {this.deleteFillableColumn(e,option)}}>{option}</button>\r\n                                </div>  )\r\n                                }\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            User Cols\r\n                            <select className=\"form__input\" name='add_user_cols' onChange={(e) => {this.addUserColsColumn(e)}}>\r\n                                <option value=\"\"/>\r\n                                {\r\n                                  this.state.user_cols.map(option =>\r\n                                      <option key={option.id}\r\n                                              value={option.name}\r\n                                              children={option.title}/>)\r\n                                }\r\n                            </select>\r\n                        </label>\r\n                        <div>\r\n                            {\r\n                                this.state.data.user_cols.map(option =>\r\n                                <div key={option}>\r\n                                    <button className=\"btn\" onClick={(e) => {this.deleteUserColsColumn(e,option)}}>{option}</button>\r\n                                </div>  )\r\n                                }\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Path\r\n                            <input className='form__input' type=\"text\" name=\"path\" value={this.state.data.path}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <label className='form-label'>\r\n                        Primary Key\r\n                        <select className=\"form__input\" name='pk'  value={this.state.data.pk} onChange={(e) => {this.onChange(e)}}>\r\n                            <option value=\"\"/>\r\n                            {\r\n                              this.state.actual_columns.map(option =>\r\n                                  <option key={option.id}\r\n                                          value={option.name}\r\n                                          children={option.title || option.name}/>)\r\n                            }\r\n                        </select>\r\n                    </label>\r\n                </form>\r\n            </div>\r\n            <div>\r\n                <AdminTable columns={this.table_columns} rows={this.state.data.relationships}/>\r\n            </div>\r\n            <div>\r\n                <button onClick={this.addModalShow}>Add Relationship</button>\r\n            </div>\r\n            <div>\r\n                <form className=\"admin-form\" onSubmit={this.saveModel}>\r\n                    <button className=\"btn btn_success\">Save</button>\r\n                </form>\r\n            </div>\r\n            <div>\r\n                <hr />\r\n            </div>\r\n            <div>\r\n                <AdminTable columns={this.accessors_table_columns} rows={this.state.accessors}/>\r\n            </div>\r\n            <div>\r\n                <button onClick={this.addAccessorModalShow}>Add Accessor</button>\r\n            </div>\r\n            \r\n            <div className={this.getModalClasses()}>\r\n                <div className=\"admin-modal__bg\" onClick={this.toggleModal}/>\r\n                <div className=\"admin-modal-content\">\r\n                  <button className=\"admin-modal__close\" onClick={this.toggleModal}><TimesIcon className=\"icon\"/></button>\r\n                  <div className=\"admin-caption\">Add New Relationship</div>\r\n                  <div className=\"admin-modal-form form\">\r\n                    <form className=\"admin-form\" onSubmit={this.addRelationship}>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                name\r\n                                <input className='form__input' type=\"text\" name=\"name\" value={this.state.relationship.name} onChange={(e) => {this.onChangeRelationship(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                Model Class\r\n                                <input className='form__input' type=\"text\" name=\"model_class\" value={this.state.relationship.model_class}  onChange={(e) => {this.onChangeRelationship(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                type\r\n                                <select className=\"form__input\" value={this.state.relationship.type} name='type'  onChange={(e) => {this.onChangeRelationship(e)}}>\r\n                                    <option value=\"\"/>\r\n                                    {\r\n                                      this.relationship_types.map(option =>\r\n                                          <option key={option.id}\r\n                                                  value={option.id}\r\n                                                  children={option.title || option.name}/>)\r\n                                    }\r\n                                    </select>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                foreign key\r\n                                <input className='form__input' type=\"text\" name=\"foreign_key\"  value={this.state.relationship.foreign_key} onChange={(e) => {this.onChangeRelationship(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                local key\r\n                                <input className='form__input' type=\"text\" name=\"local_key\" value={this.state.relationship.local_key} onChange={(e) => {this.onChangeRelationship(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <button className=\"btn btn_success\">Add col</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n        </div>;\r\n      \r\n            \r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AddModelPage);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\nimport TimesIcon from '../../svgs/times.svg';\r\n\r\nclass AccessorsPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        /**\r\n         * Настройки таблицы формул\r\n         */\r\n        this.table_columns = [\r\n            {name: 'id',title: 'ID',},\r\n            {name: 'name',title: 'Name',},\r\n            {name: 'formula',title: 'Formula',},\r\n            {name: 'status',title: 'Status',},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addModalShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ];\r\n        \r\n        /**\r\n         * Формула по умолчанию\r\n         * @type type\r\n         */\r\n        const default_accessor = {\r\n            id: \"\",\r\n            name: '',\r\n            formula: '',\r\n            description: \"\",\r\n        };\r\n        \r\n        this.state = {\r\n            modal_toogle: false,\r\n            table_id: this.props.match.params.id,\r\n            table: {},\r\n            data: [],\r\n            default_accessor: default_accessor,\r\n            selected_accessor: null,\r\n            accessor: default_accessor,\r\n        };\r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.model_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/model'});\r\n        this.accessors_resource = false;\r\n        \r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.getModalClasses = this.getModalClasses.bind(this);\r\n        \r\n        this.onChange = this.onChange.bind(this);\r\n        \r\n        this.addModalShow = this.addModalShow.bind(this);\r\n        this.onDeleteClick = this.onDeleteClick.bind(this);\r\n        this.addAccessor = this.addAccessor.bind(this);\r\n        \r\n        this.getModalClasses = this.getModalClasses.bind(this);\r\n        \r\n    }\r\n    \r\n    async componentDidMount(){\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res};\r\n        });\r\n        \r\n        let model_data = await this.model_resource.get(\" \");\r\n        \r\n        if(model_data) {\r\n             \r\n            this.accessors_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/models/'+model_data.id+\"/accessors\"});\r\n            let accessors_data = await this.accessors_resource.getAll();\r\n\r\n            this.setState(state=>{\r\n                return{...state, model: model_data, data: accessors_data};\r\n            }, () => {\r\n                \r\n            });\r\n        }\r\n    }\r\n    \r\n    onChange(e) {\r\n        let field_name = e.target.name;\r\n        let value = e.target.type === \"checkbox\" ? e.target.checked : e.target.value;\r\n        \r\n        this.setState({ ...this.state, accessor: {...this.state.accessor, [field_name]: value}});\r\n    }\r\n    \r\n    async addAccessor(e) {\r\n        e.preventDefault();\r\n        \r\n        let obj = {...this.state.accessor};\r\n        \r\n        if(obj.name == \"\") {\r\n            alert(\"Enter accessor name!\");\r\n            return;\r\n        }\r\n        \r\n        obj._token = _token;\r\n        \r\n        let res;\r\n        \r\n        if(this.state.selected_accessor == null) {\r\n            res = await this.accessors_resource.post(obj);\r\n        }\r\n        else {\r\n            res = await this.accessors_resource.put(obj.id, obj);\r\n        }\r\n        \r\n        \r\n        if(res){\r\n            \r\n            this.setState((state) => {\r\n                if(state.selected_accessor == null) {\r\n                    return { ...state, data: update(state.data, {$push: [res]})};\r\n                }\r\n                else {\r\n                    return { ...state, data: update(state.data, {[state.selected_accessor]: {$set: res}})};\r\n                }\r\n            }, () => {\r\n                this.toggleModal();\r\n            });\r\n            \r\n        }\r\n        else {\r\n            alert(\"Error\");\r\n        }\r\n        /*\r\n        if(obj.id == \"\") {\r\n            obj.id = new Date().getTime();\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            if(state.selected_relationship == null) {\r\n                return { ...state, data: { ...state.data,  relationships: update(state.data.relationships, {$push: [obj]})}};\r\n            }\r\n            else {\r\n                return { ...state, data: { ...state.data,  relationships: update(state.data.relationships, {[state.selected_relationship]: {$set: obj}})}};\r\n            }\r\n        }, () => {\r\n            this.toggleModal();\r\n        });*/\r\n    }\r\n    \r\n    getModalClasses() {\r\n        let modalClasses = 'admin-modal';\r\n        if (this.state.modal_toogle) {\r\n          modalClasses += ' admin-modal_active';\r\n        }\r\n        return modalClasses;\r\n    }\r\n    toggleModal() {\r\n        this.setState((state) => {\r\n            return { ...state, modal_toogle: !state.modal_toogle}\r\n        })\r\n    }\r\n    addModalShow(e) {\r\n        console.log(e);\r\n        let itemIndex = this.state.data.indexOf(e);\r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_accessor: null, accessor: state.default_accessor}\r\n            }\r\n            else {\r\n                return { ...state, selected_accessor: itemIndex, accessor: state.data[itemIndex]}\r\n            }\r\n            \r\n        }, () => { \r\n            this.toggleModal();\r\n        });\r\n    }\r\n    async onDeleteClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                let res;\r\n                res = await this.accessors_resource.delete(e.id);\r\n                \r\n                if(res) {\r\n                    this.setState((state) => {\r\n                        return { ...state, data: update(this.state.data, {$splice: [[itemIndex, 1]]})};\r\n                    }, () => {\r\n                        alert(\"Success\");\r\n                    });\r\n                }\r\n                else {\r\n                    alert(\"Error\")\r\n                }\r\n            \r\n                \r\n            }\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        return <div>\r\n            <div>\r\n                <AdminTable columns={this.table_columns} rows={this.state.data}/>\r\n            </div>\r\n            <div>\r\n                <button onClick={this.addModalShow}>Add Accessor</button>\r\n            </div>\r\n            \r\n            <div className={this.getModalClasses()}>\r\n                <div className=\"admin-modal__bg\" onClick={this.toggleModal}/>\r\n                <div className=\"admin-modal-content\">\r\n                  <button className=\"admin-modal__close\" onClick={this.toggleModal}><TimesIcon className=\"icon\"/></button>\r\n                  <div className=\"admin-caption\">Add New Accessor</div>\r\n                  <div className=\"admin-modal-form form\">\r\n                    <form className=\"admin-form\" onSubmit={this.addAccessor}>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                name\r\n                                <input className='form__input' type=\"text\" name=\"name\" value={this.state.accessor.name} onChange={(e) => {this.onChange(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                description\r\n                                <input className='form__input' type=\"text\" name=\"description\" value={this.state.accessor.description}  onChange={(e) => {this.onChange(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                formula\r\n                                <input className='form__input' type=\"text\" name=\"formula\" value={this.state.accessor.formula}  onChange={(e) => {this.onChange(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        \r\n                        <button className=\"btn btn_success\">Add accessor</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n        </div>;\r\n      \r\n            \r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AccessorsPage);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\nimport TimesIcon from '../../svgs/times.svg';\r\n\r\nclass AddControllerPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            table_id: this.props.match.params.id,\r\n            table: {},\r\n            relationships: [],\r\n            relation: \"\",\r\n            data: {\r\n                description: \"\",\r\n                prefix: \"\",\r\n                namespace: \"\",\r\n                relations: \"\",\r\n            },\r\n            \r\n        };\r\n        \r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.controller_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/controller'});\r\n        this.save_controller_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/controllers'});\r\n        \r\n        \r\n        this.onChange = this.onChange.bind(this);\r\n        this.saveController = this.saveController.bind(this);\r\n        \r\n        this.addRelation = this.addRelation.bind(this);\r\n        this.deleteRelation = this.deleteRelation.bind(this);\r\n    }\r\n    \r\n    async componentDidMount(){\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res};\r\n        });\r\n        \r\n        let controller_res = await this.resource.get(this.state.table_id+\"/controller\");\r\n        \r\n        \r\n        \r\n        if(controller_res) {\r\n            \r\n            \r\n            controller_res.description = (controller_res.description == null) ? \"\" : controller_res.description;\r\n            controller_res.prefix = (controller_res.prefix == null) ? \"\" : controller_res.prefix;\r\n            controller_res.namespace = (controller_res.namespace == null) ? \"\" : controller_res.namespace;\r\n            \r\n            controller_res.relation = this.setCols(controller_res.relations);\r\n            \r\n            this.setState(state=>{\r\n                return{...state, data: controller_res};\r\n            }, () => {\r\n                \r\n                this.setState(state=>{\r\n                    return{...state, relationships: controller_res.relation};\r\n                })\r\n                \r\n            });\r\n        }\r\n        \r\n    }\r\n    \r\n    setCols(value) {\r\n        \r\n        let cols = [];\r\n        \r\n        if(!value) return cols;\r\n        \r\n        if(value == null || value == \"\") return cols;\r\n        \r\n        \r\n        value.replace(/'/g,\"\");\r\n        return value.split(\",\");\r\n    }\r\n    \r\n    onChange(e) {\r\n        let field_name = e.target.name;\r\n        \r\n        if(field_name === \"relation\") {\r\n            return this.setState({ ...this.state, relation: e.target.value});\r\n        }\r\n        \r\n        this.setState({ ...this.state, data:{...this.state.data, [field_name]: e.target.value}});\r\n    }\r\n    \r\n    async saveController(e) {\r\n        e.preventDefault();\r\n        \r\n        let headers = {\r\n            'Content-Type': 'application/json'\r\n        };\r\n        \r\n        let data = {...this.state.data};\r\n        data._token = _token;\r\n        \r\n        let options = {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers,\r\n        };\r\n        \r\n        \r\n        let res;\r\n        res = await this.save_controller_resource.post(data);\r\n        \r\n        if(res){\r\n            alert(\"Success\");\r\n        }\r\n        else {\r\n            alert(\"Error\");\r\n        }\r\n    }\r\n    \r\n    addRelation(e) {\r\n        e.preventDefault();\r\n        let value = this.state.relation;\r\n       \r\n        let itemIndex = this.state.relationships.indexOf(value);\r\n        \r\n        if(itemIndex !== -1) {\r\n            alert(\"This relation has already been added.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, relationships: update(state.relationships, {$push: [value]})};\r\n        }, () => {\r\n            console.log(this.state)\r\n            this.setRelation();\r\n            \r\n        });\r\n    }\r\n    \r\n    \r\n    deleteRelation(e, value) {\r\n        e.preventDefault();\r\n        \r\n        let itemIndex = this.state.relationships.indexOf(value);\r\n        \r\n        if(itemIndex === -1) {\r\n            alert(\"This relation not found.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, relationships: update(state.relationships, {$splice: [[itemIndex, 1]]})};\r\n        }, () => {\r\n            this.setRelation();\r\n        });\r\n    }\r\n    \r\n    setRelation() {\r\n        let relations = this.state.relationships.join(\";\");\r\n            \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...this.state.data, relations: relations}};\r\n        }, () => {\r\n            console.log(this.state)\r\n        }) \r\n    }\r\n    \r\n    render(){\r\n        return <div>\r\n            <div>\r\n                <form className=\"admin-form\"  onSubmit={this.saveController}>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Description\r\n                            <input className='form__input' type=\"text\" name=\"description\" value={this.state.data.description}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Prefix\r\n                            <input className='form__input' type=\"text\" name=\"prefix\" value={this.state.data.prefix}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Namespace\r\n                            <input className='form__input' type=\"text\" name=\"namespace\" value={this.state.data.namespace}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Relations\r\n                            <div className=\"input-group\">\r\n                                <input className='form__input' type=\"text\" name=\"relation\" value={this.state.relation}  onChange={(e) => {this.onChange(e)}}/>\r\n                                <button onClick={(e) => {this.addRelation(e)}}>Добавить</button>    \r\n                            </div>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        {\r\n                            this.state.relationships.map(option =>\r\n                            <div key={option}>\r\n                                <button className=\"btn\" onClick={(e) => {this.deleteRelation(e,option)}}>{option}</button>\r\n                            </div>  )\r\n                        }\r\n                    </div>\r\n                    <div>\r\n                        <button className=\"btn btn_success\">Save</button>\r\n                    </div>\r\n                    \r\n                </form>\r\n            </div>\r\n        </div>;\r\n      \r\n            \r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AddControllerPage);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\n\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport MigrationsTable from \"./MigrationsTable\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\n\r\nimport AddModelPage from \"./AddModelPage\";\r\nimport AccessorsPage from \"./AccessorsPage\";\r\nimport AddControllerPage from \"./AddControllerPage\";\r\n\r\n/*\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';*/\r\n\r\n\r\n\r\n//import AdminTable from \"../AdminTable\";\r\n/*\r\nimport store from \"../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../js/store/modal-settings/actions\";\r\nimport {generateId, redirect} from \"../js/helpers\";*/\r\n\r\n\r\nclass SettingTable extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            table_id: this.props.match.params.id,\r\n            table: {},\r\n        }  \r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        /*this.migration_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/migrations'});\r\n        this.onEditClick = this.onEditClick.bind(this);\r\n        this.changeName = this.changeName.bind(this);\r\n        this.saveMigration = this.saveMigration.bind(this);*/\r\n    }\r\n    async componentDidMount(){\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res}\r\n        });\r\n    }\r\n   \r\n   \r\n  render(){\r\n    return <div className=\"admin-templates admin-page\">\r\n        <div className=\"admin-heading\">\r\n            <div className=\"admin-breadcrumbs\">\r\n                <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables\">Tables</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <Link className=\"admin-breadcrumbs__link\" to={\"/admin/tables/edit/\"+this.state.table_id}>{this.state.table.title}</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <span className=\"admin-breadcrumbs__current\">Setting</span>\r\n            </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n            <Tabs selectedIndex={this.state.activeTab} onSelect={this.switchTab}>\r\n                <TabList className=\"nav nav-pills admin-pills\">\r\n                    <Tab>Migration</Tab>\r\n                    <Tab>Model</Tab>\r\n                    <Tab>Controller</Tab>\r\n                    <Tab>Routes</Tab>\r\n                    <Tab>Accessors</Tab>\r\n                </TabList>\r\n                <TabPanel>\r\n                    <MigrationsTable/>\r\n                    <div>\r\n                        <Link className=\"btn\" to={\"/admin/tables/edit/\"+this.state.table_id+\"/setting/migrations/add\"}>Add New</Link>\r\n                    </div>\r\n                </TabPanel>\r\n                <TabPanel>\r\n                    <AddModelPage/>\r\n                </TabPanel>\r\n                <TabPanel>\r\n                    <AddControllerPage/>\r\n                </TabPanel>\r\n                  <TabPanel>\r\n                  </TabPanel>\r\n                <TabPanel>\r\n                    <AccessorsPage/>\r\n                </TabPanel>  \r\n            </Tabs>\r\n            \r\n        </div>\r\n    </div>;\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(SettingTable);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\nimport TimesIcon from '../../svgs/times.svg';\r\n\r\n\r\n\r\nclass AddMigrationPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        //Типы  полей\r\n        this.column_types = [\r\n            {id: \"id\",name: \"Identifier\",fields:[]},\r\n            {id: \"foreignId\",name: \"Foreign Id\",fields:[\"nullable\",\"default\"]},\r\n            {id: \"boolean\",name: \"Boolean\",fields:[\"nullable\",\"default\"]},\r\n            {id: \"date\",name: \"Date\",fields:[\"nullable\",\"default\",\"size\",\"unique\",\"current\"]},\r\n            {id: \"datetime\",name: \"Datetime\",fields:[\"nullable\",\"default\",\"size\",\"unique\",\"current\"]},\r\n            {id: \"decimal\",name: \"Decimal\",fields:[\"nullable\",\"default\",\"size\",\"places\"]},\r\n            {id: \"integer\",name: \"Integer\",fields:[\"nullable\",\"default\"]},\r\n            {id: \"longtext\",name: \"Long Text\",fields:[\"nullable\",\"default\",\"unique\"]},\r\n            {id: \"string\",name: \"String\",fields:[\"nullable\",\"default\",\"size\",\"unique\"]},\r\n            {id: \"text\",name: \"Text\",fields:[\"nullable\",\"default\",\"unique\"]},\r\n            {id: \"timestamps\",name: \"Timestamps\",fields:[\"size\"]},\r\n        ];\r\n        \r\n        //Значения колонки по умолчанию\r\n        const default_column = {\r\n            id: \"\",\r\n            name: '',\r\n            title: '',\r\n            description: '',\r\n            type: \"string\",\r\n            size: 191,\r\n            places: 0,\r\n            default: \"\",\r\n            null: false,\r\n            unique: false,\r\n        };\r\n        \r\n        //Значения ключа по умолчанию\r\n        const default_key = {\r\n            id: \"\",\r\n            target_table: \"\",\r\n            source_table_id: this.props.match.params.id,\r\n            target_column: \"\",\r\n            source_column: \"\",\r\n            onDelete: \"restrict\",\r\n            onUpdate: \"restrict\",\r\n        };\r\n        \r\n        //Типы действий для onDelete и onUpdate\r\n        this.key_actions = [\r\n            {id: \"restrict\", name: \"RESTRICT\"},\r\n            {id: \"cascade\", name: \"CASCADE\"},\r\n            {id: \"set null\", name: \"SET NULL\"},\r\n            {id: \"no action\", name: \"NO ACTION\"},\r\n        ];\r\n        \r\n        //Колонки для таблицы полей\r\n        this.table_columns = [\r\n            {name: 'title',title: 'Title',},\r\n            {name: 'name',title: 'Name',},\r\n            {name: 'type',title: 'Type',},\r\n            {name: 'size',title: 'Size',},\r\n            {name: 'default',title: 'Default',},\r\n            {name: 'null',title: 'Nullable',is_boolean: true},\r\n            {name: 'unique',title: 'Unique',is_boolean: true},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addModalColumnShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteColumnClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ];\r\n        \r\n        //Колонки для таблицы полей\r\n        this.table_keys = [\r\n            {name: 'target_table',title: 'Target Table',},\r\n            {name: 'target_column',title: 'Target Column',},\r\n            {name: 'source_column',title: 'Source Column',},\r\n            {name: 'onDelete',title: 'onDelete',},\r\n            {name: 'onUpdate',title: 'onUpdate',},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addModalKeyShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteKeyClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ],\r\n        \r\n        \r\n        this.state = {\r\n            column_modal_toggle: false,\r\n            key_modal_toggle: false,\r\n            table: {},\r\n            table_id: this.props.match.params.id,\r\n            data: {\r\n                columns: [],\r\n                keys: [],\r\n                rename_columns: [],\r\n            },\r\n            name: \"\",\r\n            default_column: default_column,\r\n            selected_column: null,\r\n            column: default_column,\r\n            default_key: default_key,\r\n            selected_key: null,\r\n            key: default_key\r\n        };\r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.migration_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/migrations'});\r\n        \r\n        this.addModalColumnShow = this.addModalColumnShow.bind(this);\r\n        this.addModalKeyShow = this.addModalKeyShow.bind(this);\r\n        \r\n        this.onChangeColumn = this.onChangeColumn.bind(this);\r\n        this.onChangeKey = this.onChangeKey.bind(this);\r\n        \r\n        this.addColumn = this.addColumn.bind(this);\r\n        this.addKey = this.addKey.bind(this);\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.getModalClasses = this.getModalClasses.bind(this);\r\n        \r\n        this.onDeleteColumnClick = this.onDeleteColumnClick.bind(this);\r\n        this.onDeleteKeyClick = this.onDeleteKeyClick.bind(this);\r\n        \r\n        this.changeName = this.changeName.bind(this);\r\n        this.saveMigration = this.saveMigration.bind(this);\r\n        \r\n        this.isShowField = this.isShowField.bind(this);\r\n        \r\n        \r\n        \r\n        \r\n    }\r\n    \r\n    //Подгрузка данных\r\n    async componentDidMount(){\r\n        //Получаем данные о таблице\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res};\r\n        });\r\n        //Получаем данные о колонках\r\n        let columns_res = await this.resource.get(this.state.table_id+\"/columns\")\r\n        this.setState(state=>{\r\n            return{...state, data: { ...state.data, columns: columns_res}};\r\n        });\r\n        //Получаем данные о ключах\r\n        let keys_res = await this.resource.get(this.state.table_id+\"/keys\")\r\n        this.setState(state=>{\r\n            return{...state, data: { ...state.data, keys: keys_res}};\r\n        });\r\n    }\r\n    \r\n    //Получаем класс для модального окна\r\n    getModalClasses(type) {\r\n        \r\n        let modal_toggle = type+\"_modal_toggle\";\r\n        \r\n        let modalClasses = 'admin-modal';\r\n        if (this.state[modal_toggle]) {\r\n          modalClasses += ' admin-modal_active';\r\n        }\r\n        return modalClasses;\r\n    }\r\n    \r\n    //Получаем класс для модального окна\r\n    isShowField(field_name) {\r\n        \r\n        let state = false;\r\n        \r\n        let type = this.column_types.find(item => item.id === this.state.column.type);\r\n        \r\n        if(type) {\r\n            \r\n            let index = type.fields.indexOf(field_name);\r\n            \r\n            if(index > -1)  {\r\n                state = true;\r\n            }\r\n            \r\n        }\r\n        return state;\r\n    }\r\n    \r\n    //Меняем переменную для открытия той или иной модали\r\n    toggleModal(type) {\r\n        let modal_toggle = type+\"_modal_toggle\";\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, [modal_toggle]: !state[modal_toggle]}\r\n        }, () => {console.log(this.state)})\r\n    }\r\n    \r\n    \r\n    addModalColumnShow(e) {\r\n        let itemIndex = this.state.data.columns.indexOf(e);\r\n        \r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_column: null, column: state.default_column}\r\n            }\r\n            else {\r\n                return { ...state, selected_column: itemIndex, column: state.data.columns[itemIndex]}\r\n            }\r\n            \r\n        }, () => { \r\n            this.toggleModal(\"column\");\r\n        });\r\n    }\r\n    \r\n    addModalKeyShow(e) {\r\n        let itemIndex = this.state.data.keys.indexOf(e);\r\n        \r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_key: null, key: state.default_key}\r\n            }\r\n            else {\r\n                return { ...state, selected_key: itemIndex, key: state.data.keys[itemIndex]}\r\n            }\r\n        }, () => { \r\n            this.toggleModal(\"key\");\r\n        });\r\n    }\r\n    \r\n    //Добавление столбца\r\n    addColumn(e) {\r\n        e.preventDefault();\r\n        \r\n        let obj = {...this.state.column};\r\n        \r\n        if(obj.id == \"\") {\r\n            obj.id = new Date().getTime();\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            if(state.selected_column == null) {\r\n                return { ...state, data: { ...state.data,  columns: update(state.data.columns, {$push: [obj]})}};\r\n            }\r\n            else {\r\n                return { ...state, data: { ...state.data,  columns: update(state.data.columns, {[state.selected_column]: {$set: obj}})}};\r\n            }\r\n        }, () => {\r\n            this.toggleModal(\"column\");\r\n        });\r\n    }\r\n    \r\n    //Добавление ключа\r\n    addKey(e) {\r\n        e.preventDefault();\r\n        \r\n        let obj = {...this.state.key};\r\n        \r\n        if(obj.id == \"\") {\r\n            obj.id = new Date().getTime();\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            if(state.selected_key == null) {\r\n                return { ...state, data: { ...state.data,  keys: update(state.data.keys, {$push: [obj]})}};\r\n            }\r\n            else {\r\n                return { ...state, data: { ...state.data,  keys: update(state.data.keys, {[state.selected_key]: {$set: obj}})}};\r\n            }\r\n        }, () => {\r\n            this.toggleModal(\"key\");\r\n        });\r\n    }\r\n    \r\n    onDeleteColumnClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.columns.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                this.setState((state) => {\r\n                    return { ...state, data: { ...state.data,  columns: update(this.state.data.columns, {$splice: [[itemIndex, 1]]})}};\r\n                }, () => {\r\n                    alert(\"Success\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    onDeleteKeyClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.keys.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                this.setState((state) => {\r\n                    return { ...state, data: { ...state.data,  keys: update(this.state.data.keys, {$splice: [[itemIndex, 1]]})}};\r\n                }, () => {\r\n                    alert(\"Success\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Изменение значений при работе с модальным окном\r\n     * @param {type} e\r\n     * @returns {undefined}\r\n     */\r\n    onChangeColumn(e) {\r\n        let field_name = e.target.name;\r\n        let value = e.target.type === \"checkbox\" ? e.target.checked : e.target.value;\r\n        \r\n        if(field_name === \"name\") {\r\n            \r\n        \r\n            let val = e.target.value.replace(\"_\", \" \");\r\n            value = val.charAt(0).toUpperCase() + val.slice(1); \r\n            \r\n            let title = this.state.column.title;\r\n            let description = this.state.column.description;\r\n            \r\n            if(title === \"\" || title === value.slice(0, value.length - 1)) {\r\n                title = value;\r\n            }\r\n            if(description === \"\" || description === value.slice(0, value.length - 1)) {\r\n                description = value; \r\n            }\r\n            \r\n            this.setState({ ...this.state, column:{...this.state.column, [field_name]: e.target.value, title: title, description: description }});\r\n            return;\r\n        }\r\n        \r\n        this.setState({ ...this.state, column:{...this.state.column, [field_name]: value}}, () => {console.log(this.state)});\r\n    }\r\n    onChangeKey(e) {\r\n        let field_name = e.target.name;\r\n        console.log(e.target.value);\r\n        this.setState({ ...this.state, key:{...this.state.key, [field_name]: e.target.value}});\r\n    }\r\n    \r\n    \r\n    changeName(e) {\r\n        let target = e.target;\r\n        let name_value = target.value\r\n        this.setState( (state) => {\r\n            return {name: name_value}\r\n        });\r\n    }\r\n    async saveMigration(e) {\r\n        e.preventDefault();\r\n        \r\n        if(this.state.name == \"\") {\r\n            alert(\"Enter migration name!\");\r\n            return;\r\n        }\r\n        \r\n        let url = this.state.main_url + \"/migrations\";\r\n        let headers = {\r\n            'Content-Type': 'application/json'\r\n        };\r\n        console.log(this.state.data)\r\n        let data = {\r\n            name: this.state.name,\r\n            data: JSON.stringify(this.state.data),\r\n            _token: _token\r\n        };\r\n        let options = {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers,\r\n        };\r\n        \r\n        \r\n        let res;\r\n        res = await this.migration_resource.post(data);\r\n        console.log(res)\r\n        if(res){\r\n            alert(\"Success\");\r\n        }\r\n        else {\r\n            \r\n            alert(\"Error\");\r\n        }\r\n    }\r\n  render(){\r\n    return <div className=\"admin-templates admin-page\">\r\n        <div className=\"admin-heading\">\r\n            <div className=\"admin-breadcrumbs\">\r\n                <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables\">Tables</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <Link className=\"admin-breadcrumbs__link\" to={\"/admin/tables/edit/\"+this.state.table_id}>{this.state.table.title}</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <Link className=\"admin-breadcrumbs__link\" to={\"/admin/tables/edit/\"+this.state.table_id+\"/setting\"}>Setting</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <span className=\"admin-breadcrumbs__current\">Add New Migration</span>\r\n            </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n            <div>\r\n                <input type=\"text\" placeholder=\"Enter migration name...\" onChange={this.changeName}/>\r\n            </div>\r\n            <AdminTable columns={this.table_columns} rows={this.state.data.columns}/>\r\n            <div>\r\n                <button onClick={(e) => this.addModalColumnShow(e)}>Add Column</button>\r\n            </div>\r\n            <AdminTable columns={this.table_keys} rows={this.state.data.keys}/>\r\n            <div>\r\n                <button onClick={(e) => this.addModalKeyShow(e)}>Add Key</button>\r\n            </div>\r\n            \r\n            \r\n            <div className={this.getModalClasses(\"key\")}>\r\n                <div className=\"admin-modal__bg\" onClick={() => this.toggleModal(\"key\")}/>\r\n                <div className=\"admin-modal-content\">\r\n                  <button className=\"admin-modal__close\" onClick={() => this.toggleModal(\"key\")}><TimesIcon className=\"icon\"/></button>\r\n                  <div className=\"admin-caption\">Add New Key</div>\r\n                  <div className=\"admin-modal-form form\">\r\n                    <form className=\"admin-form\" onSubmit={this.addKey}>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                id\r\n                                <input className='form__input' type=\"text\" name=\"id\" value={this.state.key.id} onChange={(e) => {this.onChangeKey(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                Target Table\r\n                                <input className='form__input' type=\"text\" name=\"target_table\" value={this.state.key.target_table} onChange={(e) => {this.onChangeKey(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                Source Column\r\n                                <input className='form__input' type=\"text\" name=\"source_column\" value={this.state.key.source_column}  onChange={(e) => {this.onChangeKey(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                Target Column\r\n                                <input className='form__input' type=\"text\" name=\"target_column\" value={this.state.key.target_column}  onChange={(e) => {this.onChangeKey(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                onUpdate\r\n                                <select className=\"form__input\" value={this.state.key.onUpdate} name='onUpdate'  onChange={(e) => {this.onChangeKey(e)}}>\r\n                                    <option value=\"\"/>\r\n                                    {\r\n                                      this.key_actions.map(option =>\r\n                                          <option key={option.id}\r\n                                                  value={option.id}\r\n                                                  children={option.title || option.name}/>)\r\n                                    }\r\n                                    </select>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                onDelete\r\n                                <select className=\"form__input\" value={this.state.key.onDelete} name='onDelete'  onChange={(e) => {this.onChangeKey(e)}}>\r\n                                    <option value=\"\"/>\r\n                                    {\r\n                                      this.key_actions.map(option =>\r\n                                          <option key={option.id}\r\n                                                  value={option.id}\r\n                                                  children={option.title || option.name}/>)\r\n                                    }\r\n                                    </select>\r\n                            </label>\r\n                        </div>\r\n                        <button className=\"btn btn_success\">Add key</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className={this.getModalClasses(\"column\")}>\r\n                <div className=\"admin-modal__bg\" onClick={() => this.toggleModal(\"column\")}/>\r\n                <div className=\"admin-modal-content\">\r\n                  <button className=\"admin-modal__close\" onClick={() => this.toggleModal(\"column\")}><TimesIcon className=\"icon\"/></button>\r\n                  <div className=\"admin-caption\">Add New Column</div>\r\n                  <div className=\"admin-modal-form form\">\r\n                    <form className=\"admin-form\" onSubmit={this.addColumn}>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                name\r\n                                <input className='form__input' type=\"text\" name=\"name\" value={this.state.column.name} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                type\r\n                                <select className=\"form__input\" value={this.state.column.type} name='type'  onChange={(e) => {this.onChangeColumn(e)}}>\r\n                                    <option value=\"\"/>\r\n                                    {\r\n                                      this.column_types.map(option =>\r\n                                          <option key={option.id}\r\n                                                  value={option.id}\r\n                                                  children={option.title || option.name}/>)\r\n                                    }\r\n                                    </select>\r\n                            </label>\r\n                        </div>\r\n                        {this.isShowField(\"size\") ? <div>\r\n                            <label className='form-label'>\r\n                                size\r\n                                <input className='form__input' type=\"text\" name=\"size\"  value={this.state.column.size} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div> : null}\r\n                        {this.isShowField(\"places\") ? <div>\r\n                            <label className='form-label'>\r\n                                places\r\n                                <input className='form__input' type=\"text\" name=\"places\"  value={this.state.column.places} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div> : null}\r\n                        {this.isShowField(\"default\") ? <div>\r\n                            <label className='form-label'>\r\n                                default\r\n                                <input className='form__input' type=\"text\" name=\"default\" value={this.state.column.default} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div> : null}\r\n                        {this.isShowField(\"unique\") ? <div>\r\n                            <label className='form-label'>\r\n                                <input className='form__input' type=\"checkbox\" name=\"unique\" checked={this.state.column.unique ? 1 : 0} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                                unique\r\n                            </label>\r\n                        </div> : null}\r\n                        {this.isShowField(\"nullable\") ? <div>\r\n                            <label className='form-label'>\r\n                                <input className='form__input' type=\"checkbox\" name=\"null\" checked={this.state.column.null ? 1 : 0} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                                nullable\r\n                            </label>\r\n                        </div> : null}\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                title\r\n                                <input className='form__input' type=\"text\" name=\"title\" value={this.state.column.title}  onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                description\r\n                                <input className='form__input' type=\"text\" name=\"description\" value={this.state.column.description}  onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <button className=\"btn btn_success\">Add col</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            <div>\r\n                \r\n            </div>\r\n            <div>\r\n                <form className=\"admin-form\" onSubmit={this.saveMigration}>\r\n                    <button className=\"btn btn_success\">Save</button>\r\n                </form>\r\n            </div>\r\n            \r\n        </div>\r\n    </div>;\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AddMigrationPage);","import React, {Component} from \"react\";\r\n\r\nclass AdminVersion extends Component {\r\n  render(){\r\n    return<div children={`Version: ${altrp_version}`} className=\"admin__version\"/>\r\n  }\r\n}\r\n\r\nexport default AdminVersion","import React, {Component} from \"react\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport 'react-tabs/style/react-tabs.scss';\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport AdminTable from \"./AdminTable\";\r\nimport Pagination from \"./Pagination\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\n\r\nconst columns = [\r\n  {\r\n    name: 'title',\r\n    title: 'Title',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'description',\r\n    title: 'Description'\r\n  },\r\n  {\r\n    name: 'updated_at',\r\n    title: 'Updated At'\r\n  }\r\n];\r\nconst columnsDataSource = [\r\n  {\r\n    name: 'title',\r\n    title: 'Title',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'route',\r\n    title: 'Route'\r\n  },\r\n  {\r\n    name: 'type',\r\n    title: 'Type'\r\n  }\r\n];\r\nconst initPaginationProps = {\r\n  pageCount: 1,\r\n  currentPage: 1,\r\n};\r\n\r\n\r\nexport default class SQLEditors extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      sql_editorsPagination: initPaginationProps,\r\n      sql_editors: [],\r\n    };\r\n    this.changePage = this.changePage.bind(this);\r\n    this.sql_editorsResource = new Resource({route: '/admin/ajax/sql_editors'});\r\n  }\r\n\r\n  changePage(currentPage, pagination) {\r\n    this.setState(state => ({...state, [pagination]: {...state[pagination], currentPage}}));\r\n  }\r\n\r\n  /**\r\n   * Обновить список Sql-редакторов\r\n   */\r\n  updateSqlEditors() {\r\n\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let sql_editors = await this.sql_editorsResource.getAll();\r\n    sql_editors = sql_editors.sql_editors;\r\n    this.setState(state => ({\r\n      ...state,\r\n      sql_editors\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    const { sql_editors, sql_editorsPagination} = this.state;\r\n    return <div className=\"admin-settings admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">SQL Editors</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">SQL Editors</span>\r\n        </div>\r\n        <Link className=\"btn\" to={`/admin/tables/sql_editors/add`}>Add New</Link>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n\r\n        {/* TODO: что делать с колoнкой с чекбоксами? */}\r\n        <AdminTable\r\n            columns={columns}\r\n            quickActions={[{\r\n              tag: 'Link', props: {\r\n                href: '/admin/tables/sql_editors/edit/:id',\r\n              },\r\n              title: 'Edit'\r\n            }, {\r\n              tag: 'button',\r\n              route: '/admin/ajax/sql_editors/:id',\r\n              method: 'delete',\r\n              confirm: 'Are You Sure?',\r\n              // after: () => this.updateModels(this.state.currentPage, this.state.activeTemplateArea),\r\n              className: 'quick-action-menu__item_danger',\r\n              title: 'Trash'\r\n            }]}\r\n            rows={sql_editors.map(sql_editor => ({\r\n              ...sql_editor,\r\n              editUrl: '/admin/tables/sql_editors/edit/' + sql_editor.id\r\n            }))}\r\n        />\r\n        <Pagination pageCount={sql_editorsPagination.pageCount}\r\n                    currentPage={sql_editorsPagination.currentPage}\r\n                    changePage={currentPage => this.changePage(currentPage, \"sql_editorsPagination\")}\r\n                    itemsCount={sql_editors.length}\r\n        />\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport './sass/admin-style.scss';\r\nimport {hot} from \"react-hot-loader\";\r\nimport AdminLogo from './components/AdminLogo';\r\nimport Bars from './svgs/bars.svg';\r\nimport AllPages from './components/AllPages';\r\nimport AdminSettings from './components/AdminSettings';\r\nimport AssetSvg from './svgs/assets.svg';\r\nimport DashboardSvg from './svgs/dashboard.svg';\r\nimport PagesSvg from './svgs/pages.svg';\r\nimport PluginSvg from './svgs/plugins.svg';\r\nimport ReportSvg from './svgs/reports.svg';\r\nimport SettingSvg from './svgs/settings.svg';\r\nimport TableSvg from './svgs/tables.svg';\r\nimport TemplateSvg from './svgs/templates.svg';\r\nimport UserSvg from './svgs/users.svg';\r\nimport store from './js/store/store';\r\nimport {Provider} from 'react-redux'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport Users from \"./components/users/Users\";\r\nimport AddUserPage from \"./components/users/AddUserPage\";\r\nimport EditUserPage from \"./components/users/EditUserPage\";\r\nimport UsersTools from \"./components/users/UsersTools\";\r\nimport Assets from \"./components/Assets\";\r\nimport Dashboard from \"./components/Dashboard\";\r\nimport Plugins from \"./components/Plugins\";\r\nimport Reports from \"./components/Reports\";\r\nimport Tables from \"./components/Tables\";\r\nimport Templates from \"./components/Templates\";\r\nimport AdminModal from \"./components/AdminModal\";\r\nimport AddPage from \"./components/AddPage\";\r\nimport UserTopPanel from \"./components/UserTopPanel\";\r\nimport AssetsBrowser from \"../../editor/src/js/classes/modules/AssetsBrowser\";\r\nimport Models from \"./components/Models\";\r\nimport EditModel from \"./components/models/EditModel\";\r\nimport EditField from \"./components/models/EditField\";\r\nimport AddRelation from \"./components/models/AddRelation\";\r\nimport AddDataSource from \"./components/models/AddDataSource\";\r\nimport SQLBuilder from \"./components/SQLBuilder\";\r\nimport SqlEditor from \"./components/models/SqlEditor\";\r\nimport AccessOptions from \"./components/AccessOptions\";\r\nimport RolePage from \"./components/access/RolePage\";\r\nimport PermissionPage from \"./components/access/PermissionPage\";\r\n\r\nimport AddTable from \"./components/tables/AddTable\";\r\nimport EditTable from \"./components/tables/EditTable\";\r\nimport SettingTable from \"./components/tables/SettingTable\";\r\nimport AddMigrationPage from \"./components/tables/AddMigrationPage\";\r\nimport AdminVersion from \"./components/AdminVersion\";\r\nimport SQLEditors from \"./components/SQLEditors\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nwindow.React = React;\r\nwindow.ReactDOM = ReactDOM;\r\nwindow.Component = React.Component;\r\n\r\nclass Admin extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      adminState: {\r\n        adminEnable: true,\r\n      },\r\n      pagesMenuShow: false,\r\n    };\r\n    this.toggleMenu = this.toggleMenu.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    store.subscribe(this.updateAdminState.bind(this));\r\n  }\r\n\r\n  /**\r\n   * Срабатвыает, когда меняется adminState в store\r\n   */\r\n  updateAdminState(){\r\n    let adminState = store.getState().adminState;\r\n    this.setState(state=>{\r\n      return{...state,adminState:{...adminState}}\r\n    })\r\n  }\r\n  toggleMenu(){\r\n    this.setState(state=>{\r\n      return {...state, pagesMenuShow: !state.pagesMenuShow}\r\n    })\r\n  }\r\n  render() {\r\n    let adminClasses = ['admin'];\r\n    if(!this.state.adminState.adminEnable){\r\n      adminClasses.push('pointer-event-none');\r\n    }\r\n    if(this.state.pagesMenuShow){\r\n      adminClasses.push('admin_pages-show');\r\n    }\r\n    return <Provider store={store}>\r\n      <div className={adminClasses.join(' ')}>\r\n        <Router>\r\n          <nav className=\"admin-nav\">\r\n            <div className=\"admin-nav-top\">\r\n              <AdminLogo/>\r\n              <Bars className=\"admin__bars\" onClick={this.toggleMenu}/>\r\n            </div>\r\n            <div className=\"admin-nav-main\">\r\n\r\n            <ul className=\"admin-nav-list\">\r\n\r\n                <li>\r\n                  <Link to=\"/admin/dashboard\" className=\"admin-nav-list__link\">\r\n                    <DashboardSvg className=\"icon\"/>\r\n                    <span>Dashboard</span>\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/admin/assets\" className=\"admin-nav-list__link\">\r\n                    <AssetSvg className=\"icon\"/>\r\n                    <span>Assets</span>\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  {/*<Link to=\"/admin/tables\" className=\"admin-nav-list__link\">*/}\r\n                    {/*<TableSvg className=\"icon\"/>*/}\r\n                    {/*<span>Tables</span>*/}\r\n                  {/*</Link>*/}\r\n\r\n                  <Link to=\"/admin/tables/models\" className=\"admin-nav-list__link\">\r\n                    <TableSvg className=\"icon\"/>\r\n                    <span>Tables</span>\r\n                  </Link>\r\n                  <ul className=\"admin-nav-sublist\">\r\n\r\n                    <li>\r\n\r\n                      <Link to=\"/admin/tables/sql_editors\" className=\"admin-nav-list__link\">\r\n                        <TableSvg className=\"icon\"/>\r\n                        <span>SQL Editors</span>\r\n                      </Link>\r\n                    </li>\r\n                  </ul>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/admin/templates\" className=\"admin-nav-list__link\">\r\n                    <TemplateSvg className=\"icon\"/>\r\n                    <span>Templates</span>\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/admin/reports\" className=\"admin-nav-list__link\">\r\n                    <ReportSvg className=\"icon\"/>\r\n                    <span>Reports</span>\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/admin/users\" className=\"admin-nav-list__link\">\r\n                    <UserSvg className=\"icon\"/>\r\n                    <span>Users</span>\r\n                  </Link>\r\n                </li>                \r\n                <li>\r\n                  <Link to=\"/admin/tools\" className=\"admin-nav-list__link\">\r\n                    <span>Tools</span>\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/admin/access/roles\" className=\"admin-nav-list__link\">\r\n                    <UserSvg className=\"icon\" />\r\n                    <span>Access</span>\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/admin/plugins\" className=\"admin-nav-list__link\">\r\n                    <PluginSvg className=\"icon\"/>\r\n                    <span>Plugins</span>\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/admin/settings\" className=\"admin-nav-list__link\">\r\n                    <SettingSvg className=\"icon\"/>\r\n                    <span>Settings</span>\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n              <ul className=\"admin-nav-list admin-nav-list_pages\">\r\n                <li>\r\n                  <Link to=\"/admin/pages\" className=\"admin-nav-list__link\">\r\n                    <PagesSvg className=\"icon\"/>\r\n                    <span>Pages</span>\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <AdminVersion/>\r\n          </nav>\r\n          <Switch>\r\n            <Route path=\"/admin/\" exact>\r\n              <Redirect to=\"/admin/dashboard\"/>\r\n            </Route>\r\n            <Route path=\"/admin/settings\">\r\n              <AdminSettings/>\r\n            </Route>\r\n            <Route path=\"/admin/users\" exact>\r\n              <Users/>\r\n            </Route>\r\n            <Route path=\"/admin/users/new\" exact>\r\n              <AddUserPage/>\r\n            </Route>\r\n            <Route path=\"/admin/users/user/:id\">\r\n              <EditUserPage/>\r\n            </Route>\r\n            \r\n            <Route path=\"/admin/tools\">\r\n              <UsersTools/>\r\n            </Route>\r\n            <Route path=\"/admin/assets\">\r\n              <Assets/>\r\n            </Route>\r\n            <Route path=\"/admin/dashboard\">\r\n              <Dashboard/>\r\n            </Route>\r\n            <Route path=\"/admin/plugins\">\r\n              <Plugins/>\r\n            </Route>\r\n            <Route path=\"/admin/reports\">\r\n              <Reports/>\r\n            </Route>\r\n            <Route path=\"/admin/tables\" exact>\r\n              <Tables/>\r\n            </Route>\r\n            <Route path=\"/admin/tables/edit/:id\"  component={EditTable} exact>\r\n              <EditTable/>   \r\n            </Route>\r\n            <Route path=\"/admin/tables/edit/:id/setting\" component={SettingTable} exact/>\r\n            <Route path=\"/admin/tables/edit/:id/setting/migrations/add\" component={AddMigrationPage} />\r\n            <Route path=\"/admin/tables/add\">\r\n              <AddTable/>\r\n            </Route>\r\n            <Route path=\"/admin/templates\">\r\n              <Templates/>\r\n            </Route>\r\n            <Route path=\"/admin/pages\" exact>\r\n              <AllPages/>\r\n            </Route>\r\n            <Route path=\"/admin/pages/edit/:id\">\r\n              <AddPage/>\r\n            </Route>\r\n            <Route path=\"/admin/pages/add\">\r\n              <AddPage/>\r\n            </Route>\r\n            <Route path=\"/admin/tables/models\" exact>\r\n              <Models />\r\n            </Route>\r\n            <Route path=\"/admin/tables/sql_editors\" exact>\r\n              <SQLEditors />\r\n            </Route>\r\n            <Route path=\"/admin/tables/sql_editors/add\">\r\n              <SqlEditor/>\r\n            </Route>\r\n            <Route path=\"/admin/tables/sql_editors/edit/:id\">\r\n              <SqlEditor/>\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/add\">\r\n              <EditModel />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/edit/:id\" exact>\r\n              <EditModel />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/fields/add\">\r\n              <EditField/>\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/fields/edit/:id\">\r\n              <EditField/>\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/relations/add\">\r\n              <AddRelation />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/relations/edit/:id\">\r\n              <AddRelation />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/queries/add\">\r\n              <SQLBuilder/>\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/queries/edit/:id\">\r\n              <SQLBuilder />\r\n            </Route>\r\n            <Route path=\"/admin/tables/data-sources/add\">\r\n              <AddDataSource />\r\n            </Route>\r\n            <Route path=\"/admin/tables/data-sources/edit/:id\">\r\n              <AddDataSource />\r\n            </Route>\r\n\r\n            <Route path=\"/admin/access/roles/add\">\r\n              <RolePage />\r\n            </Route>\r\n            <Route path=\"/admin/access/roles/edit/:id\">\r\n              <RolePage />\r\n            </Route>\r\n            <Route path=\"/admin/access/permissions/add\">\r\n              <PermissionPage />\r\n            </Route>\r\n            <Route path=\"/admin/access/permissions/edit/:id\">\r\n              <PermissionPage />\r\n            </Route>\r\n            <Route path=\"/admin/access\">\r\n              <AccessOptions />\r\n            </Route>            \r\n          </Switch>\r\n        </Router>\r\n        <AdminModal/>\r\n        <UserTopPanel/>\r\n        <AssetsBrowser/>\r\n      </div>\r\n    </Provider>;\r\n  }\r\n}\r\n\r\nlet _export;\r\nif (process.env.NODE_ENV === 'production') {\r\n  _export = Admin;\r\n} else {\r\n  _export = hot(module)(Admin);\r\n}\r\n\r\nexport default _export;\r\n","export const SET_DISABLED = 'SET_DISABLED';\r\nexport const SET_ENABLE = 'SET_ENABLE';\r\n\r\nexport function setAdminDisable(){\r\n  return {\r\n    type: SET_DISABLED,\r\n  }\r\n}\r\n\r\nexport function setAdminEnable(){\r\n  return {\r\n    type: SET_ENABLE,\r\n  }\r\n}\r\n","export const ASSETS_SHOW = 'ASSETS_SHOW';\r\nexport const ASSETS_TOGGLE = 'ASSETS_TOGGLE';\r\n\r\nexport function assetsShow(settings) {\r\n  settings.active = true;\r\n  return {\r\n    type: ASSETS_SHOW,\r\n    settings\r\n  };\r\n}\r\n\r\nexport function assetsToggle() {\r\n  return {\r\n    type: ASSETS_TOGGLE,\r\n  };\r\n}\r\n\r\n","/**\r\n * Имеет интерфейс для доступы к свойствам data (любой вложенности)\r\n * @class AltrpModel\r\n */\r\nimport {cloneDeep, get, set} from \"lodash\";\r\n\r\nclass AltrpModel {\r\n  constructor(data = {}) {\r\n    this.data = cloneDeep(data);\r\n  }\r\n\r\n  /**\r\n   * Возваращает объект данных\r\n   * @params {boolean} clone - клонировать или ссылку на данные\r\n   * @return {*}\r\n   */\r\n  getData(clone = true) {\r\n    if(clone){\r\n      return _.cloneDeep(this.data);\r\n    }\r\n    return this.data;\r\n  }\r\n\r\n  /**\r\n   * Возврашает значение свойства name\r\n   * @params {string} name\r\n   * @params {*} defaultValue\r\n   * @return {*}\r\n   */\r\n  getProperty(name, defaultValue = '') {\r\n    return get(this.data, name, defaultValue);\r\n  }\r\n  /**\r\n   * Возврашает значение свойства name\r\n   * @params {string} name\r\n   * @params {*} defaultValue\r\n   * @return {*}\r\n   */\r\n  setProperty(name, value = '') {\r\n    return set(this.data, name, value);\r\n  }\r\n}\r\n\r\nexport default AltrpModel","export const SET_LOGO = 'SET_LOGO';\r\n\r\nexport function setAdminLogo(logoData){\r\n  return {\r\n    logoData,\r\n    type: SET_LOGO,\r\n  }\r\n}\r\n\r\n","import {ASSETS_SHOW, ASSETS_TOGGLE} from \"./actions\";\r\n\r\nconst defaultState = {\r\n  onChoose: function (media) {\r\n    console.log(media);\r\n  },\r\n  active: false,\r\n};\r\n\r\nexport function assetsSettingsReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type) {\r\n    case ASSETS_SHOW:{\r\n      state = {\r\n        ...action.settings,\r\n      };\r\n    }break;\r\n    case ASSETS_TOGGLE:{\r\n      state = {...state};\r\n      state.active = !state.active;\r\n    }break;\r\n  }\r\n  return state;\r\n}","export const SET_ACE = 'SET_ACE';\r\n\r\nexport function setAceEditor(AceEditor){\r\n  return {\r\n    AceEditor,\r\n    type: SET_ACE,\r\n  }\r\n}\r\n\r\n","const CONSTANTS = {\r\n  TEMPLATE_UPDATED: 'TEMPLATE_UPDATED',\r\n  TEMPLATE_NEED_UPDATE: 'TEMPLATE_NEED_UPDATE',\r\n  TEMPLATE_SAVING: 'TEMPLATE_SAVING',\r\n  DEFAULT_BREAKPOINT: 'DEFAULT_BREAKPOINT',\r\n  SCREENS: [\r\n\r\n    {\r\n      icon: 'wide_screen',\r\n      name: 'DEFAULT_BREAKPOINT',\r\n      id: 1,\r\n      width: '100%',\r\n      mediaQuery: ''\r\n    },\r\n    {\r\n      icon: 'desktop',\r\n      name: \"Desktop\",\r\n      id: 2,\r\n      width: '1440px',\r\n      mediaQuery: '@media screen and (max-width: 1440px)'\r\n    },\r\n    {\r\n      icon: 'laptop',\r\n      name: \"Laptop\",\r\n      id: 3,\r\n      width: '1024px',\r\n      mediaQuery: '@media screen and (max-width: 1024px)'\r\n    },\r\n    {\r\n      icon: 'tablet',\r\n      name: \"Tablet\",\r\n      id: 4,\r\n      width: '768px',\r\n      mediaQuery: '@media screen and (max-width: 768px)'\r\n    },\r\n    {\r\n      icon: 'big_phone',\r\n      name: \"Big-Phone\",\r\n      id: 5,\r\n      width: '450px',\r\n      mediaQuery: '@media screen and (max-width: 450px)'\r\n    },\r\n    {\r\n      icon: 'small_phone',\r\n      name: \"Small-Phone\",\r\n      id: 6,\r\n      width: '320px',\r\n      mediaQuery: '@media screen and (max-width: 320px)'\r\n    },\r\n  ]\r\n};\r\nexport default CONSTANTS;","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.i(require(\"-!../../../../../node_modules/css-loader/index.js!bootstrap/dist/css/bootstrap.css\"), \"\");\nexports.i(require(\"-!../../../../../node_modules/css-loader/index.js!bootstrap/dist/css/bootstrap-grid.min.css\"), \"\");\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto:wght@400;700&display=swap);\", \"\"]);\nexports.i(require(\"-!../../../../../node_modules/css-loader/index.js!react-datepicker/dist/react-datepicker.css\"), \"\");\n\n// module\nexports.push([module.id, \"html{height:100%}body,*,*:focus,*::before,*::after{box-sizing:border-box;outline:none}body{font-family:Roboto, sans-serif;margin:0;overflow-x:hidden;color:#242424;display:flex;flex-direction:column;height:100%}a,button,svg,path{-webkit-transition-duration:0.2s;-moz-transition-duration:0.2s;-ms-transition-duration:0.2s;-o-transition-duration:0.2s;transition-duration:0.2s;font-family:Roboto, sans-serif}.btn:active,.btn:focus,a:active,a:focus,button:active,button:focus{outline:none;box-shadow:none}button{cursor:pointer}.btn_grey{background-color:#8E94AA}.btn_disabled{background-color:#8E94AA;cursor:default;font-weight:bold;color:#fff;pointer-events:none}.btn,button{padding:10px 15px;border:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}iframe{display:block;border:none}input[type=\\\"checkbox\\\"]{cursor:pointer}.no-transition{-webkit-transition-duration:0s !important;-moz-transition-duration:0s !important;-ms-transition-duration:0s !important;-o-transition-duration:0s !important;transition-duration:0s !important}.caption{margin-bottom:15px;font-weight:600;font-size:18px}.btn_bare{border:none;background-color:transparent}.btn_success{background-color:#87CA00;color:#fff;font-weight:bold}.btn_failure{background-color:#FF4E6E;color:#fff;font-weight:bold}.text_bold{font-weight:bold}.altrp-disabled{pointer-events:none}.pointer-event-none{pointer-events:none}.altrp-inherit{font-family:inherit;font-size:inherit;font-style:inherit;line-height:inherit;color:inherit;text-decoration:inherit;text-transform:inherit}.altrp-scroll__vertical-track{bottom:2px;top:2px;right:2px;z-index:1000;border-radius:3px}.clickable{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cursor-pointer{cursor:pointer}.rotate-180{transform:rotatex(180deg)}.altrp-label{display:block}.admin-heading{display:flex;align-items:center;padding:10px 20px 10px 25px}.admin-breadcrumbs{margin-right:20px;font-size:28px;font-family:Montserrat, Arial, sans-serif}.admin-breadcrumbs__link{font-weight:500;font-size:28px;text-decoration:none;color:#8E94AA}.admin-breadcrumbs__link:hover{color:#315EFB}.admin-breadcrumbs__separator{font-weight:bold;font-size:28px;margin-left:5px;margin-right:5px}.admin-breadcrumbs__current{font-weight:bold;font-size:28px}.admin-filters{margin-left:20px;margin-right:20px;font-size:15px;font-family:Roboto, Arial, sans-serif}.admin-filters__link{text-decoration:none;color:#8E94AA}.admin-filters__link:hover{color:#315EFB}.admin-filters__separator{margin-left:5px;margin-right:5px}.admin-filters__current{font-size:15px}.btn{display:inline-block;padding:6px 12px;background:#E9E9EB;border:1.5px solid #3C455B;border-radius:2px;font-family:Roboto, Arial, sans-serif;font-weight:500;font-size:15px;line-height:18px;text-decoration:none;color:#3C455B}.btn:hover{background:#3C455B;color:white}.btn_success{background-color:#87CA00;border-color:#87CA00}.btn_success:hover{border-color:#343B4C}.form-bottom{display:flex;justify-content:flex-end}.form-label{position:relative;margin-bottom:13px;font-size:13px;display:block;width:100%}.form-label select.form__input,.form-label .form__input[type=\\\"text\\\"]{margin-top:5px;font-size:13px;border:1px solid #D5D7DE}.form-label__error{position:absolute;left:0;top:100%;font-size:12px;line-height:13px;color:#FF4E6E}select.form__input,input[type=\\\"number\\\"].form__input,input[type=\\\"text\\\"].form__input{width:100%;padding:10px;line-height:16px;font-size:14px}.admin-pills .nav-item{background-color:transparent}.admin-pills .nav-link{border:1px solid #D5D7DE;border-radius:3px 3px 0 0;margin-bottom:-1px;background-color:#E6E9EC;font-family:Montserrat, sans-serif;font-size:16px;font-weight:bold;color:#8E94AA}.admin-pills .nav-link.active{background-color:#fff;border-bottom-color:#fff;color:#343B4C}.admin-user-top-panel{position:absolute;top:0;right:0;height:62px;padding-right:27px}.top-panel-notification{margin-right:19px}.top-panel__portrait{margin-right:7px}.top-panel__greeting{margin-right:14px;font-size:15px;color:#8E94AA}.top-panel-logout{background-color:transparent;border:none;padding:0}.admin-table{width:100%;border:1px solid #D5D7DE;border-radius:3px;overflow:hidden}.admin-table .admin-table__td{height:65px;position:relative}.admin-table .admin-table__td_check{width:45px;text-align:center}.admin-table table{border-collapse:collapse;width:100%}.admin-table-head{background-color:#fff;border-bottom:1px solid #D5D7DE}.admin-table-head .admin-table__td{height:45px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;color:#343B4C}.admin-table-body .admin-table-row:nth-child(2n){background-color:#F7F8F9}.admin-table-body .admin-table-row:nth-child(2n+1){background-color:#fff}.admin-table-body .admin-table-row .quick-action-menu{display:none;position:absolute;bottom:4px;left:0}.admin-table-body .admin-table-row .quick-action-menu__item_wrapper::after{content:\\\" | \\\";color:#8E94AA}.admin-table-body .admin-table-row .quick-action-menu__item_wrapper:last-child::after{content:\\\"\\\"}.admin-table-body .admin-table-row:hover .quick-action-menu{display:inline-block}.admin-table-body .admin-table-row:hover .quick-action-menu .quick-action-menu__item{font-size:12px;color:#8E94AA;padding:0;background-color:transparent}.admin-table-body .admin-table-row:hover .quick-action-menu .quick-action-menu__item.quick-action-menu__item_danger{color:#cf0025}.admin-table-body .admin-table-row:hover .quick-action-menu .quick-action-menu__item:hover{text-decoration:underline}.admin-modal{display:flex;opacity:0;z-index:-1000;position:fixed;top:0;bottom:0;right:0;left:0;align-items:center;justify-content:center}.admin-modal_active{display:flex;opacity:1;z-index:1000;background-color:rgba(52,59,76,0.2)}.admin-modal_active .admin-modal-content{transform:translate(0, 0vh)}.admin-modal-content{width:320px;position:relative;padding:25px;background-color:#fff;border:1px solid #D5D7DE;-webkit-box-shadow:0px 4px 5px rgba(0,0,0,0.04);-moz-box-shadow:0px 4px 5px rgba(0,0,0,0.04);box-shadow:0px 4px 5px rgba(0,0,0,0.04);border-radius:3px;z-index:100;transform:translate(0, -50vh);transition-duration:.5s}.admin-modal__close{position:absolute;top:0;right:0;padding:10px;border:none;background-color:transparent}.admin-modal__close .icon{width:auto;height:auto;margin:0;display:block}.admin-modal__bg{position:absolute;top:0;bottom:0;left:0;right:0;z-index:50}.uploader{padding:48px;background-color:#fff;border:1px solid #D5D7DE;border-radius:5px;-webkit-transition-duration:.5s;-moz-transition-duration:.5s;-ms-transition-duration:.5s;-o-transition-duration:.5s;transition-duration:.5s;color:#8E94AA}.uploader .icon{width:auto;height:auto;fill:#8E94AA;margin:0;transition-duration:inherit}.uploader__input{display:none}.uploader_drag-over{padding:44px;border:5px solid #71d7f7;color:#71d7f7}.uploader_drag-over .icon{fill:#71d7f7}.item{position:relative}.item__delete{position:absolute;top:0;right:0;padding:10px;border:none;background-color:transparent}.item__delete-icon{transform:scale(1.2)}.item__background{position:absolute;top:5px;bottom:5px;left:5px;right:5px;background-position:center;-webkit-background-size:contain;background-size:contain;background-repeat:no-repeat;background-color:#F7F8F9}.assets-list{background-color:#fff}.assets-list__item{padding-top:8.333333%}.admin-settings{width:100%;border:1px solid #D5D7DE;border-radius:3px;overflow:hidden}.admin-settings .nav{margin-bottom:-1px}.admin-settings .admin-settings-table__td{height:65px;padding:8px 16px}.admin-settings .admin-settings-table__td_check{width:45px;text-align:center}.admin-settings .header-text{text-transform:uppercase;font-weight:600;font-size:16px;line-height:20px}.admin-settings .row-text{font-family:Roboto;font-style:normal;font-weight:bold;font-size:15px;line-height:18px}.admin-settings .admin-settings-button{line-height:5px;width:163px;height:30px;left:315px;top:448px;background:#87CA00;border:1.5px solid #87CA00;box-sizing:border-box;border-radius:2px}.admin-settings table{border-collapse:collapse;width:100%}.admin-settings table .admin-table__td_check{margin-right:10px}.admin-settings-head{background-color:#fff;border-bottom:1px solid #D5D7DE}.admin-settings-head .admin-settings-table__td{height:45px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;color:#343B4C}.admin-settings-body .admin-settings-table-row:nth-child(2n){background-color:#F7F8F9}.admin-settings-body .admin-settings-table-row:nth-child(2n+1){background-color:#fff}.react-tabs__tab-panel{width:100%;padding:10px;border:1px solid #D5D7DE;border-radius:3px;overflow:hidden;background-color:#fff}.nav-pills .react-tabs__tab{margin-right:16px;padding:0.5rem 1rem;border:1px solid #D5D7DE;border-radius:3px 3px 0 0;background-color:#E6E9EC;font-family:Montserrat, sans-serif;font-size:16px;font-weight:bold;color:#8E94AA}.nav-pills .react-tabs__tab--selected{background-color:#fff;border-bottom-color:#fff;color:#343B4C}.admin-users{width:100%}.admin-users .wrapper{margin:15px}.admin-users .admin-heading-users{padding:10px 0;display:flex;align-items:center}.admin-users .admin-panel{display:flex}.admin-users .admin-users-form{display:flex}.admin-users .admin-users-form .admin-users-button{margin-left:8px;flex:none}.admin-users .form-bulk-left{width:unset}.admin-users .form-bulk-right{margin-left:24px}.admin-users .form-bulk-search{margin-left:auto}.admin-users .form-control{border:1px solid #343B4C;box-sizing:border-box;box-shadow:0px 0px 0px #007CBA;border-radius:2px;max-height:35px}.admin-users .admin-users-table{margin-top:10px;border:1px solid #D5D7DE;height:75vh;border-radius:3px;overflow:hidden}.admin-users .table{border-bottom:1px solid #D5D7DE;font-family:Roboto;font-style:normal;font-size:15px;line-height:15px}.admin-users .table thead{text-transform:uppercase;font-weight:600;font-family:Montserrat}.admin-users .table td{vertical-align:middle}.admin-users .table td a{font-family:Roboto;color:#274BC8;cursor:pointer}.admin-users .table .input-users{margin-right:10px}.admin-users .table .vector-svg{position:relative;margin-left:8px;width:16px;height:16px;display:inline-block;align-items:center;fill:red}.admin-users .table .role-svg{transform:rotate(180deg)}.admin-users .table .users-svg{position:relative;margin-right:5px;max-width:36px;max-height:36px;display:inline-block;align-items:center}#content{width:100%;height:100vh;margin:12px}.admin-heading{display:flex;align-items:center;padding:10px 20px 10px 25px}.admin-breadcrumbs{margin-right:20px;font-size:28px;font-family:Montserrat, Arial, sans-serif}.admin-breadcrumbs__link{font-weight:500;font-size:28px;text-decoration:none;color:grey}.admin-breadcrumbs__separator{font-weight:bold;font-size:28px}.admin-breadcrumbs__current{font-weight:bold;font-size:28px}#description{border-radius:0px 3px 3px 3px;border-top:none !important}.nav{margin-top:10px}.nav-item a{font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;text-transform:uppercase}.change-role{line-height:50px;padding:35px 8px 8px 8px;align-items:center}.form-control-sm{margin:0 35px 0 20px;background:#FFFFFF;border:1px solid #343B4C !important;box-sizing:border-box;box-shadow:0px 0px 0px #007CBA;border-radius:2px}.form-check{padding-left:1.2rem !important}.form-check-inline{margin-right:0 !important}.form-check-label{font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343B4C}.form-check-label:hover{color:#007bff}.col-3{align-self:center}.col-6{padding-bottom:8px;padding-top:10px;border-top:0;border-bottom:0;margin:0 !important}.form-group{margin-top:14px !important}fieldset{padding-top:12px}.treeview{margin-top:-50px;padding:0;clear:both;font-family:Arial, sans-serif;width:100%;height:70vh}.treeview *{font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#8E94AA}.treeview ul{overflow:hidden;width:100%;margin:0;padding:0 0 1.5em 0;list-style-type:none}.treeview ul ul{overflow:visible;width:auto;margin:0 0 0 0;padding:0 0 0 1.5em}.treeview ul.l{border-left:1px solid;margin-left:-1px}ul{overflow:hidden}.treeview li{position:relative;padding-left:1.2em}.treeview+ul{margin-left:30px;padding-top:10px}.treeview li{margin-bottom:.8em}.treeview li{margin:0;padding:0}.treeview li li{margin:0 0 0 0.5em;border-left:1px solid;padding:0}.treeview li div{position:relative;height:1.5em;min-height:16px;height:1.9em}.treeview li li div{border-bottom:1px solid}.treeview li p{position:absolute;z-index:1;top:0.8em;top:1.2em;left:.95em;width:100%;margin:0;border-bottom:1px dashed;padding:0}.treeview li p.form-group-p{margin-left:7.8rem}.treeview a{padding:0.1em 0.2em;white-space:nowrap;height:1px}.treeview a:hover{padding:0.1em 0.2em;white-space:nowrap;height:1px;text-decoration:none}.treeview img.i{border-right:2px solid;border-bottom:0.5em solid;margin-bottom:-0.5em;vertical-align:middle}.treeview a.sc{position:absolute;top:0.06em;margin-left:-1em;padding:0;text-decoration:none}.treeview li p,.treeview img.i,.treeview .sc{background:#ffffff}.treeview ul.l,.treeview li p,.treeview img.i{border-color:#ffffff}.treeview ul li li,.treeview ul li li div{border-color:#999999}.treeview a,.treeview a.sc,.treeview a.sc:hover{color:#8E94AA}.treeview a.core{color:#343B4C}.treeview a:hover{color:#f97c13}.group-table{height:50px;align-items:center}.group-table .text-group{margin:0 0 0 15px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;text-transform:uppercase;color:#343B4C}.group-table .text-total{font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343B4C}.col input .search-tools{height:30px;border:1px solid #ced4da}.form-tools button{min-width:-webkit-fill-available;min-height:-webkit-fill-available;border-bottom:none;border-right:none;border-top:none;border-left:1px solid #ced4da;background:#87CA00;font-family:Montserrat;font-style:normal;font-weight:bold;font-size:18px;line-height:22px;text-transform:uppercase;color:#3C455B}.form-tools button:hover{min-width:-webkit-fill-available;min-height:-webkit-fill-available;border-bottom:none;border-right:none;border-top:none;border-left:1px solid #ced4da;background:#b5ea49;font-family:Montserrat;font-style:normal;font-weight:bold;font-size:18px;line-height:22px;text-transform:uppercase;color:#3C455B}.group-table-trees{height:75vh}.form-check-group{margin-top:16px}.form-group-p{margin:0;margin-left:10px;display:inline-block}.form-group-p a{font-family:Roboto;font-style:normal;font-weight:normal;font-size:11px;line-height:14px;color:#8E94AA;text-decoration:none !important}.form-group-p span{margin:0;font-size:12px;line-height:14px;color:#8E94AA}.form-group-p a:last-child{color:#fc394d}.form-group-p a:last-child:hover{color:#fa011a}.group-vertical{display:grid;width:80%;margin:25px auto}.group-vertical button{margin-top:5px;font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;text-align:center;color:#3C455B}.dangerous{display:grid;width:80%;justify-content:center;margin:350px auto auto auto}.dangerous span{width:195px;font-family:Roboto;font-style:normal;font-weight:bold;font-size:12px;line-height:14px;margin:0 19px;color:#8E94AA}.dangerous button{margin:5px auto;width:195px;height:40px;left:1651px;top:889px;background:#FF4E6E;border:1px solid #FF4E6E;box-sizing:border-box;border-radius:2px;font-family:Montserrat;font-style:normal;font-weight:bold;font-size:18px;line-height:22px;text-align:center;color:#FFFFFF}.admin-logo{width:100%;height:41px;background-color:#2A2D36}.logo{margin:8px 15px}.admin-users{width:100%}.admin-users .wrapper{margin:15px}.admin-users .admin-heading-users{padding:10px 0;display:flex;align-items:center}.admin-users .admin-panel{display:flex}.admin-users .admin-users-form{display:flex}.admin-users .admin-users-form .admin-users-button{margin-left:8px;flex:none}.admin-users .form-bulk-left{width:unset}.admin-users .form-bulk-right{margin-left:24px}.admin-users .form-bulk-search{margin-left:auto}.admin-users .form-control{border:1px solid #343B4C;box-sizing:border-box;box-shadow:0px 0px 0px #007CBA;border-radius:2px;max-height:35px}.admin-users .admin-users-table{margin-top:10px;border:1px solid #D5D7DE;height:75vh;border-radius:3px;overflow:hidden}.admin-users .table{border-bottom:1px solid #D5D7DE;font-family:Roboto;font-style:normal;font-size:15px;line-height:15px}.admin-users .table thead{text-transform:uppercase;font-weight:600;font-family:Montserrat}.admin-users .table td{vertical-align:middle}.admin-users .table td a{font-family:Roboto;color:#274BC8;cursor:pointer}.admin-users .table .input-users{margin-right:10px}.admin-users .table .vector-svg{position:relative;margin-left:8px;width:16px;height:16px;display:inline-block;align-items:center;fill:red}.admin-users .table .role-svg{transform:rotate(180deg)}.admin-users .table .users-svg{position:relative;margin-right:5px;max-width:36px;max-height:36px;display:inline-block;align-items:center}.btn__wrapper .btn{margin-right:20px}.btn_add{margin-top:20px}.form-group__inline-wrapper{display:flex;justify-content:space-between}.form-group__inline-wrapper__divider,.form-group__inline-wrapper .form-group_checkbox{align-self:flex-end}.form-group.form-group_width30{flex-basis:30%}.form-group.form-group_width65{flex-basis:65%}.form-group.form-group_width47{flex-basis:47.5%}.form-group.form-group_width30{flex-basis:30%}.form-group.form-group_width15{flex-basis:15%}.sub-header{margin:30px 0;font-weight:600;font-size:16px;line-height:20px;text-transform:uppercase;color:#343B4C}.field-form p,.admin-form p{color:#242424;display:block;font-family:inherit}.field-form .checkbox-group,.admin-form .checkbox-group{display:flex}.field-form .checkbox-group .form-group,.admin-form .checkbox-group .form-group{flex-grow:1}.centred{text-align:center}.checkbox-label{margin-left:10px}.flex-container{display:flex;justify-content:space-between;align-items:baseline}.label_checkbox{margin-bottom:0;cursor:pointer}.disabling-radio{margin-left:15px}.charts{display:flex;flex-wrap:wrap}.charts .card{margin-right:10px;margin-bottom:10px;min-height:300px;min-width:450px;padding:20px;border:0}.charts .card-body{padding:0}.charts .card-body .spinner-container{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.charts .card-body .widget-table{overflow:auto;width:100%;height:100%}.charts .card-body .widget-table table{width:100%;font-size:0.8rem}.charts .card-body .widget-table table.vertical-table tbody td:first-child{background-color:#f0f0f0;color:#666666;width:50%;font-weight:600}.charts .card-body .widget-table table thead th,.charts .card-body .widget-table table tbody td{border-collapse:collapse;border:1px solid rgba(0,0,0,0.125);padding:0.3rem 0.5rem}.charts .card-body .widget-table table thead{background-color:#f0f0f0;color:#666666;font-weight:600}.charts .card-header{display:flex;justify-content:space-between;align-items:center;padding:0.5rem 0.7rem;border-bottom:none;background-color:transparent;margin-bottom:10px}.charts .card-header__name{width:80%;font-size:1.2rem;color:#2a2d36;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.charts .card-header__buttons button{border:0;background:transparent;padding:0 7px}.widget-placeholder{width:100%;height:420px;border:1px solid #dedede;overflow:hidden;border-radius:2px;margin-right:15px;padding:20px}.widget-placeholder .widget-table{overflow:auto;width:100%;height:100%}.widget-placeholder .widget-table table{width:100%;font-size:0.8rem}.widget-placeholder .widget-table table.vertical-table tbody td:first-child{background-color:#f0f0f0;color:#666666;width:50%;font-weight:600}.widget-placeholder .widget-table table thead th,.widget-placeholder .widget-table table tbody td{border-collapse:collapse;border:1px solid rgba(0,0,0,0.125);padding:0.3rem 0.5rem}.widget-placeholder .widget-table table thead{background-color:#f0f0f0;color:#666666;font-weight:600}.form-group .react-datepicker-wrapper{width:100%}.hide-blocks .react-datepicker__header{display:none}.form-segment .form-group label{width:100%}.from-segment .form-group_checkbox{margin-bottom:25px}.admin{display:flex;min-height:100vh;padding-left:271px}.admin__logo{width:120px;height:44px;padding-left:12px;display:flex;align-items:center;justify-content:center}.admin__logo img{max-width:100%;max-height:100%}.admin-nav{position:fixed;top:0;left:0;bottom:0;overflow-x:hidden;overflow-y:auto;height:100vh;background-color:#2A2D36;width:271px;flex-shrink:0}.admin-nav-top{display:flex;justify-content:space-between;align-items:center;width:271px;padding-right:5px}.admin-nav-top .nav-logo{background-color:#2a2d36}.admin-nav-list{margin-top:10px}.admin-nav-list__link{display:flex;padding:6px;color:#fff;font-size:17px;font-weight:500}.admin-nav-list__link:hover{color:#87CA00}.admin-nav-list__link:hover path{fill:#87CA00}.admin-nav-list__link svg{position:relative;top:1px;margin:3px 16px 0 7px}.admin-nav-list_pages{position:absolute;top:44px;left:0;right:0;bottom:0;background-color:#2A2D36;transform:translate(100%, 0);transition-duration:0.3s}.admin-content{width:100%}.admin-caption{margin-bottom:15px;font-weight:600;font-size:18px}.admin__bars{margin:12px 12px;float:right;cursor:pointer}.admin_pages-show .admin-nav-list_pages{transform:translate(0, 0)}.admin__version{position:absolute;bottom:0;left:0;right:0;padding:5px;text-align:center;font-size:13px;color:#fff}.admin-form__subheader{text-transform:uppercase;margin-top:25px;font-weight:600;font-size:16px;line-height:20px}.icon{width:16px;height:16px;fill:white;margin-right:15px;display:inline-block;align-items:center}.admin-nav li{list-style-type:none;background:#343b4c}.admin-nav li:hover{background:#495267}ul{margin-left:0;padding-left:0}p{display:inline-block;color:white;font-weight:500;font-family:Montserrat, Arial, sans-serif}a{text-decoration:none}.admin-page{width:100%;display:flex;flex-direction:column}.admin-content{background-color:#F7F8F9;flex-grow:1;padding:13px 25px}.ace_editor{font-family:SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace}\\n\", \"\"]);\n\n// exports\n","import CONSTANTS from \"../../../editor/src/js/consts\";\r\nimport appStore from \"./store/store\";\r\nimport AltrpModel from \"../../../editor/src/js/classes/AltrpModel\";\r\n\r\nexport function getRoutes() {\r\n  return import('./classes/Routes.js');\r\n}\r\n/**\r\n * @return {IconsManager}\r\n * */\r\nexport function iconsManager() {\r\n    return window.iconsManager;\r\n}\r\n\r\n/**\r\n * Устанавливаент заголовок страницы на фронтенде\r\n * @param {string} title\r\n */\r\nexport function setTitle(title){\r\n  let titleElement = document.title;\r\n  if(!defaultTitle){\r\n    defaultTitle = titleElement.innerHTML;\r\n  }\r\n  if(! title){\r\n    title = defaultTitle;\r\n  }\r\n  if(document.title !== title){\r\n    document.title = title;\r\n  }\r\n}\r\n\r\n/**\r\n * @return {boolean}\r\n * */\r\nexport function isEditor() {\r\n  return !!(window.altrpEditor || window.parent.altrpEditor);\r\n}\r\n\r\n/**\r\n * Переменная, в которой храниться измначальный заголовок\r\n * @var {string}\r\n */\r\nlet defaultTitle;\r\n\r\n/**\r\n * Парсит стрку вводимую пользователем для опций селекта\r\n * @param string\r\n */\r\nexport function parseOptionsFromSettings(string) {\r\n  if(! string){\r\n    return[];\r\n  }\r\n  let options = string.split('\\n');\r\n  options = options.map(option=>{\r\n    let value = option.split('|')[0];\r\n    value = value.trim();\r\n    let label = option.split('|')[1] || value;\r\n    label = label.trim();\r\n    return{\r\n      value,\r\n      label,\r\n    }\r\n  });\r\n  return options;\r\n}\r\n\r\n/**\r\n * Получает медиа запрос для css по имени настройки\r\n * @param {string} screenSettingName\r\n * @return {string}\r\n */\r\nexport function getMediaQueryByName(screenSettingName) {\r\n  let mediaQuery = '';\r\n  CONSTANTS.SCREENS.forEach(screen=>{\r\n    if(screen.name === screenSettingName){\r\n      mediaQuery = screen.mediaQuery;\r\n    }\r\n  });\r\n  return mediaQuery;\r\n}\r\n/**\r\n * Получает медиа запрос для css по имени настройки\r\n * @param {string} screenSettingName\r\n * @return {string}\r\n */\r\nexport function getMediaSettingsByName(screenSettingName) {\r\n  let screen = CONSTANTS.SCREENS[0];\r\n  CONSTANTS.SCREENS.forEach(_screen=>{\r\n    if(_screen.name === screenSettingName){\r\n      screen = _screen;\r\n    }\r\n  });\r\n  return screen;\r\n}\r\n\r\n/**\r\n *@param {string} URLTemplate\r\n *@param {{}} object\r\n */\r\nexport function parseURLTemplate(URLTemplate = '', object = {}){\r\n  let url = URLTemplate;\r\n  // columnEditUrl = columnEditUrl.replace(':id', row.original.id);\r\n  let idTemplates = url.match(/:([\\s\\S]+?)(\\/|$)/g);\r\n  if(! idTemplates){\r\n    return url;\r\n  }\r\n  idTemplates.forEach(idTemplate=>{\r\n    let replace = object[idTemplate.replace(/:|\\//g, '')] || '';\r\n    idTemplate = idTemplate.replace('/', '');\r\n    url = url.replace(new RegExp(idTemplate,'g'), replace);\r\n  });\r\n  return url;\r\n}\r\n\r\nexport function getWindowWidth() {\r\n  let window;\r\n  if(isEditor()) {\r\n    window = document.getElementById(\"editorWindow\").offsetWidth;\r\n  } else {\r\n    window = document.getElementById(\"front-app\").offsetWidth\r\n  }\r\n  return window\r\n}\r\n\r\nexport function renderAssetIcon(asset, props = null) {\r\n  if(asset) {\r\n    switch (asset.assetType) {\r\n      case 'icon': {\r\n        return iconsManager().renderIcon(asset.name)\r\n      }\r\n      case 'image': {\r\n        return React.createElement('img', {...props, src: asset.url})\r\n      }\r\n      case 'media': {\r\n        return React.createElement('img', {...props, src: asset.url})\r\n      }\r\n    }\r\n  }\r\n  return '';\r\n}\r\n\r\n/**\r\n * @param {object} asset\r\n * @param {object} props\r\n * @return {React.DetailedReactHTMLElement<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement> | React.DetailedReactHTMLElement<React.HTMLAttributes<T>, HTMLElement> | React.ReactSVGElement | React.DOMElement<React.DOMAttributes<T>, Element> | React.FunctionComponentElement<{}> | React.CElement<{}, React.ClassicComponent<{}, React.ComponentState>> | React.CElement<{}, React.Component<P, React.ComponentState>> | React.ReactElement<{}> | string}\r\n * @throws Исключение если иконка не найдена\r\n * */\r\nexport function renderAsset(asset, props = null) {\r\n  switch (asset.assetType) {\r\n    case 'icon': {\r\n      return iconsManager().renderIcon(asset.name)\r\n    }\r\n    case 'image': {\r\n      return React.createElement('img', {...props, src: asset.url})\r\n    }\r\n    case 'media': {\r\n      return React.createElement('img', {...props, src: asset.url})\r\n    }\r\n    case 'mediaBackground': {\r\n      return React.createElement('div', {...props, style:{backgroundImage: `url(${asset.url})`}})\r\n    }\r\n    case undefined: {\r\n      return React.createElement('img', {...props, src: '/img/nullImage.png'})\r\n    }\r\n  }\r\n  return '';\r\n}\r\n\r\n/**\r\n * Парсим данный из строки в объект, если значение - путь, то берем значение из context\r\n * (если в context нет свойства, то не записываем)\r\n * @param {string} string\r\n * @param {AltrpModel} context\r\n */\r\nexport function parseParamsFromString(string, context = {}){\r\n  const params = {};\r\n  const urlParams = window.currentRouterMatch instanceof AltrpModel ? window.currentRouterMatch.getProperty('params') : {};\r\n\r\n  if(! string){\r\n    return params;\r\n  }\r\n  const lines = string.split('\\n');\r\n  lines.forEach((line)=>{\r\n    let [left, right] = line.split('|');\r\n    if(! left || ! right){\r\n      return;\r\n    }\r\n    left = left.trim();\r\n    right = right.trim();\r\n    if(right.match(/(?<={{)([\\s\\S]+?)(?=}})/g)){\r\n      if(context.getProperty(right.match(/(?<={{)([\\s\\S]+?)(?=}})/g)[0])){\r\n        params[left] = context.getProperty(right.match(/(?<={{)([\\s\\S]+?)(?=}})/g)[0]) || '';\r\n      } else {\r\n        params[left] = urlParams[right] ? urlParams[right] : '';\r\n      }\r\n    } else {\r\n      params[left] = right;\r\n    }\r\n    if(_.isObject(params[left])){\r\n      delete params[left];\r\n    }\r\n  });\r\n  return params;\r\n}\r\n\r\n/**\r\n * Функция для проверки условий\r\n * @param {[]} conditions\r\n * @param {boolean} AND - логичекое И или ИЛИ\r\n * @param {AltrpModel} model\r\n * @return {boolean}\r\n */\r\nexport function conditionsChecker(conditions = [], AND = true, model){\r\n  if(! conditions.length){\r\n    return true;\r\n  }\r\n  let result = AND;\r\n  _.each(conditions, c =>{\r\n    if(AND){\r\n      result *= _conditionChecker(c, model);\r\n    } else {\r\n      result += _conditionChecker(c, model);\r\n    }\r\n  });\r\n  return result;\r\n}\r\n\r\n/**\r\n * Функция для проверки одного условия\r\n * @param c\r\n * @param {AltrpModel} model\r\n * @return {boolean}\r\n */\r\nfunction _conditionChecker(c, model){\r\n  let result = 0;\r\n  const {\r\n     modelField,\r\n     operator,\r\n     value,\r\n  } = c;\r\n  switch(operator){\r\n    case 'empty':{\r\n      return ! model.getProperty(modelField, '');\r\n    }\r\n    case 'not_empty':{\r\n      return ! ! model.getProperty(modelField, '');\r\n    }\r\n    case '==':{\r\n      return _.isEqual(model.getProperty(modelField, ''), value );\r\n    }\r\n    case '<>':{\r\n      return ! _.isEqual(model.getProperty(modelField, ''), value );\r\n    }\r\n    case '>':{\r\n      return Number(model.getProperty(modelField, '')) > Number(value);\r\n    }\r\n    case '>=':{\r\n      return Number(model.getProperty(modelField, '')) >= Number(value);\r\n    }\r\n    case '<':{\r\n      return Number(model.getProperty(modelField, '')) < Number(value);\r\n    }\r\n    case '<=':{\r\n      return Number(model.getProperty(modelField, '')) <= Number(value);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * Получить данные\r\n * @param path\r\n * @return {string}\r\n */\r\nexport function getDataByPath(path){\r\n  const {currentModel, currentDataStorage} = appStore.getState();\r\n  const urlParams = window.currentRouterMatch instanceof AltrpModel ? window.currentRouterMatch.getProperty('params') : {};\r\n  let value = '';\r\n  if(! _.isString(path)){\r\n    return value;\r\n  }\r\n  if(path.indexOf('altrpdata.') === 0){\r\n    path = path.replace('altrpdata.', '');\r\n    value = currentDataStorage.getProperty(path)\r\n  } else {\r\n    value = urlParams[path] ? urlParams[path] : currentModel.getProperty(path);\r\n  }\r\n  return value;\r\n}"],"sourceRoot":""}