(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{116:function(e,t,a){var n=a(434);(e.exports=a(39)(!1)).push([e.i,".pagination{display:flex;align-items:center;padding:20px 0}.pagination__version{font-family:Roboto;font-style:italic;font-weight:normal;font-size:13px;line-height:15px;color:#8E94AA;margin-right:437px}.pagination__link{text-decoration:none;font-weight:400;font-family:Roboto;font-style:italic;font-size:13px;line-height:15px;color:#673daa}.pagination__text{margin:0 9px;font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343B4C}.pagination__move{width:30px;height:30px;padding:0;display:flex;justify-content:center;align-items:center;border:1px solid #8E94AA;box-sizing:border-box;cursor:pointer;border-radius:2px}.pagination__buttons{display:flex;align-items:center}.pagination__indicator{display:flex;justify-content:center;align-items:center;width:43px;height:30px;background:#FFFFFF;border:1px solid #343B4C;box-sizing:border-box;box-shadow:0px 0px 0px #007CBA;border-radius:2px}.pagination__prev{background-image:url("+n(a(167))+");background-size:7.5px 4px;margin:0 7px}.pagination__map{margin:0 9px;font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343B4C}.pagination__next{margin-right:7.5px}.pagination__disabled{opacity:.5;cursor:auto}.right__arrow{transform:rotate(-180deg)}\n",""])},117:function(e,t,a){(t=e.exports=a(39)(!1)).i(a(129),""),t.push([e.i,'html{height:100%}body,*,*:focus,*::before,*::after{box-sizing:border-box;outline:none}body{font-family:Roboto, sans-serif;margin:0;overflow-x:hidden;color:#242424;display:flex;flex-direction:column;height:100%}a,button,svg,path{-webkit-transition-duration:0.2s;-moz-transition-duration:0.2s;-ms-transition-duration:0.2s;-o-transition-duration:0.2s;transition-duration:0.2s;font-family:Roboto, sans-serif}.btn:active,.btn:focus,a:active,a:focus,button:active,button:focus{outline:none;box-shadow:none}button{cursor:pointer}.btn_grey{background-color:#8E94AA}.btn_disabled{background-color:#8E94AA;cursor:default;font-weight:bold;color:#fff;pointer-events:none}.btn,button{padding:10px 15px;border:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}iframe{display:block;border:none}input[type="checkbox"]{cursor:pointer}.no-transition{-webkit-transition-duration:0s !important;-moz-transition-duration:0s !important;-ms-transition-duration:0s !important;-o-transition-duration:0s !important;transition-duration:0s !important}.caption{margin-bottom:15px;font-weight:600;font-size:18px}.btn_bare{border:none;background-color:transparent}.btn_success{background-color:#87CA00;color:#fff;font-weight:bold}.btn_failure{background-color:#FF4E6E;color:#fff;font-weight:bold}.text_bold{font-weight:bold}.altrp-disabled{pointer-events:none}.pointer-event-none{pointer-events:none}.altrp-inherit{font-family:inherit;font-size:inherit;font-style:inherit;line-height:inherit;color:inherit;text-decoration:inherit;text-transform:inherit}.altrp-scroll__vertical-track{bottom:2px;top:2px;right:2px;z-index:1000;border-radius:3px}.clickable{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cursor-pointer{cursor:pointer}.rotate-180{transform:rotatex(180deg)}.altrp-label{display:block}.assets-browser{display:none}.assets-browser_active{position:fixed;display:flex;top:0;bottom:0;right:0;left:0;z-index:1000}.assets-browser__bg{position:absolute;top:0;left:0;bottom:0;right:0;background-color:rgba(52,59,76,0.2);z-index:50}.assets-browser-content{position:absolute;top:5%;bottom:5%;left:5%;right:5%;padding-bottom:60px;z-index:100;border:1px solid #D5D7DE;border-radius:3px;background-color:#fff}.assets-browser__close.btn{position:absolute;top:0;right:0;padding:10px;-webkit-transform:scale(2);-moz-transform:scale(2);-ms-transform:scale(2);-o-transform:scale(2);transform:scale(2);background-color:transparent}.assets-browser__close.btn .icon{margin:0;width:auto;height:auto}.assets-browser-top{padding:20px 20px 0;background-color:#F7F8F9}.assets-browser-top .caption{font-size:22px}.assets-browser-nav{margin-left:-20px;margin-right:-20px;padding-left:5px;padding-right:5px;border-bottom:1px solid #D5D7DE}.assets-browser__tab{margin-bottom:-1px;background-color:transparent;border-top:1px solid transparent;border-left:1px solid transparent;border-right:1px solid transparent}.assets-browser__tab_active{border-top:1px solid #D5D7DE;border-left:1px solid #D5D7DE;border-right:1px solid #D5D7DE;background-color:#fff}.assets-browser-bottom{position:absolute;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:flex-end;height:60px;padding-right:20px;border-top:1px solid #D5D7DE}.assets-browser-choose-frame{display:flex;align-content:flex-start;align-items:flex-start;flex-wrap:wrap;padding:20px 20px 20px 10px;height:calc( 100% - 96.5px);overflow:auto}.asset-choose{position:relative;cursor:pointer;margin-bottom:10px;margin-left:10px;border:1px solid #D5D7DE}.asset-choose__content{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}.asset-choose_selected{box-shadow:inset 0 0 0 3px #fff,inset 0 0 0 7px #71d7f7}.asset-choose_icon{width:calc(5% - 10px);padding-top:calc(5% - 10px)}.asset-choose_media{width:calc(10% - 10px);padding-top:calc(10% - 10px)}.asset-choose_media .asset-choose__content{top:10px;left:10px;width:calc(100% - 20px);height:calc(100% - 20px);transform:none;object-fit:contain;object-position:center;background-color:#F7F8F9}\n',""])},124:function(e,t,a){"use strict";var n=a(36),r=a(133),l={routes:[]};var i=a(330);var o={};var s=a(328),c=a(331),u=Object(n.combineReducers)({appRoutes:function(e,t){switch(e=e||l,t.type){case r.a:e={routes:t.routes}}return e},currentModel:i.a,formsStore:function(e,t){var a=t.type,n=t.formId,r=t.fieldName,l=t.value;switch(e=e||o,a){case"CHANGE_FORM_FIELD_VALUE":_.get(e,[n,r])!==l&&(e=_.cloneDeep(e),_.set(e,[n,r],l));break;case"CHANGE_FORM_FIELD_VALUE":n?(e=_.cloneDeep(e),_.set(e,[n],{})):e={}}return e},currentUser:s.a,currentDataStorage:c.a}),m=Object(n.createStore)(u);t.a=m},133:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n="CHANGE_APP_ROUTES";function r(e){return{type:n,routes:e}}},167:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),l=a(8),i=a.n(l),o=a(1),s=a.n(o);t.default=function(e){e.styles;var t=i()(e,["styles"]);return s.a.createElement("svg",r()({width:"7",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("path",{d:"M6 1.5L2 5l4 4",stroke:"#8E94AA",strokeWidth:"1.5"}))}},20:function(e,t,a){"use strict";var n=a(18),r=a.n(n),l=a(19),i=a.n(l),o=a(10),s=a.n(o),c=a(11),u=a.n(c),m=a(353),d=a.n(m),p=function(){function e(t){if(s()(this,e),this.route=t.route,!this.route)throw"Нужен route"}var t;return u()(e,[{key:"get",value:function(e){if(!e)throw'Get only by "id"';var t,a=this.route;return t="/"===a[a.length-1]?a+e:a+"/"+e,fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"getAll",value:function(){var e=this.route;return fetch(e,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"search",value:function(e){var t;return t=-1===this.route.indexOf("?")?this.route+"?s=".concat(e):this.route+"&s=".concat(e),fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"post",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;t=t||{"X-CSRF-TOKEN":_token,"Content-Type":"application/json",Accept:"application/json"};var a={method:"POST",body:JSON.stringify(e),headers:t};return fetch(this.route,a).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"postFiles",value:function(e,t){String(Math.random()).slice(2);t=t||"image";for(var a={"X-CSRF-TOKEN":_token},n=new FormData,r=0;r<e.length;r++)e[r].size>10485760||0!==e[r].type.indexOf(t)?console.log(e[r]):n.append("files[".concat(r,"]"),e[r]);var l={method:"POST",body:n,headers:a};return fetch(this.route,l).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"put",value:function(e,t){var a={method:"put",body:JSON.stringify(t),headers:{"X-CSRF-TOKEN":_token,"Content-Type":"application/json"}},n=this.route+(e?"/"+e:"");return fetch(n,a).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={method:"delete",headers:{"X-CSRF-TOKEN":_token,"Content-Type":"application/json"}},a=this.route+(e?"/"+e:"");return fetch(a,t).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"getOptions",value:function(){var e=this.route+"/options";return fetch(e,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"getQueried",value:(t=i()(r.a.mark((function e(t){var a,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"get",headers:{"Content-Type":"application/json"}},n="".concat(this.route,"?").concat(d.a.stringify(t)),e.next=4,fetch(n,a).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}));case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();t.a=p},31:function(e,t,a){"use strict";var n=a(36),r=a(15),l=a.n(r),i=a(33);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={fields:[],active:!1,title:"Modal",submitButton:"Submit",submit:function(e){console.log(e)},success:function(e){console.log(e)}};var u=a(50);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={adminEnable:!0};var f=a(67);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var b=window.admin_logo?window.admin_logo:{};var g=a(68),v=a(69),E={AceEditor:null};var y=Object(n.combineReducers)({modalSettings:function(e,t){switch(e=e||c,t.type){case i.a:e={fields:t.fields,title:t.title||c.title,submit:t.submit||c.submit,submitButton:t.submitButton||c.submitButton,success:t.success||c.success,active:t.active};break;case i.b:e=s(s({},c),{},{active:!e.active})}return e},adminState:function(e,t){switch(e=e||p,t.type){case u.a:e=d(d({},e),{},{adminEnable:!1});break;case u.b:e=d(d({},e),{},{adminEnable:!0})}return e},adminLogo:function(e,t){switch(e=e||b,t.type){case f.a:e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.logoData)}return e},assetsManagerSettings:g.a,aceEditorReducer:function(e,t){switch(e=e||E,t.type){case v.a:e={AceEditor:t.AceEditor}}return e}}),_=Object(n.createStore)(y);t.a=_},328:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(10),r=a.n(n),l=a(11),i=a.n(l),o=a(12),s=a.n(o),c=a(13),u=a.n(c),m=a(14),d=a.n(m);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var f=function(e){s()(a,e);var t=p(a);function a(){return r()(this,a),t.apply(this,arguments)}return i()(a,[{key:"isGuest",value:function(){return this.getProperty("is_guest",!1)}},{key:"isAuth",value:function(){return this.getProperty("created_at",!1)}},{key:"hasPermissions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_.isArray(e)||(e=[e]);var t=this.getProperty("permissions",[]);return _.find(t,(function(t){return _.find(e,(function(e){return parseInt(e)?parseInt(e)===parseInt(t.id):_.isString(e)?e===t.name:void 0}))}))}},{key:"hasRoles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_.isArray(e)||(e=[e]);var t=this.getProperty("roles",[]);return _.find(t,(function(t){return _.find(e,(function(e){return parseInt(e)?parseInt(e)===parseInt(t.id):_.isString(e)?e===t.name:void 0}))}))}},{key:"checkUserAllowed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!this.isAuth()&&(t=_.isArray(t)?t:[],!(e=_.isArray(e)?e:[]).length&&!t.length||(!!this.hasPermissions(e)||!!this.hasRoles(t)))}}]),a}(a(53).a),h={};function b(e,t){switch(e=e||h,t.type){case"CHANGE_CURRENT_USER":e=t.user}return e instanceof f?e:new f(e)}},33:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return u}));var n=a(15),r=a.n(n);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o="SET_MODAL_SETTINGS",s="TOGGLE_MODAL";function c(e){return i(i({},e),{},{type:o})}function u(){return{type:s}}},330:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(53),r={};function l(e,t){switch(e=e||r,t.type){case"CHANGE_CURRENT_MODEL":e=t.model}return e instanceof n.a?e:new n.a(e)}},331:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(53),r={};function l(e,t){switch(e=e||new n.a(r),t.type){case"CHANGE_CURRENT_DATASOURCE":var a=t.data;e.setProperty(t.dataStorageName,a),e=_.cloneDeep(e);break;case"CLEAR_CURRENT_DATASOURCE":e={}}return e instanceof n.a?e:new n.a(e)}},344:function(e,t,a){var n=a(90);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},l=a(52)(n,r);n.locals&&(e.exports=n.locals),e.hot.accept(90,(function(){var t=a(90);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,n=0;for(a in e){if(!t||e[a]!==t[a])return!1;n++}for(a in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(t)})),e.hot.dispose((function(){l()}))},433:function(e,t,a){var n=a(116);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},l=a(52)(n,r);n.locals&&(e.exports=n.locals),e.hot.accept(116,(function(){var t=a(116);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,n=0;for(a in e){if(!t||e[a]!==t[a])return!1;n++}for(a in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(t)})),e.hot.dispose((function(){l()}))},436:function(e,t,a){var n=a(117);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},l=a(52)(n,r);n.locals&&(e.exports=n.locals),e.hot.accept(117,(function(){var t=a(117);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,n=0;for(a in e){if(!t||e[a]!==t[a])return!1;n++}for(a in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(t)})),e.hot.dispose((function(){l()}))},437:function(e,t,a){var n={"./af":168,"./af.js":168,"./ar":169,"./ar-dz":170,"./ar-dz.js":170,"./ar-kw":171,"./ar-kw.js":171,"./ar-ly":172,"./ar-ly.js":172,"./ar-ma":173,"./ar-ma.js":173,"./ar-sa":174,"./ar-sa.js":174,"./ar-tn":175,"./ar-tn.js":175,"./ar.js":169,"./az":176,"./az.js":176,"./be":177,"./be.js":177,"./bg":178,"./bg.js":178,"./bm":179,"./bm.js":179,"./bn":180,"./bn.js":180,"./bo":181,"./bo.js":181,"./br":182,"./br.js":182,"./bs":183,"./bs.js":183,"./ca":184,"./ca.js":184,"./cs":185,"./cs.js":185,"./cv":186,"./cv.js":186,"./cy":187,"./cy.js":187,"./da":188,"./da.js":188,"./de":189,"./de-at":190,"./de-at.js":190,"./de-ch":191,"./de-ch.js":191,"./de.js":189,"./dv":192,"./dv.js":192,"./el":193,"./el.js":193,"./en-au":194,"./en-au.js":194,"./en-ca":195,"./en-ca.js":195,"./en-gb":196,"./en-gb.js":196,"./en-ie":197,"./en-ie.js":197,"./en-il":198,"./en-il.js":198,"./en-in":199,"./en-in.js":199,"./en-nz":200,"./en-nz.js":200,"./en-sg":201,"./en-sg.js":201,"./eo":202,"./eo.js":202,"./es":203,"./es-do":204,"./es-do.js":204,"./es-us":205,"./es-us.js":205,"./es.js":203,"./et":206,"./et.js":206,"./eu":207,"./eu.js":207,"./fa":208,"./fa.js":208,"./fi":209,"./fi.js":209,"./fil":210,"./fil.js":210,"./fo":211,"./fo.js":211,"./fr":212,"./fr-ca":213,"./fr-ca.js":213,"./fr-ch":214,"./fr-ch.js":214,"./fr.js":212,"./fy":215,"./fy.js":215,"./ga":216,"./ga.js":216,"./gd":217,"./gd.js":217,"./gl":218,"./gl.js":218,"./gom-deva":219,"./gom-deva.js":219,"./gom-latn":220,"./gom-latn.js":220,"./gu":221,"./gu.js":221,"./he":222,"./he.js":222,"./hi":223,"./hi.js":223,"./hr":224,"./hr.js":224,"./hu":225,"./hu.js":225,"./hy-am":226,"./hy-am.js":226,"./id":227,"./id.js":227,"./is":228,"./is.js":228,"./it":229,"./it-ch":230,"./it-ch.js":230,"./it.js":229,"./ja":231,"./ja.js":231,"./jv":232,"./jv.js":232,"./ka":233,"./ka.js":233,"./kk":234,"./kk.js":234,"./km":235,"./km.js":235,"./kn":236,"./kn.js":236,"./ko":237,"./ko.js":237,"./ku":238,"./ku.js":238,"./ky":239,"./ky.js":239,"./lb":240,"./lb.js":240,"./lo":241,"./lo.js":241,"./lt":242,"./lt.js":242,"./lv":243,"./lv.js":243,"./me":244,"./me.js":244,"./mi":245,"./mi.js":245,"./mk":246,"./mk.js":246,"./ml":247,"./ml.js":247,"./mn":248,"./mn.js":248,"./mr":249,"./mr.js":249,"./ms":250,"./ms-my":251,"./ms-my.js":251,"./ms.js":250,"./mt":252,"./mt.js":252,"./my":253,"./my.js":253,"./nb":254,"./nb.js":254,"./ne":255,"./ne.js":255,"./nl":256,"./nl-be":257,"./nl-be.js":257,"./nl.js":256,"./nn":258,"./nn.js":258,"./oc-lnc":259,"./oc-lnc.js":259,"./pa-in":260,"./pa-in.js":260,"./pl":261,"./pl.js":261,"./pt":262,"./pt-br":263,"./pt-br.js":263,"./pt.js":262,"./ro":264,"./ro.js":264,"./ru":265,"./ru.js":265,"./sd":266,"./sd.js":266,"./se":267,"./se.js":267,"./si":268,"./si.js":268,"./sk":269,"./sk.js":269,"./sl":270,"./sl.js":270,"./sq":271,"./sq.js":271,"./sr":272,"./sr-cyrl":273,"./sr-cyrl.js":273,"./sr.js":272,"./ss":274,"./ss.js":274,"./sv":275,"./sv.js":275,"./sw":276,"./sw.js":276,"./ta":277,"./ta.js":277,"./te":278,"./te.js":278,"./tet":279,"./tet.js":279,"./tg":280,"./tg.js":280,"./th":281,"./th.js":281,"./tk":282,"./tk.js":282,"./tl-ph":283,"./tl-ph.js":283,"./tlh":284,"./tlh.js":284,"./tr":285,"./tr.js":285,"./tzl":286,"./tzl.js":286,"./tzm":287,"./tzm-latn":288,"./tzm-latn.js":288,"./tzm.js":287,"./ug-cn":289,"./ug-cn.js":289,"./uk":290,"./uk.js":290,"./ur":291,"./ur.js":291,"./uz":292,"./uz-latn":293,"./uz-latn.js":293,"./uz.js":292,"./vi":294,"./vi.js":294,"./x-pseudo":295,"./x-pseudo.js":295,"./yo":296,"./yo.js":296,"./zh-cn":297,"./zh-cn.js":297,"./zh-hk":298,"./zh-hk.js":298,"./zh-mo":299,"./zh-mo.js":299,"./zh-tw":300,"./zh-tw.js":300};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=437},5:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a.n(n),l=a(10),i=a.n(l),o=a(11),s=a.n(o),c=a(24),u=a.n(c),m=a(12),d=a.n(m),p=a(13),f=a.n(p),h=a(14),b=a.n(h),g=a(1),v=a.n(g),E=(a(344),a(43)),y=a(7),w=a.n(y),x=a(8),k=a.n(x),N=function(e){e.styles;var t=k()(e,["styles"]);return v.a.createElement("svg",w()({width:"100",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),v.a.createElement("path",{d:"M50.004 7.797l-2.407 5.525c0 1.333.306 2.36.927 3.065.204.238.519.46.952.667l-.697 1.962a3.67 3.67 0 01-1.616-1.089 6.62 6.62 0 01-.808-1.187c-.544.82-1.156 1.387-1.854 1.686-.527.237-1.173.352-1.947.352-1.557 0-2.858-.498-3.887-1.502C37.553 16.211 37 14.77 37 12.946c0-.636.042-1.21.128-1.708.085-.498.238-.973.45-1.418.451-.904 1.055-1.594 1.829-2.069.774-.475 1.667-.713 2.687-.713.944 0 1.76.17 2.45.499.97.46 1.684 1.21 2.126 2.252l1.42-2.804 1.914.812zM45.403 13.3a1 1 0 00.025-.268v-.169a.317.317 0 00-.025-.122c0-.973-.306-1.84-.91-2.598-.613-.759-1.285-1.134-2.025-1.134-.875 0-1.59.337-2.126 1.019-.587.736-.876 1.763-.876 3.088 0 1.21.298 2.138.902 2.774.536.567 1.216.858 2.032.858.57 0 1.038-.153 1.387-.46.578-.52 1.122-1.509 1.616-2.988zM61.97 18.617h-2.517l-2.62-6.445-.62-1.77-.647 1.816-2.543 6.399h-2.688l4.627-11.05a39.743 39.743 0 01-.485-1.165 3.354 3.354 0 00-.255-.52c-.323-.46-.842-.69-1.548-.69-.246 0-.723.069-1.437.206l.28-2.13c.358-.1.647-.168.868-.207.221-.038.442-.061.663-.061 1.327 0 2.365.62 3.105 1.854.28.43.663 1.257 1.156 2.483l4.66 11.28zM72.363 9.238h-3.59v6.107c0 .444.018.728.043.858.034.123.12.238.28.338.154.068.358.107.605.107.187 0 .544-.039 1.088-.107l.374 2.022c-.28.054-.663.108-1.156.146a16.56 16.56 0 01-1.02.061c-.775 0-1.378-.107-1.82-.322a1.994 1.994 0 01-.962-.95c-.093-.207-.161-.482-.204-.835-.042-.345-.068-.82-.068-1.418V9.238l-1.667-.023c-.357 0-.689.145-.995.437-.093.1-.212.252-.374.46l-1.616-1.48c.306-.375.57-.65.79-.835.681-.56 1.413-.835 2.204-.835l8.096.023v2.253h-.008zM84.26 9.674c.417.904.622 1.947.622 3.127 0 1.226-.222 2.283-.672 3.172a5.093 5.093 0 01-1.965 2.107 5.39 5.39 0 01-2.798.774c-.604 0-1.08-.053-1.437-.168-.494-.154-.995-.453-1.506-.897V23h-2.798l.026-10.696c0-2.154.808-3.702 2.432-4.629 1.004-.567 2.144-.858 3.428-.858 1.063 0 1.998.245 2.815.743.8.49 1.42 1.196 1.854 2.115zm-2.797-.046c-.579-.636-1.267-.958-2.084-.958-.8 0-1.514.337-2.126 1.02-.29.337-.519.804-.68 1.41a7.628 7.628 0 00-.247 1.969c0 1.333.289 2.314.876 2.942.587.629 1.284.935 2.084.935.833 0 1.547-.322 2.151-.958.29-.337.519-.781.68-1.356a6.845 6.845 0 00.247-1.877c0-.682-.076-1.288-.22-1.817a3.324 3.324 0 00-.681-1.31zM99.306 9.192l-1.387-.023-.025 9.448h-2.62v-9.44h-4.303v9.448h-2.568V9.199c-.154 0-.34.054-.57.154a3.502 3.502 0 00-.774.551l-1.71-1.54c.63-.56 1.191-.92 1.667-1.096.477-.176 1.02-.26 1.616-.26h10.674v2.184z",fill:"#fff"}),v.a.createElement("circle",{cx:"12",cy:"12",r:"12",fill:"#D9FF8D"}),v.a.createElement("path",{d:"M17.603 7.85l-1.926 4.42c0 1.067.245 1.888.742 2.452.163.19.415.368.762.533l-.558 1.57a2.936 2.936 0 01-1.293-.87 5.287 5.287 0 01-.646-.951c-.435.656-.925 1.11-1.483 1.349-.422.19-.939.282-1.558.282-1.245 0-2.286-.399-3.11-1.202-.89-.852-1.333-2.005-1.333-3.463 0-.51.034-.969.102-1.368.068-.398.19-.778.36-1.134.361-.723.844-1.275 1.463-1.655.62-.38 1.334-.57 2.15-.57.756 0 1.409.135 1.96.399.776.367 1.347.968 1.7 1.802L16.073 7.2l1.53.65zm-3.68 4.402a.8.8 0 00.02-.215v-.135a.254.254 0 00-.02-.098c0-.779-.246-1.471-.729-2.078-.49-.607-1.027-.907-1.62-.907-.7 0-1.271.27-1.7.815-.47.588-.701 1.41-.701 2.47 0 .969.238 1.71.721 2.22.429.453.973.686 1.626.686.456 0 .83-.122 1.11-.368.462-.416.897-1.207 1.292-2.39z",fill:"#343B4C"}))},O=a(94);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var C=function(e){d()(a,e);var t=j(a);function a(e){return i()(this,a),t.call(this,e)}return s()(a,[{key:"render",value:function(){return v.a.createElement("a",{href:"/",target:"_blank",className:"admin__logo"},this.props.adminLogo.assetType?Object(O.a)(this.props.adminLogo):v.a.createElement(N,null))}}]),a}(g.Component);var S=Object(E.b)((function(e){return{adminLogo:e.adminLogo}}))(C),D=function(e){e.styles;var t=k()(e,["styles"]);return v.a.createElement("svg",w()({width:"19",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),v.a.createElement("path",{fill:"#fff",d:"M0 0h19v2H0zM0 6h19v2H0V6zM0 12h19v2H0z"}))},R=a(18),P=a.n(R),A=a(19),M=a.n(A),T=a(17),F=a(20);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var z=function(e){d()(a,e);var t=H(a);function a(){var e;i()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).filterByKeyboard=function(t){_.isFunction(e.props.filterByKeyboard)&&e.props.filterByKeyboard(t.target.value)},e}return s()(a,[{key:"render",value:function(){var e=this,t=this.props.search;return v.a.createElement("div",{className:"admin-table"},t&&v.a.createElement("div",{className:"admin-table"},v.a.createElement("input",{value:t.value,onChange:t.changeHandler,type:"text",className:"form-group"})),v.a.createElement("table",null,v.a.createElement("thead",{className:"admin-table-head"},v.a.createElement("tr",{className:"admin-table-row"},v.a.createElement("td",{className:"admin-table__td admin-table__td_check"},v.a.createElement("input",{type:"checkbox"})),this.props.columns.map((function(e){return v.a.createElement("td",{className:"admin-table__td ",key:e.name,title:e.name},e.title)})))),v.a.createElement("tbody",{className:"admin-table-body"},this.props.rows.map((function(t){return v.a.createElement("tr",{className:"admin-table-row",key:t.id,title:t.id},v.a.createElement("td",{className:"admin-table__td admin-table__td_check",key:"choose"+t.id,title:"choose"+t.id},v.a.createElement("input",{type:"checkbox"})),e.props.columns.map((function(a,n){var r="span",l={className:"td__content",children:_.get(t,a.name,"")};return a.url&&t.url&&(r="a",l.href=t.url,a.target&&(l.target=a.target)),a.editUrl&&t.editUrl&&(r="Link"===a.tag?T.b:"a",l.href=t.editUrl,"Link"===a.tag&&(l.to={pathname:t.editUrl,data:t}),a.target&&(l.target=a.target)),a.is_button&&(r="button",l.title=a.button.title,l.children=a.button.title,l.onClick=function(){a.button.function(t)}),a.is_boolean&&(l.children=[_.get(t,a.name,!1).toString()]),v.a.createElement("td",{className:"admin-table__td td",key:a.name+t.id,title:a.name+t.id},v.a.createElement(r,l),0===n&&v.a.createElement("span",{className:"quick-action-menu"},e.props.quickActions&&e.props.quickActions.map((function(e,a){var n="";switch(e.tag){case"a":var r=e.props.href.replace(":id",t.id);n=v.a.createElement("a",w()({className:"quick-action-menu__item "+(e.className||"")},e.props||{},{href:r}),e.title);break;case"Link":var l=e.props.href.replace(":id",t.id);n=v.a.createElement(T.b,w()({className:"quick-action-menu__item "+(e.className||"")},e.props||{},{to:l}),e.title);break;case"button":var i=e.route.replace(":id",t.id);n=v.a.createElement("button",w()({className:"quick-action-menu__item "+(e.className||"")},e.props||{},{onClick:M()(P.a.mark((function a(){var n,r;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.confirm){a.next=5;break}return a.next=3,confirm(e.confirm);case 3:if(a.sent){a.next=5;break}return a.abrupt("return");case 5:if(n=new F.a({route:i}),!_.isFunction(n[e.method])){a.next=19;break}a.t0=e.method,a.next="get"===a.t0?10:14;break;case 10:return a.next=12,n[e.method](t.id);case 12:return r=a.sent,a.abrupt("break",18);case 14:return a.next=16,n[e.method]();case 16:return r=a.sent,a.abrupt("break",18);case 18:_.isFunction(e.after)&&e.after(r);case 19:case"end":return a.stop()}}),a)})))}),e.title)}return e.callBack&&(n=v.a.createElement("button",{className:"quick-action-menu__item "+(e.className||""),onClick:function(){return e.callBack(t)}},e.title)),v.a.createElement("span",{className:"quick-action-menu__item_wrapper",key:a+t.id},n)}))))})))})))))}}]),a}(g.Component);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var I=function(e){d()(a,e);var t=V(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).getPages=M()(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.resource.getAll();case 2:t=e.sent,n.setState((function(e){return L(L({},e),{},{pages:t})}));case 4:case"end":return e.stop()}}),e)}))),n.state={pages:[]},n.resource=new F.a({route:"/admin/ajax/pages"}),n}return s()(a,[{key:"componentDidMount",value:function(){this.getPages()}},{key:"render",value:function(){return v.a.createElement("div",{className:"admin-pages admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement("a",{className:"admin-breadcrumbs__link",href:"#"},"Pages"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"All Pages")),v.a.createElement(T.b,{className:"btn",to:"/admin/pages/add"},"Add New"),v.a.createElement("div",{className:"admin-filters"},v.a.createElement("span",{className:"admin-filters__current"},"All (",this.state.pages.length||"0",")"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement(z,{columns:[{name:"title",title:"Title",editUrl:!0,tag:"Link"},{name:"author",title:"Author"},{name:"path",title:"Path",url:!0,target:"_blank"}],quickActions:[{tag:"button",route:"/admin/ajax/pages/:id",method:"delete",confirm:"Are You Sure?",after:this.getPages,className:"quick-action-menu__item_danger",title:"Trash"}],rows:this.state.pages})))}}]),a}(g.Component),U=a(37),B=(a(72),a(50)),G=a(31),K=a(128),Y=a.n(K),Q=a(3),J=a(89);function $(e){e=e||"/",window.location.assign(e)}function W(){return window.iconsManager||(window.iconsManager=new Q.default),window.iconsManager}function X(){return Z.apply(this,arguments)}function Z(){return(Z=M()(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new F.a({route:"/logout"}).post();case 2:$(e.sent.location);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee={"Ё":"Yo","Й":"I","Ц":"Ts","У":"U","К":"K","Е":"E","Н":"N","Г":"G","Ш":"Sh","Щ":"Sch","З":"Z","Х":"H","Ъ":"","ё":"yo","й":"i","ц":"ts","у":"u","к":"k","е":"e","н":"n","г":"g","ш":"sh","щ":"sch","з":"z","х":"h","ъ":"","Ф":"F","Ы":"I","В":"V","А":"a","П":"P","Р":"R","О":"O","Л":"L","Д":"D","Ж":"ZH","Э":"E","ф":"f","ы":"i","в":"v","а":"a","п":"p","р":"r","о":"o","л":"l","д":"d","ж":"zh","э":"e","Я":"Ya","Ч":"CH","С":"S","М":"M","И":"I","Т":"T","Ь":"","Б":"B","Ю":"YU","я":"ya","ч":"ch","с":"s","м":"m","и":"i","т":"t","ь":"","б":"b","ю":"yu"};function te(e){return(e=function(e){return e.split("").map((function(e){return _.isUndefined(ee[e])?e:ee[e]})).join("")}(e)).toLowerCase().replace(/^\d+/,"").replace(/[^\d\w]/g,"_")}function ae(e){if("object"!==Y()(e)||null===e)return e;if(e.id&&delete e.id,Array.isArray(e))for(var t=0;t<e.length;t++){ae(e[t])}else for(var a in e.hasOwnProperty("settings")&&function e(t){var a=[];for(var n in t)null!==t[n]&&""!==t[n]||a.push(n),a.forEach((function(e){return delete t[e]})),"object"===Y()(t[n])&&(e(t[n]),Object(J.isEmpty)(t[n])&&delete t[n])}(e.settings),Object(J.isEmpty)(e.settings)&&delete e.settings,e){if(e.hasOwnProperty(a))ae(e[a])}return e}function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ie=function(e){d()(r,e);var t,a,n=le(r);function r(e){var t;return i()(this,r),(t=n.call(this,e)).state={needUpdate:!1},t.updateAltrp=t.updateAltrp.bind(u()(t)),t}return s()(r,[{key:"componentDidMount",value:(a=M()(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G.a.dispatch(Object(B.c)()),e.next=3,new F.a({route:"/admin/ajax/check_update"}).post({});case 3:e.sent.result&&this.setNeedUpdate(),G.a.dispatch(Object(B.d)());case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"setNeedUpdate",value:function(){this.setState((function(e){return re(re({},e),{},{needUpdate:!0})}))}},{key:"setDontNeedUpdate",value:function(){this.setState((function(e){return re(re({},e),{},{needUpdate:!1})}))}},{key:"updateAltrp",value:(t=M()(P.a.mark((function e(){var t,a=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G.a.dispatch(Object(B.c)()),e.next=3,new F.a({route:"/admin/ajax/update_altrp"}).post({});case 3:t=e.sent,setTimeout((function(){t.result?document.location.reload(!0):a.setNeedUpdate()}),1300);case 5:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e={updateMessage:"You have the latest version of Altrp."};return this.state.needUpdate&&(e.updateMessage="A fresh version of Altrp is available for updating."),v.a.createElement("div",{className:"admin-updates p-4"},v.a.createElement("div",{className:"admin-caption mt-1"},e.updateMessage),this.state.needUpdate?v.a.createElement("button",{className:"btn_success btn",onClick:this.updateAltrp},"Update"):v.a.createElement("button",{className:"btn"},"Re-install Now"))}}]),r}(g.Component);function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ue=function(e){d()(r,e);var t,a,n=ce(r);function r(e){var t;return i()(this,r),(t=n.call(this,e)).resource=new F.a({route:t.props.route}),t.state={value:t.props.value||"",disabled:!t.props.value},t.changeValue=t.changeValue.bind(u()(t)),t.onChange=t.onChange.bind(u()(t)),t.onKeyDown=t.onKeyDown.bind(u()(t)),t}return s()(r,[{key:"componentDidMount",value:(a=M()(P.a.mark((function e(){var t,a=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.props.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.resource.get(this.props.resourceid);case 4:t=e.sent,this.setState((function(e){return se(se({},e),{},{value:t[a.props.resourceid]||"",disabled:!1})}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"onKeyDown",value:function(e){13===e.keyCode&&this.changeValue(e)}},{key:"onChange",value:function(e){var t=e.target.value;this.setState((function(e){return se(se({},e),{},{value:t})})),_.isFunction(this.props.changevalue)&&this.props.changevalue(t)}},{key:"changeValue",value:(t=M()(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,this.setState((function(e){return se(se({},e),{},{disabled:!0})})),e.next=4,this.resource.put(this.props.resourceid,{value:a,column_value:a});case 4:e.sent,this.setState((function(e){return se(se({},e),{},{disabled:!1})}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props.className;this.state.disabled&&(e+=" pointer-event-none");var t=se({},this.props);return delete t.changevalue,v.a.createElement("input",w()({},t,{className:e,onBlur:this.changeValue,onKeyDown:this.onKeyDown,onChange:this.onChange,value:this.state.value}))}}]),r}(g.Component);function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var de=function(e){d()(a,e);var t=me(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){return v.a.createElement("div",{className:"admin-styles-settings"},v.a.createElement("table",null,v.a.createElement("tbody",{className:"admin-settings-table-row"},v.a.createElement("tr",{className:"admin-settings-table-row"},v.a.createElement("td",{className:"admin-settings-table__td row-text",width:"10%"},v.a.createElement("label",{htmlFor:"settings-container-width"},"Container Width")),v.a.createElement("td",{className:"admin-settings-table__td"},v.a.createElement(ue,{type:"number",route:"/admin/ajax/settings",resourceid:"container_width",id:"settings-container-width",className:"form__input w-25"}))))))}}]),a}(g.Component);function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var fe=function(e){d()(a,e);var t=pe(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).onSubmit=function(){var e=M()(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.resource.postFiles(n.inputFile.current.files,"application/x-zip-compressed");case 3:if(!(a=e.sent).success){e.next=10;break}return e.next=7,alert("Success");case 7:window.location.href="/admin/dashboard",e.next=11;break;case 10:alert("Error "+a.message);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.inputFile=React.createRef(),n.resource=new F.a({route:"/admin/import/settings"}),n}return s()(a,[{key:"render",value:function(){return React.createElement("form",{onSubmit:this.onSubmit,method:"post",className:"admin-updates p-4"},React.createElement("div",{className:"admin-caption mt-1"},"Export All App Settings in Archive"),React.createElement("input",{type:"hidden",name:"_token",value:_token}),React.createElement("input",{type:"file",ref:this.inputFile,accept:".zip,application/zip,application/x-zip,application/x-zip-compressed",name:"file",required:!0}),React.createElement("button",{className:"btn_success btn"},"Import ZIP Archive"))}}]),a}(Component);function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var be=function(e){d()(a,e);var t=he(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){return React.createElement("div",{className:"admin-updates p-4"},React.createElement("div",{className:"admin-caption mt-1"},"Export All App Settings in Archive"),React.createElement("a",{className:"btn_success btn",href:"/admin/downloads/settings"},"Download ZIP Archive"))}}]),a}(Component);function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ye=React.lazy((function(){return a.e(16).then(a.bind(null,519))})),_e=function(e){d()(a,e);var t=Ee(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).switchTab=n.switchTab.bind(u()(n)),n.state={activeTab:parseInt(window.location.hash[1])||0},n}return s()(a,[{key:"switchTab",value:function(e){window.location.hash=e+"",this.setState((function(t){return ve(ve({},t),{},{activeTab:e})}))}},{key:"render",value:function(){return React.createElement("div",{className:"admin-settings admin-page"},React.createElement("div",{className:"admin-heading"},React.createElement("div",{className:"admin-breadcrumbs"},React.createElement("a",{className:"admin-breadcrumbs__link",href:"#"},"Settings"),React.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),React.createElement("span",{className:"admin-breadcrumbs__current"},"Builder"))),React.createElement("div",{className:"admin-content"},React.createElement(U.d,{selectedIndex:this.state.activeTab,onSelect:this.switchTab},React.createElement(U.b,{className:"nav nav-pills admin-pills"},React.createElement(U.a,null,"GENERAL"),React.createElement(U.a,null,"STYLE"),React.createElement(U.a,null,"INTEGRATIONS"),React.createElement(U.a,null,"ADVANCED"),React.createElement(U.a,null,"UPDATES"),React.createElement(U.a,null,"EXPORT"),React.createElement(U.a,null,"IMPORT")),React.createElement(U.c,null,React.createElement("table",null,React.createElement("tbody",{className:"admin-table-body"},React.createElement("tr",{className:"admin-settings-table-row"},React.createElement("td",{className:"admin-settings-table__td row-text"},"Post Types"),React.createElement("td",{className:"admin-settings-table__td "},React.createElement("input",{className:"admin-table__td_check",type:"checkbox"}),"Pages",React.createElement("br",null),React.createElement("input",{className:"admin-table__td_check",type:"checkbox"}),"News")),React.createElement("tr",{className:"admin-settings-table-row"},React.createElement("td",{className:"admin-settings-table__td row-text"},"Disable Default Colors"),React.createElement("td",{className:"admin-settings-table__td "},React.createElement("input",{className:"admin-table__td_check",type:"checkbox"}),"Checking this box will disable Builder's Default Colors, and make Builder inherit the colors from your CSS file")),React.createElement("tr",{className:"admin-settings-table-row"},React.createElement("td",{className:"admin-settings-table__td row-text"},"Disable Default Fonts"),React.createElement("td",{className:"admin-settings-table__td "},React.createElement("input",{className:"admin-table__td_check",type:"checkbox"}),"Checking this box will disable Builder’s Default Fonts, and make Builder inherit the fonts from your CSS file")),React.createElement("tr",{className:"admin-settings-table-row"},React.createElement("td",{className:"admin-settings-table__td header-text"},"Improve builder")),React.createElement("tr",{className:"admin-settings-table-row"},React.createElement("td",{className:"admin-settings-table__td row-text"},"Usage Data Sharing"),React.createElement("td",{className:"admin-settings-table__td "},React.createElement("input",{className:"admin-table__td_check",type:"checkbox"}),"Become a super contributor by opting in to share non-sensitive plugin data and to get our updates. Learn more")),React.createElement("tr",{className:"admin-settings-table-row"},React.createElement("td",{className:"admin-settings-table__td"},React.createElement("button",{className:"admin-settings-button btn btn-sm",type:"button"},"Save Changes")))))),React.createElement(U.c,null,React.createElement(de,null)),React.createElement(U.c,null),React.createElement(U.c,null,React.createElement(React.Suspense,{fallback:"Loading"},React.createElement(ye,null))),React.createElement(U.c,null,React.createElement(ie,{attr:"attr"})),React.createElement(U.c,null,React.createElement(be,null)),React.createElement(U.c,null,React.createElement(fe,null)))))}}]),a}(Component),we=function(e){var t=e.styles,a=void 0===t?{}:t,n=k()(e,["styles"]);return v.a.createElement("svg",w()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},n),v.a.createElement("defs",null),v.a.createElement("g",{id:"Слой_2","data-name":"Слой 2"},v.a.createElement("g",{id:"Слой_1-2","data-name":"Слой 1"},v.a.createElement("path",{className:a["cls-1"]||"cls-1",d:"M15.63 1.79h-1v12.48a.36.36 0 01-.36.36H1.79v1a.37.37 0 00.37.37h13.47a.36.36 0 00.37-.37V2.16a.37.37 0 00-.37-.37z"}),v.a.createElement("path",{className:a["cls-1"]||"cls-1",d:"M13.79 13.42V.37a.37.37 0 00-.37-.37H.37A.36.36 0 000 .37v13.05a.37.37 0 00.37.37h13.05a.38.38 0 00.37-.37zM10 2.71a1.4 1.4 0 11-1.4 1.4 1.4 1.4 0 011.4-1.4zm-8.8 9.91C1.27 11 2.1 8 3.3 6.83s2-.13 2.72.9a27.9 27.9 0 001.73 2.32c.81.81 1.49-.41 2.34-.81 1.23-.59 2.24 2.46 2.5 3.39z"}))))},xe=function(e){e.styles;var t=k()(e,["styles"]);return v.a.createElement("svg",w()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17.73 10.85"},t),v.a.createElement("g",{"data-name":"Слой 2"},v.a.createElement("path",{d:"M8.87 0A8.88 8.88 0 000 8.87a9.67 9.67 0 00.16 1.69.37.37 0 00.36.29h16.69a.36.36 0 00.36-.29A8.88 8.88 0 008.87 0zm0 1a.93.93 0 11-.66 1.58A.93.93 0 018.87 1zM2 9.79a.93.93 0 11.92-.92.93.93 0 01-.92.92zm2.63-5.16a.88.88 0 01-.63.28.94.94 0 01-.95-.91.92.92 0 01.95-.95.94.94 0 01.91.95.88.88 0 01-.28.63zm5.78 5.09a2.33 2.33 0 11-3-3.58c1-.83 6.74-2.57 6.74-2.57S11.4 8.9 10.41 9.72zm5.37.07a.93.93 0 11.92-.92.93.93 0 01-.92.92z",fill:"#fff","data-name":"Слой 1"})))},ke=function(e){var t=e.styles,a=void 0===t?{}:t,n=k()(e,["styles"]);return v.a.createElement("svg",w()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 17.35"},n),v.a.createElement("defs",null),v.a.createElement("g",{id:"Слой_2","data-name":"Слой 2"},v.a.createElement("g",{id:"Слой_1-2","data-name":"Слой 1"},v.a.createElement("path",{className:a["cls-1"]||"cls-1",d:"M10.33 15.72H1.6V2.64H.47a.47.47 0 00-.47.47v13.77a.47.47 0 00.47.47h9.39a.47.47 0 00.47-.47z"}),v.a.createElement("path",{className:a["cls-1"]||"cls-1",d:"M13 .47a.47.47 0 00-.47-.47H3.14a.47.47 0 00-.47.47v13.77a.47.47 0 00.47.46h9.39a.44.44 0 00.33-.14.43.43 0 00.14-.32z"}))))},Ne=function(e){var t=e.styles,a=void 0===t?{}:t,n=k()(e,["styles"]);return v.a.createElement("svg",w()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 16.96"},n),v.a.createElement("defs",null),v.a.createElement("g",{id:"Слой_2","data-name":"Слой 2"},v.a.createElement("g",{id:"Слой_1-2","data-name":"Слой 1"},v.a.createElement("path",{className:a["cls-1"]||"cls-1",d:"M4.31 2.67A.43.43 0 004 2.54a.41.41 0 00-.31.14c-2.54 2.8-1.16 8.86-1 9.46L.12 14.7A.41.41 0 000 15a.42.42 0 00.12.3l1.54 1.53a.41.41 0 00.6 0l2.55-2.55a17.77 17.77 0 004.19.51c1.65 0 3.91-.26 5.3-1.52a.5.5 0 00.14-.31.46.46 0 00-.13-.31zM8 5.19a.44.44 0 00.3.12.42.42 0 00.3-.12L11.76 2a1.17 1.17 0 00.34-.83 1.18 1.18 0 00-.34-.84 1.16 1.16 0 00-.84-.33 1.15 1.15 0 00-.84.35L6.92 3.51a.42.42 0 000 .6zM16.65 5.24a1.2 1.2 0 00-1.67 0l-3.17 3.17a.44.44 0 000 .6l1.08 1.07a.41.41 0 00.6 0l3.16-3.16a1.18 1.18 0 000-1.68z"}))))},Oe=function(e){var t=e.styles,a=void 0===t?{}:t,n=k()(e,["styles"]);return v.a.createElement("svg",w()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},n),v.a.createElement("defs",null),v.a.createElement("g",{id:"Слой_2","data-name":"Слой 2"},v.a.createElement("g",{id:"Слой_1-2","data-name":"Слой 1"},v.a.createElement("path",{className:a["cls-1"]||"cls-1",d:"M16.14 10H8.06L8 6V1.5c0-.5-.29-.39-.48-.37a8.46 8.46 0 109.31 9.64.69.69 0 00-.69-.79z"}),v.a.createElement("path",{className:a["cls-1"]||"cls-1",d:"M10.38 0a.37.37 0 00-.27.09.36.36 0 00-.11.25V8h7.65a.36.36 0 00.25-.11.32.32 0 00.1-.25A8 8 0 0010.38 0z"}))))},je=function(e){e.styles;var t=k()(e,["styles"]);return v.a.createElement("svg",w()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 16.6"},t),v.a.createElement("g",{"data-name":"Слой 2"},v.a.createElement("path",{d:"M16.66 8.49l-1.5-.34a6.68 6.68 0 00-.55-2.49l1.16-1a.42.42 0 00.06-.61l-1.59-2A.41.41 0 0014 2a.46.46 0 00-.32.09L12.5 3a6.72 6.72 0 00-2.3-1.11V.43A.44.44 0 009.76 0H7.23a.43.43 0 00-.43.43v1.45A6.77 6.77 0 004.45 3l-1.14-.88A.46.46 0 003 2a.41.41 0 00-.29.16l-1.58 2a.44.44 0 00.07.61l1.18.93a6.56 6.56 0 00-.53 2.5l-1.5.35a.38.38 0 00-.27.19.43.43 0 00-.08.34l.57 2.46a.43.43 0 00.52.33l1.55-.36a6.66 6.66 0 001.57 1.93l-.69 1.45a.42.42 0 000 .33.45.45 0 00.22.25L6 16.56a.43.43 0 00.19 0h.15a.45.45 0 00.24-.23l.71-1.47a6.78 6.78 0 002.46 0l.71 1.47a.45.45 0 00.58.2l2.27-1.11a.39.39 0 00.22-.25.42.42 0 000-.33l-.7-1.45a6.67 6.67 0 001.56-1.94l1.54.34a.43.43 0 00.52-.33L17 9a.44.44 0 00-.34-.51zm-5.3-.16A2.86 2.86 0 118.5 5.47a2.86 2.86 0 012.86 2.86z",fill:"#fff","data-name":"Слой 1"})))},Ce=function(e){var t=e.styles,a=void 0===t?{}:t,n=k()(e,["styles"]);return v.a.createElement("svg",w()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15"},n),v.a.createElement("defs",null),v.a.createElement("g",{id:"Слой_2","data-name":"Слой 2"},v.a.createElement("g",{id:"Слой_1-2","data-name":"Слой 1"},v.a.createElement("path",{className:a["cls-1"]||"cls-1",d:"M0 .2A.2.2 0 01.2 0h3.6a.2.2 0 01.2.2v3.6a.2.2 0 01-.2.2H.2a.2.2 0 01-.2-.2zM6 .2a.2.2 0 01.2-.2h8.6a.2.2 0 01.2.2v3.6a.2.2 0 01-.2.2H6.2a.2.2 0 01-.2-.2zM0 6.2A.2.2 0 01.2 6h3.6a.2.2 0 01.2.2v8.6a.2.2 0 01-.2.2H.2a.2.2 0 01-.2-.2zM6 6.2a.2.2 0 01.2-.2h8.6a.2.2 0 01.2.2v8.6a.2.2 0 01-.2.2H6.2a.2.2 0 01-.2-.2z"}))))},Se=function(e){var t=e.styles,a=void 0===t?{}:t,n=k()(e,["styles"]);return v.a.createElement("svg",w()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15"},n),v.a.createElement("defs",null),v.a.createElement("g",{id:"Слой_2","data-name":"Слой 2"},v.a.createElement("g",{id:"Слой_1-2","data-name":"Слой 1"},v.a.createElement("path",{className:a["cls-1"]||"cls-1",d:"M14.67 0H.33A.31.31 0 000 .28v3.09a.31.31 0 00.33.28h14.34a.31.31 0 00.33-.28V.28a.31.31 0 00-.33-.28zM9 5H6a.32.32 0 00-.33.32v2.22a.32.32 0 00.33.32h3a.32.32 0 00.33-.32V5.28A.32.32 0 009 5zM9 9.15H6a.32.32 0 00-.33.32v5.21A.32.32 0 006 15h3a.32.32 0 00.33-.32V9.47A.32.32 0 009 9.15zM14.67 5h-3a.32.32 0 00-.33.32V10a.32.32 0 00.33.32h3A.32.32 0 0015 10V5.28a.32.32 0 00-.33-.28zM3.37 5h-3a.32.32 0 00-.37.28V10a.32.32 0 00.33.32h3A.32.32 0 003.7 10V5.28A.32.32 0 003.37 5zM3.37 11.55h-3a.33.33 0 00-.33.32v2.81a.32.32 0 00.29.32h3a.32.32 0 00.33-.32v-2.81a.33.33 0 00-.29-.32zM14.67 11.55h-3a.33.33 0 00-.33.32v2.81a.32.32 0 00.33.32h3a.32.32 0 00.33-.32v-2.81a.33.33 0 00-.33-.32z"}))))},De=function(e){var t=e.styles,a=void 0===t?{}:t,n=k()(e,["styles"]);return v.a.createElement("svg",w()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18.51 15.26"},n),v.a.createElement("defs",null),v.a.createElement("g",{id:"Слой_2","data-name":"Слой 2"},v.a.createElement("g",{id:"Слой_1-2","data-name":"Слой 1"},v.a.createElement("path",{className:a["cls-1"]||"cls-1",d:"M13.52 14.52a9.31 9.31 0 01-4 .74A15.11 15.11 0 015 14.52h-.09v-2.68a3.23 3.23 0 013.22-3.22h2.26a3.23 3.23 0 013.22 3.22v2.64zM6.16 7.63a4.56 4.56 0 00-2.7 3.81v.85A15.49 15.49 0 010 11.61s0-.14 0 0V8.9a3.08 3.08 0 013.08-3.1h2.34a3.92 3.92 0 00.74 1.83zM11.6 5.29a2.39 2.39 0 01-2.34 2.43 2.39 2.39 0 01-2.34-2.43 2.39 2.39 0 012.34-2.44 2.39 2.39 0 012.34 2.44zM5.57 4.46a2.35 2.35 0 01-1.2.33 2.38 2.38 0 112.38-2.38 3.33 3.33 0 00-1.18 2.05zM13.09 5.77h2.34a3.09 3.09 0 013.07 3.1v2.71c0-.14 0 0 0 0a15.57 15.57 0 01-3.43.68v-.85a4.56 4.56 0 00-2.7-3.81 3.92 3.92 0 00.72-1.83zM11.75 2.43v-.05a2.39 2.39 0 112.39 2.38 2.32 2.32 0 01-1.2-.33 3.39 3.39 0 00-1.19-2z"}))))},Re=a(28),Pe=function(e){e.styles;var t=k()(e,["styles"]);return v.a.createElement("svg",w()({height:"40",viewBox:"0 0 1792 1792",width:"40",xmlns:"http://www.w3.org/2000/svg"},t),v.a.createElement("path",{d:"M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10L407 759q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"}))},Ae=function(e){e.styles;var t=k()(e,["styles"]);return v.a.createElement("svg",w()({width:"31",height:"31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),v.a.createElement("path",{d:"M11.124 24.386l-4.415 2.492c-.26.146-.492.325-.709.521C8.574 29.645 11.897 31 15.528 31c3.603 0 6.905-1.335 9.472-3.55a3.911 3.911 0 00-.778-.54l-4.728-2.445a1.873 1.873 0 01-.997-1.67v-1.919a7.36 7.36 0 00.447-.595 11.42 11.42 0 001.47-3.064 1.53 1.53 0 001.053-1.462v-2.049c0-.45-.194-.853-.495-1.135V9.609S21.56 5 15.528 5s-5.444 4.609-5.444 4.609v2.962a1.55 1.55 0 00-.495 1.135v2.049c0 .54.274 1.015.685 1.289.495 2.229 1.79 3.832 1.79 3.832v1.873c0 .681-.361 1.31-.94 1.637z",fill:"#F7F8F9"}),v.a.createElement("path",{d:"M15.765.002C7.207-.144.15 6.676.002 15.236c-.083 4.853 2.08 9.215 5.524 12.115.226-.196.467-.377.736-.523l4.625-2.523a1.89 1.89 0 00.984-1.658v-1.895s-1.357-1.624-1.875-3.88a1.555 1.555 0 01-.717-1.305v-2.074c0-.456.203-.864.518-1.15V9.346S9.18 4.68 15.5 4.68s5.703 4.666 5.703 4.666v2.999c.316.285.518.693.518 1.15v2.073c0 .698-.468 1.284-1.103 1.48a11.397 11.397 0 01-1.54 3.103c-.17.24-.329.444-.468.602v1.943c0 .715.404 1.37 1.044 1.69l4.953 2.475c.297.149.565.337.813.546a15.46 15.46 0 005.578-11.64C31.145 7.205 24.325.148 15.765.002z",fill:"#8E94AA"}))};function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var He=function(e){d()(n,e);var t,a=Fe(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).state={data:[],role_filter:"all",search:""},t.resource=new F.a({route:"/admin/ajax/users"}),t}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resource.getAll();case 2:t=e.sent,this.setState((function(e){return Te(Te({},e),{},{data:t})}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return v.a.createElement("div",{className:"admin-users"},v.a.createElement("div",{className:"wrapper"},v.a.createElement("div",{className:"admin-heading-users"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement("a",{className:"admin-breadcrumbs__link",href:"#"},"Users"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"All Users")),v.a.createElement(T.b,{className:"btn",to:"/admin/users/new/"},"Add New"),v.a.createElement("div",{className:"admin-filters"},v.a.createElement("span",{className:"admin-filters__current"},"All (4)"),v.a.createElement("span",{className:"admin-filters__separator"},"|"),v.a.createElement("a",{className:"admin-filters__link",href:"#"},"Administrator (1)"),v.a.createElement("span",{className:"admin-filters__separator"},"|"),v.a.createElement("a",{className:"admin-filters__link",href:"#"},"Editor (3)"))),v.a.createElement("div",{className:"admin-panel"},v.a.createElement("form",{className:"admin-users-form form-bulk-left"},v.a.createElement("select",{className:"form-control input-sm"},v.a.createElement("option",{value:"1"},"Bulk Actions")),v.a.createElement("button",{className:"btn btn_bare admin-users-button"},"Apply")),v.a.createElement("form",{className:"admin-users-form form-bulk-right"},v.a.createElement("select",{className:"form-control input"},v.a.createElement("option",{value:"1"},"Change role on...")),v.a.createElement("button",{className:"btn btn_bare admin-users-button"},"Change")),v.a.createElement("form",{className:"admin-users-form form-bulk-search"},v.a.createElement("input",{type:"search",className:"form-control input-sm",placeholder:"","aria-controls":"example1"}),v.a.createElement("button",{type:"search",className:"btn btn_bare admin-users-button"},"Search Users"))),v.a.createElement("div",{className:"admin-users-table"},v.a.createElement("table",{className:"table"},v.a.createElement("thead",{className:"admin-users-table-head"},v.a.createElement("tr",{className:"admin-table-row"},v.a.createElement("td",{className:"admin-table__td admin-table__td_check"},v.a.createElement("input",{className:"input-users",type:"checkbox"}),"Username",v.a.createElement(Pe,{className:"vector-svg"})),v.a.createElement("td",{className:"admin-table__td "},"Name"),v.a.createElement("td",{className:"admin-table__td "},"Email"),v.a.createElement("td",{className:"admin-table__td "},"Role",v.a.createElement(Pe,{className:"vector-svg role-svg"})),v.a.createElement("td",{className:"admin-table__td "},"Post"),v.a.createElement("td",{className:"admin-table__td "},"Last Enter"),v.a.createElement("td",{className:"admin-table__td "},"Status"))),v.a.createElement("tbody",{className:"admin-table-body"},this.state.data.map((function(e,t){return v.a.createElement("tr",{className:"admin-table-row",key:e.id},v.a.createElement("td",{className:"admin-table__td admin-table__td_check "},v.a.createElement("input",{className:"input-users",type:"checkbox"}),v.a.createElement(Ae,{className:"users-svg"}),v.a.createElement(T.b,{to:"/admin/users/user/"+e.id},e.name)),v.a.createElement("td",{className:"admin-table__td "},e.full_name),v.a.createElement("td",{className:"admin-table__td "},v.a.createElement("a",null,e.email)),v.a.createElement("td",{className:"admin-table__td "},v.a.createElement("a",null,e.roles.map((function(e){return e.name})).join(", "))),v.a.createElement("td",{className:"admin-table__td "},"2"),v.a.createElement("td",{className:"admin-table__td "},e.last_login_at),v.a.createElement("td",{className:"admin-table__td "},"Enable"))})))))))}}]),n}(g.Component),ze=a(360),qe=a(377),Le=a(361);function Ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ve(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Be=function(e){return v.a.createElement(Le.Scrollbars,{autoHeight:!0},e.children)},Ge=function(e){d()(n,e);var t,a=Ue(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).loadOptions=function(){var e=M()(P.a.mark((function e(a,n){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],!t.optionsResource){e.next=5;break}return e.next=4,t.optionsResource.search(a);case 4:r=e.sent;case 5:return t.setState((function(e){return Ie(Ie({},e),{},{options:r})})),e.abrupt("return",n(r));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),t.state={options:e.options||[]},e.optionsRoute&&(t.optionsResource=new F.a({route:e.optionsRoute})),t}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"onChange",value:function(){}},{key:"onInputChange",value:function(){}},{key:"render",value:function(){var e={menuPortal:function(e){return Ie(Ie({},e),{},{zIndex:99999})}},t={onChange:this.onChange,onInputChange:this.onInputChange,options:this.state.options||[],placeholder:this.props.placeholder,loadOptions:this.loadOptions,noOptionsMessage:this.props.noOptionsMessage||function(){return"not found"},styles:e,menuPortalTarget:document.body,menuPlacement:"auto",menuPosition:"absolute",components:{MenuList:Be},captureMenuScroll:!1};return _.assign(t,this.props),this.optionsResource?v.a.createElement(ze.a,t):v.a.createElement(qe.a,t)}}]),n}(g.Component);function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Je=function(e){d()(r,e);var t,a,n=Qe(r);function r(e){var t;return i()(this,r),(t=n.call(this,e)).changeRolesHandler=function(e){t.setState({usermeta:Ye(Ye({},t.state.usermeta),{},{roles:e?e.map((function(e){return e.value})):[]}),user:Ye(Ye({},t.state.user),{},{_roles:e?e.map((function(e){return e.value})):[]})})},t.changePermissionsHandler=function(e){t.setState({usermeta:Ye(Ye({},t.state.usermeta),{},{permissions:e?e.map((function(e){return e.value})):[]}),user:Ye(Ye({},t.state.user),{},{_permissions:e?e.map((function(e){return e.value})):[]})})},t.state={id:t.props.id,user:{},usermeta:{},errors:[],redirectAfterSave:!1,redirectAfterError:!1,redirect_error_url:"/admin/users",rolesOptions:[],permissionsOptions:[]},t.state.id||console.log(t.props.id),t.resource=new F.a({route:"/admin/ajax/users"}),t.rolesOptions=new F.a({route:"/admin/ajax/role_options"}),t.permissionsOptions=new F.a({route:"/admin/ajax/permissions_options"}),t.saveUser=t.saveUser.bind(u()(t)),t}return s()(r,[{key:"componentDidMount",value:(a=M()(P.a.mark((function e(){var t,a,n,r=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rolesOptions.getAll();case 2:return t=e.sent,this.setState((function(e){return Ye(Ye({},e),{},{rolesOptions:t})})),e.next=6,this.permissionsOptions.getAll();case 6:if(a=e.sent,this.setState((function(e){return Ye(Ye({},e),{},{permissionsOptions:a})})),this.state.id){e.next=10;break}return e.abrupt("return");case 10:if(!this.state.id){e.next=15;break}return e.next=13,this.resource.get(this.state.id);case 13:n=e.sent,this.setState((function(e){return Ye(Ye({},e),{},{user:n})}),M()(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.resource.get(r.state.id+"/usermeta");case 2:t=e.sent,r.setState((function(e){return Ye(Ye({},e),{},{usermeta:t})}));case 4:case"end":return e.stop()}}),e)}))));case 15:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"saveUser",value:(t=M()(P.a.mark((function e(t){var a,n,r=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.state.id){e.next=7;break}return e.next=4,this.resource.put(this.state.id,this.state.user);case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,this.resource.post(this.state.user);case 9:a=e.sent;case 10:if(console.log(a),!a){e.next=19;break}return n=new F.a({route:"/admin/ajax/users/"+a.id+"/usermeta"}),e.next=15,n.post(this.state.usermeta);case 15:e.sent?this.setState((function(e){return Ye(Ye({},e),{},{redirectAfterSave:!0})})):this.setState((function(e){return Ye(Ye({},e),{},{redirectAfterError:!0,redirect_error_url:r.state.redirect_error_url+"/user/"+a.id})})),e.next=19;break;case 19:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"changeValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user",a=e.target.name,n=e.target.value;this.setState((function(e){return(e=Ye({},e))[t][a]=n,e}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.rolesOptions,n=t.permissionsOptions,r=this.state.user,l=r._roles,i=void 0===l?[]:l,o=r._permissions,s=void 0===o?[]:o;return this.state.redirectAfterSave?v.a.createElement(Re.a,{to:this.props.redirect_url}):this.state.redirectAfterError?v.a.createElement(Re.a,{to:this.state.redirect_error_url}):v.a.createElement("form",{className:"admin-form",onSubmit:this.saveUser},v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-name"},"Name"),v.a.createElement("input",{type:"text",id:"name",name:"name",required:1,value:this.state.user.name||"",disabled:this.props.id,onChange:function(t){e.changeValue(t)},className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-title"},"Email"),v.a.createElement("input",{type:"email",id:"email",name:"email",required:1,value:this.state.user.email||"",onChange:function(t){e.changeValue(t)},disabled:this.props.id,className:"form-control"})),this.state.id?null:v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-description"},"Password"),v.a.createElement("input",{type:"password",id:"password",name:"password",required:1,value:this.state.user.password||"",onChange:function(t){e.changeValue(t)},className:"form-control"})),this.state.id?null:v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-description"},"Confirm Password"),v.a.createElement("input",{type:"password",id:"password_confirmation",name:"password_confirmation",required:1,value:this.state.user.password_confirmation||"",onChange:function(t){e.changeValue(t)},className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-description"},"First Name"),v.a.createElement("input",{type:"text",id:"first_name",name:"first_name",value:this.state.usermeta.first_name||"",onChange:function(t){e.changeValue(t,"usermeta")},className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-description"},"Second Name"),v.a.createElement("input",{type:"text",id:"second_name",name:"second_name",value:this.state.usermeta.second_name||"",onChange:function(t){e.changeValue(t,"usermeta")},className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-description"},"Patronymic"),v.a.createElement("input",{type:"text",id:"patronymic",name:"patronymic",value:this.state.usermeta.patronymic||"",onChange:function(t){e.changeValue(t,"usermeta")},className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"roles"},"Roles"),v.a.createElement(Ge,{id:"roles",closeMenuOnSelect:!1,value:_.filter(a,(function(e){return i&&i.indexOf(e.value)>=0})),isMulti:!0,onChange:this.changeRolesHandler,options:a})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"permissions"},"Permissions"),v.a.createElement(Ge,{id:"permissions",value:_.filter(n,(function(e){return s&&s.indexOf(e.value)>=0})),closeMenuOnSelect:!1,isMulti:!0,onChange:this.changePermissionsHandler,options:n})),v.a.createElement("button",{className:"btn btn_success"},this.state.id?"Save":"Add"))}}]),r}(g.Component);function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var We=function(e){d()(a,e);var t=$e(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).state={redirectAfterSave:!1},n.resource=new F.a({route:"/admin/ajax/users"}),n}return s()(a,[{key:"render",value:function(){return this.state.redirectAfterSave?v.a.createElement(Re.a,{to:"/admin/users"}):v.a.createElement("div",{className:"admin-users"},v.a.createElement("div",{className:"wrapper"},v.a.createElement("div",{className:"admin-heading-users"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/users"},"Users"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"Add New Users"))),v.a.createElement("div",{className:"admin-users-form"},v.a.createElement(Je,{redirect_url:"/admin/users"}))))}}]),a}(g.Component),Xe=Object(Re.g)(We);function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var et=function(e){d()(a,e);var t=Ze(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).state={user_id:n.props.match.params.id,redirectAfterSave:!1},n.resource=new F.a({route:"/admin/ajax/users/user"}),n}return s()(a,[{key:"render",value:function(){return this.state.redirectAfterSave?v.a.createElement(Re.a,{to:"/admin/users"}):v.a.createElement("div",{className:"admin-users"},v.a.createElement("div",{className:"wrapper"},v.a.createElement("div",{className:"admin-heading-users"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/users"},"Users"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"Add New Users"))),v.a.createElement("div",{className:"admin-users-form"},v.a.createElement(Je,{redirect_url:"/admin/users",id:this.state.user_id}))))}}]),a}(g.Component),tt=Object(Re.g)(et);function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var nt=function(e){d()(a,e);var t=at(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){return v.a.createElement("div",{id:"content"},v.a.createElement("div",{className:"admin-heading-users"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement("a",{className:"admin-breadcrumbs__link",href:"#"},"Users"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"Tools"))),v.a.createElement("ul",{className:"nav nav-tabs"},v.a.createElement("li",{className:"nav-item"},v.a.createElement("a",{className:"nav-link active",href:"#"},"Tools"))),v.a.createElement("div",{className:"border border-top-0"},v.a.createElement("div",{className:"row d-flex"},v.a.createElement("div",{className:"col-sm-8 d-flex change-role"},v.a.createElement("span",null,"Change role"),v.a.createElement("select",{className:"form-control form-control-sm"},v.a.createElement("option",{value:"1"},"Editor"),v.a.createElement("option",{value:"2"},"Moderator")),v.a.createElement("div",{className:"form-check form-check-inline"},v.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"checkbox__1"}),v.a.createElement("label",{className:"form-check-label",htmlFor:"checkbox__1"},"Readable features")))),v.a.createElement("div",{className:"row group-table border border-bottom-0 border-left-0 border-right-0 no-gutters"},v.a.createElement("div",{className:"col-3"},v.a.createElement("span",{className:"text-group"},"Groups"),v.a.createElement("span",{className:"text-total"},"(Total/Allowed)")),v.a.createElement("div",{className:"col-6 form-check form-check-inline"},v.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"checkbox__2"}),v.a.createElement("label",{className:"form-check-label",htmlFor:"checkbox__2"},"Fast filter:"),v.a.createElement("input",{type:"search",className:"search-tools form-control-sm",placeholder:"","aria-controls":"example1"}),v.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"checkbox__3"}),v.a.createElement("label",{className:"form-check-label",htmlFor:"checkbox__3"},"Only Allowed")),v.a.createElement("div",{className:"col-3"},v.a.createElement("form",{action:"#",className:"form-tools"},v.a.createElement("button",{type:"submit",className:"btn-tools"},"Save Changes")))),v.a.createElement("div",{className:"row group-table-trees border border-bottom-0 border-left-0 border-right-0 no-gutters"},v.a.createElement("div",{className:"col-3"},v.a.createElement("div",{className:"treeview"},v.a.createElement("ul",null,v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#",className:"core"},"Core (112/2)"))),v.a.createElement("ul",null,v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Dashboard (10/1)")),v.a.createElement("p",{className:"form-group-p"},v.a.createElement("a",{href:"#"},"Rename"),v.a.createElement("span",null," | "),v.a.createElement("a",{href:"#"},"Copy"),v.a.createElement("span",null," | "),v.a.createElement("a",{href:"#"},"Delete")))),v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Assets (10/1)")))),v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Tables (10/1)")))),v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Templates (10/1)")))),v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Reports (10/1)")))),v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Users (10/1)")))),v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Plugins (10/1)")))),v.a.createElement("li",{className:"cl"},v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Setings (42/5)"))),v.a.createElement("ul",{className:"l"},v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Builder (10/2)")))),v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Import/Export (10/2)")))),v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Integration (10/2)")))),v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Sender (10/2)")))),v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Acquiring (10/2)")))),v.a.createElement("li",null,v.a.createElement("div",null,v.a.createElement("p",null,v.a.createElement("a",{href:"#"},"Tuner (10/2)"))))))))))),v.a.createElement("div",{className:"col-6 form-check form-check-group"},v.a.createElement("fieldset",{className:"form-group"},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-sm-10"},v.a.createElement("div",{className:"form-check"},v.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"gridRadios1",value:"option1",defaultChecked:!0}),v.a.createElement("label",{className:"form-check-label",htmlFor:"gridRadios1"},"Create Template"),v.a.createElement("p",{className:"form-group-p"},v.a.createElement("a",{href:"#"},"Rename"),v.a.createElement("span",null," | "),v.a.createElement("a",{href:"#"},"Copy"),v.a.createElement("span",null," | "),v.a.createElement("a",{href:"#"},"Delete"))),v.a.createElement("div",{className:"form-check"},v.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"gridRadios2",value:"option2",defaultChecked:!0}),v.a.createElement("label",{className:"form-check-label",htmlFor:"gridRadios2"},"Duplicate Template")),v.a.createElement("div",{className:"form-check"},v.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"gridRadios3",value:"option3"}),v.a.createElement("label",{className:"form-check-label",htmlFor:"gridRadios3"},"Activate / Deactivate Widgets")),v.a.createElement("div",{className:"form-check"},v.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"gridRadios4",value:"option4"}),v.a.createElement("label",{className:"form-check-label",htmlFor:"gridRadios4"},"Setup Integration")),v.a.createElement("div",{className:"form-check"},v.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"gridRadios5",value:"option5"}),v.a.createElement("label",{className:"form-check-label",htmlFor:"gridRadios5"},"Import / Export Templates")),v.a.createElement("div",{className:"form-check"},v.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"gridRadios6",value:"option6"}),v.a.createElement("label",{className:"form-check-label",htmlFor:"gridRadios6"},"Delete Template")),v.a.createElement("div",{className:"form-check"},v.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"gridRadios7",value:"option7",defaultChecked:!0}),v.a.createElement("label",{className:"form-check-label",htmlFor:"gridRadios7"},"Edit Template")))))),v.a.createElement("div",{className:"col-3 "},v.a.createElement("form",{action:"#",className:"group-vertical"},v.a.createElement("button",{type:"submit",className:"btn btn-outline-dark btn-sm"},"Add New Role"),v.a.createElement("button",{type:"submit",className:"btn btn-outline-dark btn-sm"},"Rename Role"),v.a.createElement("button",{type:"submit",className:"btn btn-outline-dark btn-sm"},"Delete Role"),v.a.createElement("button",{type:"submit",className:"btn btn-outline-dark btn-sm"},"Add New Group"),v.a.createElement("button",{type:"submit",className:"btn btn-outline-dark btn-sm"},"Add New Permission"),v.a.createElement("button",{type:"submit",className:"btn btn-outline-dark btn-sm"},"Tools Export"),v.a.createElement("button",{type:"submit",className:"btn btn-outline-dark btn-sm"},"Tools Import")),v.a.createElement("form",{action:"#",className:"dangerous"},v.a.createElement("span",null,"Warning! that “Reset” action could be dangerous"),v.a.createElement("button",{type:"submit",className:"btn-danger"},"RESET"))))))}}]),a}(g.Component),rt=a(55),lt=a.n(rt);function it(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ot(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?it(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):it(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ct=function(e){d()(a,e);var t=st(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).onDragOver=n.onDragOver.bind(u()(n)),n.onDragLeave=n.onDragLeave.bind(u()(n)),n.onDrop=n.onDrop.bind(u()(n)),n.onChange=n.onChange.bind(u()(n)),n.deleteClick=n.deleteClick.bind(u()(n)),n.state={uploaderClasses:"admin-assets__uploader uploader",assets:[],itemDeleteClasses:"item__delete"},n.resource=new F.a({route:"/admin/ajax/media"}),n}return s()(a,[{key:"deleteClick",value:function(e){var t=this,a=e.currentTarget.dataset.assetid;this.setState((function(e){return ot(ot({},e),{},{itemDeleteClasses:"item__delete altrp-disabled"})})),this.resource.delete(a).then((function(e){if(e.success){var n=lt()(t.state.assets);n=_.filter(n,(function(e){return!(e.id===Number(a))})),t.setState((function(e){return ot(ot({},e),{},{assets:n,itemDeleteClasses:"item__delete"})}))}}))}},{key:"updateAssets",value:function(e){var t=this;this.resource.postFiles(e).then((function(e){if(e.length){var a=e.concat(t.state.assets);t.setState((function(e){return ot(ot({},e),{},{assets:a})}))}}))}},{key:"onDrop",value:function(e){e.preventDefault(),e.stopPropagation(),this.updateAssets(e.dataTransfer.files),this.setState((function(e){return ot(ot({},e),{},{uploaderClasses:"admin-assets__uploader uploader"})}))}},{key:"componentDidMount",value:function(){var e=this;this.resource.getAll().then((function(t){e.setState((function(e){return ot(ot({},e),{},{assets:t})}))}))}},{key:"onChange",value:function(e){this.updateAssets(e.target.files)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState((function(e){return ot(ot({},e),{},{uploaderClasses:"admin-assets__uploader uploader uploader_drag-over"})}))}},{key:"onDragLeave",value:function(){this.setState((function(e){return ot(ot({},e),{},{uploaderClasses:"admin-assets__uploader uploader"})}))}},{key:"render",value:function(){var e=this,t=W().getIconComponent("upload"),a=W().getIconComponent("close");return v.a.createElement("div",{className:"admin-assets admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement("a",{className:"admin-breadcrumbs__link",href:"#"},"Assets"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"All Assets"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement("div",{className:this.state.uploaderClasses,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onDragOver:this.onDragOver},v.a.createElement("label",{className:"uploader__label d-flex flex-column align-items-center"},v.a.createElement(t,{width:100,height:100,className:"icon"}),v.a.createElement("input",{type:"file",accept:"image/*",multiple:!0,onChange:this.onChange,className:"uploader__input"}),v.a.createElement("span",{className:"uploader__text text text_bold"},"Drag or Choose File"))),v.a.createElement("div",{className:"admin-assets__list p-4 mt-4 assets-list d-flex flex-wrap"},this.state.assets.map((function(t){return v.a.createElement("div",{className:"assets-list__item item col-1",key:t.id},v.a.createElement("div",{className:"item__background",style:{backgroundImage:"url('".concat(t.url,"')")}}),v.a.createElement("button",{className:e.state.itemDeleteClasses,"data-assetid":t.id,title:"Delete",onClick:e.deleteClick},v.a.createElement(a,{className:"item__delete-icon"})))})))))}}]),a}(g.Component),ut=a(32),mt=a.n(ut),dt=a(40),pt=a(111),ft=a.n(pt),ht=a(431),bt=a(432),gt="CHART/TABLE",vt=[{name:"Столбцы",value:"CHART/BAR"},{name:"Круговая диаграмма",value:"CHART/PIE"},{name:"Кольцевая диаграмма",value:"CHART/DONUT"},{name:"Линии",value:"CHART/LINE"},{name:"Графики",value:"CHART/AREA"},{name:"Таблица",value:gt}],Et=function(){return v.a.createElement("div",{className:"spinner-container"},v.a.createElement("div",{className:"spinner-border",style:{width:"3rem",height:"3rem"},role:"status"},v.a.createElement("span",{className:"sr-only"},"Loading...")))},yt=function(e){var t=e.text;return v.a.createElement("div",{className:"spinner-container"},v.a.createElement("div",{className:"spinner-container__text"},t||"Нет данных"))},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,a,n){return[t,0===n?"?":"&",a=encodeURIComponent(a),"=",encodeURIComponent(e[a])].join("")}),"")},wt=function(){var e=M()(P.a.mark((function e(t,a){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_t(a),e.prev=1,e.next=4,ft()(t+n);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{status:500});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}(),xt=function(e){var t,a=e.widget,n=e.width,r=void 0===n?300:n,l=e.height,i=void 0===l?300:l,o=Object(g.useState)(!1),s=mt()(o,2),c=s[0],u=s[1],m=Object(g.useState)([]),d=mt()(m,2),p=d[0],f=d[1],h=Object(g.useCallback)(M()(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,wt(a.source,a.filter);case 3:200===(t=e.sent).status&&(f(t.data.data),u(!1));case 5:case"end":return e.stop()}}),e)}))),[a]);if(Object(g.useEffect)((function(){h()}),[h]),c)return v.a.createElement(Et,null);if(0===p.length)return v.a.createElement(yt,null);var b=p.map((function(e,t){return v.a.createElement(dt.DiscreteLegendEntry,{key:t,className:"discrete__legend-item",label:"".concat(e.key," (").concat(e.data,")")})}));return v.a.createElement(v.a.Fragment,null,v.a.createElement(dt.BarChart,{height:i,width:r,data:p,series:v.a.createElement(dt.BarSeries,{colorScheme:a.options.colorScheme,bar:v.a.createElement(dt.Bar,{gradient:v.a.createElement(dt.Gradient,{stops:[v.a.createElement(dt.GradientStop,{stopOpacity:1})]})})})}),(null===(t=a.options)||void 0===t?void 0:t.legend)&&v.a.createElement(dt.DiscreteLegend,{className:"discrete__legend",orientation:a.options.legend,entries:b}))},kt=function(e){var t,a=e.widget,n=e.width,r=void 0===n?300:n,l=e.height,i=void 0===l?300:l,o=Object(g.useState)(!1),s=mt()(o,2),c=s[0],u=s[1],m=Object(g.useState)([]),d=mt()(m,2),p=d[0],f=d[1],h=Object(g.useCallback)(M()(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,wt(a.source,a.filter);case 3:200===(t=e.sent).status&&(f(t.data.data||[]),u(!1));case 5:case"end":return e.stop()}}),e)}))),[a]);if(Object(g.useEffect)((function(){h()}),[h]),c)return v.a.createElement(Et,null);if(!p||0===p.length)return v.a.createElement(yt,null);var b=p.map((function(e,t){return v.a.createElement(dt.DiscreteLegendEntry,{key:t,className:"discrete__legend-item",label:"".concat(e.key," (").concat(e.data,")")})}));return v.a.createElement(v.a.Fragment,null,v.a.createElement(dt.PieChart,{height:i,width:r,data:p||[],series:v.a.createElement(dt.PieArcSeries,{explode:a.options.explode,colorScheme:a.options.colorScheme,label:v.a.createElement(dt.PieArcLabel,{fontSize:12,fontFill:"#000000"})})}),(null===(t=a.options)||void 0===t?void 0:t.legend)&&v.a.createElement(dt.DiscreteLegend,{className:"discrete__legend",orientation:a.options.legend,entries:b}))},Nt=a(125),Ot=a(324),jt=a(323),Ct=function(){return v.a.createElement("div",{className:"spinner-container"},v.a.createElement("div",{className:"spinner-border",style:{width:"3rem",height:"3rem"},role:"status"},v.a.createElement("span",{className:"sr-only"},"Loading...")))},St=function(e){var t=e.widget,a=e.width,n=void 0===a?300:a,r=e.height,l=void 0===r?300:r,i=e.color,o=void 0===i?"#FFD51F":i,s=Object(g.useState)([]),c=mt()(s,2),u=c[0],m=c[1],d=Object(g.useState)(!1),p=mt()(d,2),f=p[0],h=p[1],b=Object(g.useCallback)(M()(P.a.mark((function e(){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,wt(t.source,t.filter);case 3:200===(a=e.sent).status&&"string"!=typeof a.data&&(n=a.data.data.map((function(e){var t=new Date(e.key);if(t)return{key:t,data:e.data}})),m(n),h(!1));case 5:case"end":return e.stop()}}),e)}))),[t]);return Object(g.useEffect)((function(){b()}),[b]),f?v.a.createElement(Ct,null):Array.isArray(u)&&0!==u.length?v.a.createElement(v.a.Fragment,null,v.a.createElement(dt.AreaChart,{height:l,width:n,data:u,xAxis:v.a.createElement(dt.LinearXAxis,{type:"time",tickSeries:v.a.createElement(dt.LinearXAxisTickSeries,{label:v.a.createElement(dt.LinearXAxisTickLabel,{format:function(e){var t=u.slice().shift(),a=u.slice().pop(),n=parseInt(Object(Ot.a)(t.key,a.key,{unit:"month"}));return n>=0&&n<=12?Object(Nt.default)(e,"d LLL",{locale:jt.a}):Object(Nt.default)(e,"d MMM yy",{locale:jt.a})}})})}),series:v.a.createElement(dt.AreaSeries,{type:t.options.type||"standard",markLine:v.a.createElement(dt.MarkLine,{strokeWidth:0}),line:v.a.createElement(dt.Line,{strokeWidth:0}),area:v.a.createElement(dt.Area,{gradient:v.a.createElement(dt.Gradient,{color:o,stops:[v.a.createElement(dt.GradientStop,{color:o})]})})})})):v.a.createElement(yt,null)},Dt=function(e){var t=e.widget,a=e.width,n=void 0===a?300:a,r=e.height,l=void 0===r?300:r,i=e.strokeWidth,o=void 0===i?3:i,s=Object(g.useState)(!1),c=mt()(s,2),u=c[0],m=c[1],d=Object(g.useState)([]),p=mt()(d,2),f=p[0],h=p[1],b=Object(g.useCallback)(M()(P.a.mark((function e(){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,wt(t.source,t.filter);case 3:200===(a=e.sent).status&&(n=a.data.data.map((function(e){var t=new Date(e.key);if(t)return{key:t,data:e.data}})),h(n),m(!1));case 5:case"end":return e.stop()}}),e)}))),[t]);return Object(g.useEffect)((function(){b()}),[b]),u?v.a.createElement(Et,null):0===f.length?v.a.createElement(yt,null):v.a.createElement(v.a.Fragment,null,v.a.createElement(dt.LineChart,{height:l,width:n,data:f,xAxis:v.a.createElement(dt.LinearXAxis,{type:"time",tickSeries:v.a.createElement(dt.LinearXAxisTickSeries,{label:v.a.createElement(dt.LinearXAxisTickLabel,{format:function(e){var t=f.slice().shift(),a=f.slice().pop(),n=parseInt(Object(Ot.a)(t.key,a.key,{unit:"month"}));return n>=0&&n<=12?Object(Nt.default)(e,"d MMM",{locale:jt.a}):Object(Nt.default)(e,"d MMM yy",{locale:jt.a})}})})}),series:v.a.createElement(dt.LineSeries,{line:v.a.createElement(dt.Line,{strokeWidth:o}),colorScheme:t.colorScheme})}))},Rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc";return function(a,n){if(!a.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var r="string"==typeof a[e]?a[e].toUpperCase():a[e],l="string"==typeof n[e]?n[e].toUpperCase():n[e],i=0;return r>l?i=1:r<l&&(i=-1),"desc"===t?-1*i:i}},Pt=function(e){var t=e.widget,a=Object(g.useState)([]),n=mt()(a,2),r=n[0],l=n[1],i=Object(g.useState)(!1),o=mt()(i,2),s=o[0],c=o[1],u=Object(g.useCallback)(M()(P.a.mark((function e(){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,wt(t.source,t.filter);case 3:200===(a=e.sent).status&&(l(a.data.data.sort(Rt("data"))),c(!1));case 5:case"end":return e.stop()}}),e)}))),[t]),m=Object(g.useMemo)((function(){return r.reduce((function(e,t){return e+t.data}),0)}),[r]);return Object(g.useEffect)((function(){u()}),[u]),s?v.a.createElement(Et,null):0===r.length?v.a.createElement(yt,null):t.options.isVertical?v.a.createElement("div",{className:"widget-table"},v.a.createElement("table",{className:"vertical-table"},v.a.createElement("tbody",null,r.map((function(e,t){return v.a.createElement("tr",{key:t},v.a.createElement("td",null,e.key),v.a.createElement("td",null,e.data))})),v.a.createElement("tr",null,v.a.createElement("td",null,"ИТОГО"),v.a.createElement("td",null,m))))):v.a.createElement("div",{className:"widget-table"},v.a.createElement("table",null,v.a.createElement("thead",null,v.a.createElement("tr",null,r.map((function(e,t){return v.a.createElement("th",{key:t},e.key)})),v.a.createElement("th",null,"ИТОГО"))),v.a.createElement("tbody",null,v.a.createElement("tr",null,r.map((function(e,t){return v.a.createElement("td",{key:t},e.data)})),v.a.createElement("td",null,m)))))},At=function(e){var t,a=e.widget,n=e.width,r=void 0===n?300:n,l=e.height,i=void 0===l?300:l,o=Object(g.useState)([]),s=mt()(o,2),c=s[0],u=s[1],m=Object(g.useState)(!1),d=mt()(m,2),p=d[0],f=d[1],h=Object(g.useCallback)(M()(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,wt(a.source,a.filter);case 3:200===(t=e.sent).status&&(u(t.data.data),f(!1));case 5:case"end":return e.stop()}}),e)}))),[a]);if(Object(g.useEffect)((function(){h()}),[h]),p)return v.a.createElement(Et,null);if(0===c.length)return v.a.createElement(yt,null);var b=c.map((function(e,t){return v.a.createElement(dt.DiscreteLegendEntry,{key:t,className:"discrete__legend-item",label:"".concat(e.key," (").concat(e.data,")")})}));return v.a.createElement(v.a.Fragment,null,v.a.createElement(dt.PieChart,{height:i,width:r,data:c,series:v.a.createElement(dt.PieArcSeries,{doughnut:!0,colorScheme:a.options.colorScheme,label:v.a.createElement(dt.PieArcLabel,{fontSize:12,fontFill:"#000000"})})}),(null===(t=a.options)||void 0===t?void 0:t.legend)&&v.a.createElement(dt.DiscreteLegend,{className:"discrete__legend",orientation:a.options.legend,entries:b}))},Mt=function(e){var t=e.widget,a=e.width,n=void 0===a?360:a,r=e.height,l=void 0===r?300:r;switch(t.type){case"CHART/BAR":return v.a.createElement(xt,{width:n,height:l,widget:t});case"CHART/PIE":return v.a.createElement(kt,{width:n,height:l,widget:t});case"CHART/DONUT":return v.a.createElement(At,{width:n,height:l,widget:t});case"CHART/LINE":return v.a.createElement(Dt,{width:n,height:l,widget:t});case gt:return v.a.createElement(Pt,{width:n,height:l,widget:t});case"CHART/AREA":return v.a.createElement(St,{width:n,height:l,widget:t});default:return v.a.createElement(v.a.Fragment,null)}},Tt=a(114),Ft=a(166),Ht=a(321),zt=a(319),qt=a(326),Lt=[{name:"Информация о шаблонах",url:"/admin/ajax/analytics"},{name:"Пустые данные",url:"/admin/ajax/analytics/none"}];function Vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function It(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ut=function(e){var t=e.diagram,a=e.onSave,n=e.show,r=e.setShow,l=Object(g.useState)(t),i=mt()(l,2),o=i[0],s=i[1];return v.a.createElement(zt.a,{show:n,onHide:function(){return r(!1)},animation:!1,size:"lg",centered:!0},v.a.createElement(zt.a.Header,{closeButton:!0},v.a.createElement(zt.a.Title,null,"Редактировать виджет #",o.id)),v.a.createElement(zt.a.Body,null,v.a.createElement(Ft.a,null,v.a.createElement(Tt.a,null,v.a.createElement(Ht.a,null,v.a.createElement(Ht.a.Group,{controlId:"formGroupEmail"},v.a.createElement(Ht.a.Label,null,"Название виджета"),v.a.createElement(Ht.a.Control,{type:"text",value:o.name,onChange:function(e){return s(It(It({},o),{},{name:e.target.value}))},required:!0})),v.a.createElement(Ht.a.Group,null,v.a.createElement(Ht.a.Label,null,"Тип виджета"),v.a.createElement(Ht.a.Control,{as:"select",custom:!0,value:o.type,onChange:function(e){return s(It(It({},o),{},{type:e.target.value}))}},vt.map((function(e,t){var a=e.name,n=e.value;return v.a.createElement("option",{key:t,value:n},a)})))),v.a.createElement(Ht.a.Group,null,v.a.createElement(Ht.a.Label,null,"Цветовая схема"),v.a.createElement(Ht.a.Control,{as:"select",custom:!0,value:o.options.colorScheme,onChange:function(e){return s(It(It({},o),{},{options:It(It({},o.options),{},{colorScheme:e.target.value})}))}},Object.keys(dt.schemes).map((function(e,t){return v.a.createElement("option",{key:t},e)})))),v.a.createElement(Ht.a.Group,null,v.a.createElement(Ht.a.Label,null,"Источник данных"),v.a.createElement(Ht.a.Control,{as:"select",custom:!0,value:o.source,onChange:function(e){return s(It(It({},o),{},{source:e.target.value}))},required:!0},v.a.createElement("option",{value:""},"Выберите источник"),Lt.map((function(e,t){var a=e.name,n=e.url;return v.a.createElement("option",{key:t,value:n},a)})))),o.type===gt&&v.a.createElement(Ht.a.Group,null,v.a.createElement(Ht.a.Check,{type:"checkbox",checked:o.options.isVertical,label:"Вертикальная таблица",onChange:function(e){return s(It(It({},o),{},{options:It(It({},o.options),{},{isVertical:e.target.checked})}))}})))),v.a.createElement(Tt.a,null,v.a.createElement(Ft.a,null,v.a.createElement("div",{className:"widget-placeholder"},o&&v.a.createElement(Mt,{widget:o,width:400})))))),v.a.createElement(zt.a.Footer,null,v.a.createElement(qt.a,{variant:"secondary",onClick:function(){return r(!1)}},"Закрыть"),v.a.createElement(qt.a,{variant:"warning",onClick:function(){a(o),r(!1)},disabled:""===o.name},"Сохранить изменения")))};function Bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Gt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Kt=function(e){var t,a=e.show,n=e.setShow,r=e.onSave,l=Object(g.useState)({name:"",source:"",type:gt,options:{colorScheme:"Set1"}}),i=mt()(l,2),o=i[0],s=i[1];return v.a.createElement(zt.a,{show:a,onHide:function(){return n(!1)},animation:!1,size:"lg",centered:!0},v.a.createElement(zt.a.Header,{closeButton:!0},v.a.createElement(zt.a.Title,null,"Добавить виджет")),v.a.createElement(zt.a.Body,null,v.a.createElement(Ft.a,null,v.a.createElement(Tt.a,null,v.a.createElement(Ht.a,null,v.a.createElement(Ht.a.Group,{controlId:"formGroupEmail"},v.a.createElement(Ht.a.Label,null,"Название виджета"),v.a.createElement(Ht.a.Control,{type:"text",value:o.name,onChange:function(e){return s(Gt(Gt({},o),{},{name:e.target.value}))},required:!0})),v.a.createElement(Ht.a.Group,null,v.a.createElement(Ht.a.Label,null,"Тип виджета"),v.a.createElement(Ht.a.Control,{as:"select",custom:!0,value:o.type,onChange:function(e){return s(Gt(Gt({},o),{},{type:e.target.value}))}},vt.map((function(e,t){var a=e.name,n=e.value;return v.a.createElement("option",{key:t,value:n},a)})))),v.a.createElement(Ht.a.Group,null,v.a.createElement(Ht.a.Label,null,"Цветовая схема"),v.a.createElement(Ht.a.Control,{as:"select",custom:!0,value:o.options.colorScheme,onChange:function(e){return s(Gt(Gt({},o),{},{options:Gt(Gt({},o.options),{},{colorScheme:e.target.value})}))}},Object.keys(dt.schemes).map((function(e,t){return v.a.createElement("option",{key:t},e)})))),v.a.createElement(Ht.a.Group,null,v.a.createElement(Ht.a.Label,null,"Источник данных"),v.a.createElement(Ht.a.Control,{as:"select",custom:!0,value:o.source,onChange:function(e){return s(Gt(Gt({},o),{},{source:e.target.value}))},required:!0},v.a.createElement("option",{value:""},"Выберите источник"),Lt.map((function(e,t){var a=e.name,n=e.url;return v.a.createElement("option",{key:t,value:n},a)})))),o.type===gt&&v.a.createElement(Ht.a.Group,null,v.a.createElement(Ht.a.Check,{type:"checkbox",checked:null===(t=o.options)||void 0===t?void 0:t.isVertical,label:"Вертикальная таблица",onChange:function(e){return s(Gt(Gt({},o),{},{options:Gt(Gt({},o.options),{},{isVertical:e.target.checked})}))}})))),v.a.createElement(Tt.a,null,v.a.createElement(Ft.a,null,v.a.createElement("div",{className:"widget-placeholder"},o.source&&v.a.createElement(Mt,{widget:o,width:400})))))),v.a.createElement(zt.a.Footer,null,v.a.createElement(qt.a,{variant:"secondary",onClick:function(){return n(!1)}},"Закрыть"),v.a.createElement(qt.a,{variant:"warning",onClick:function(){n(!1),r(o)},disabled:""===o.name},"Сохранить изменения")))};function Yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Jt=function(){var e=Object(g.useState)([]),t=mt()(e,2),a=t[0],n=t[1],r=Object(g.useState)(!1),l=mt()(r,2),i=l[0],o=l[1],s=Object(g.useState)(!1),c=mt()(s,2),u=c[0],m=c[1],d=Object(g.useState)({}),p=mt()(d,2),f=p[0],h=p[1],b=function(){var e=M()(P.a.mark((function e(t){var r,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={title:t.name,settings:JSON.stringify(Qt({},t))},e.next=3,ft.a.post("/admin/ajax/diagrams",r);case 3:200===(l=e.sent).status&&"string"!=typeof l.data&&n([].concat(lt()(a),[Qt(Qt({},t),{},{id:l.data.id})]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=Object(g.useCallback)(M()(P.a.mark((function e(){var t,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft()("/admin/ajax/diagrams");case 2:200===(t=e.sent).status&&"string"!=typeof t.data&&(a=t.data.map((function(e){var t=JSON.parse(e.settings);return Qt({id:e.id},t)})),n(a));case 4:case"end":return e.stop()}}),e)}))),[n]);return Object(g.useEffect)((function(){E()}),[E]),v.a.createElement("div",{className:"admin-templates admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement("a",{className:"admin-breadcrumbs__link",href:"#"},"Analytics")),v.a.createElement("button",{onClick:function(){return m(!0)},className:"btn"},"Add Widget")),v.a.createElement("div",{className:"admin-content"},v.a.createElement("div",{className:"charts"},a.map((function(e){return v.a.createElement("div",{key:e.id,className:"card",style:{width:e.width}},v.a.createElement("div",{className:"card-header"},v.a.createElement("div",{className:"card-header__name"},e.name),v.a.createElement("div",{className:"card-header__buttons d-print-none"},v.a.createElement("button",{className:"d-none d-sm-inline-block",type:"button",title:"Настроить виджет",onClick:function(){return function(e){h(e),o(!0)}(e)}},v.a.createElement(ht.a,{color:"#8E94AA"})),v.a.createElement("button",{className:"d-none d-sm-inline-block",type:"button",title:"Удалить виджет",onClick:function(){return t=e.id,r=a.findIndex((function(e){return e.id===t})),n(a.filter((function(e,t){return t!==r?e:null}))),void ft.a.delete("/admin/ajax/diagrams/"+t);var t,r}},v.a.createElement(bt.a,{color:"#8E94AA"})))),v.a.createElement("div",{className:"card-body"},v.a.createElement(Mt,{widget:e,width:360})))}))),i&&v.a.createElement(Ut,{show:i,setShow:o,diagram:f,onSave:function(e){var t=a.findIndex((function(t){return t.id===e.id}));n(a.map((function(a,n){return t===n?e:a})));var r={title:e.name,settings:JSON.stringify(Qt({},e))};ft.a.put("/admin/ajax/diagrams/"+e.id,r)}}),u&&v.a.createElement(Kt,{show:u,setShow:m,onSave:b})))};function $t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Wt=function(e){d()(a,e);var t=$t(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){return v.a.createElement("div",null,"Plugins")}}]),a}(g.Component),Xt=a(33);var Zt=function(){var e=Object(E.c)(),t=Object(g.useState)([]),a=mt()(t,2),n=a[0],r=a[1],l=[{name:"id",title:"ID"},{name:"name",title:"Name",url:!0,target:"_blank"},{name:"description",title:"Description"},{name:"updated_at",title:"Updated At"},{name:"preview",title:"Preview",is_button:!0,button:{class:"",function:function(e){window.open(e.preview,"_blank")},title:"Preview"}}],i=function(){var e=M()(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft()("/admin/ajax/reports");case 2:200===(t=e.sent).status&&"string"!=typeof t.data&&r(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.useEffect)((function(){i()}),[]),v.a.createElement("div",{className:"admin-tables admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement("a",{className:"admin-breadcrumbs__link",href:"#"},"Reports"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"All Reports")),v.a.createElement("button",{onClick:function(){var t={title:"Add New Report",submitButton:"Add",active:!0,submit:function(e){return ft.a.post("/admin/ajax/reports",e)},fields:[{name:"name",label:"Report Name",required:!0},{name:"description",label:"Description",required:!0}],success:function(t){r([].concat(lt()(n),[t.data])),e(Object(Xt.d)())}};e(Object(Xt.c)(t))},className:"btn"},"Add New"),v.a.createElement("div",{className:"admin-filters"},v.a.createElement("span",{className:"admin-filters__current"},"All (",n.length||"0",")"))),v.a.createElement("div",{className:"admin-content"},n.length>0&&v.a.createElement(z,{columns:l,rows:n})))};function ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ta=function(e){d()(n,e);var t,a=ea(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).state={editUrl:"/admin/tables",tag:"Link",modules:[],columns:[{name:"title",title:"Title",url:!0,editUrl:!0,tag:"Link"},{name:"name",title:"Name",url:!0,editUrl:!0,tag:"Link"},{name:"description",title:"Description"},{name:"setting",title:"Setting",url:!0},{name:"updated_at",title:"Updated At"}]},t.resource=new F.a({route:"/admin/ajax/tables"}),t}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.resource.getAll().then((function(e){t.setModules(e)}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setModules",value:function(e){console.log(e);var t=e.map((function(e){return e.editUrl="/admin/tables/edit/"+e.id,e}));console.log(t),this.setState((function(e){return{modules:t}}))}},{key:"render",value:function(){return v.a.createElement("div",{className:"admin-tables admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement("a",{className:"admin-breadcrumbs__link",href:"#"},"Tables"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"All Tables")),v.a.createElement(T.b,{className:"btn",to:"/admin/tables/add"},"Add New"),v.a.createElement("div",{className:"admin-filters"},v.a.createElement("span",{className:"admin-filters__current"},"All (",this.state.modules.length||"0",")"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement(z,{columns:this.state.columns,rows:this.state.modules})))}}]),n}(g.Component),aa=(a(167),function(e){e.styles;var t=k()(e,["styles"]);return v.a.createElement("svg",w()({width:"7",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),v.a.createElement("path",{d:"M1 8.5L5 5 1 1",stroke:"#343B4C",strokeWidth:"1.5"}))});a(433);function na(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ra=function(e){d()(a,e);var t=na(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).state={currentPage:1},n}return s()(a,[{key:"setCurrentPage",value:function(e){return(e=parseInt(e)||1)<=1?(this.setState({currentPage:1}),void this.props.changePage(1)):e>=this.props.pageCount?(this.setState({currentPage:this.props.pageCount}),void this.props.changePage(this.props.pageCount)):(this.setState({currentPage:e}),void this.props.changePage(e))}},{key:"componentDidUpdate",value:function(){this.state.currentPage>this.props.pageCount&&this.setCurrentPage(this.props.currentPage||this.props.pageCount)}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{className:"pagination"},v.a.createElement("div",{className:"version"},v.a.createElement("p",{className:"pagination__version"},"Version ",altrp_version," ")),v.a.createElement("div",{className:"pagination__buttons"},v.a.createElement("p",{className:"pagination__text"},this.props.itemsCount," Items"),v.a.createElement("div",{className:this.state.currentPage<=1?" pagination__disabled pagination__toStart pagination__move":"pagination__move pagination__toStart",onClick:function(){return e.setCurrentPage(1)}},v.a.createElement(aa,{className:"right__arrow"}),v.a.createElement(aa,{className:"right__arrow"})),v.a.createElement("div",{className:this.state.currentPage<=1?"pagination__disabled pagination__prev pagination__move":"pagination__move pagination__prev",onClick:function(){return e.setCurrentPage(--e.state.currentPage)}},v.a.createElement(aa,{className:"right__arrow"})," "),v.a.createElement("input",{type:"text",className:"pagination__indicator",value:this.state.currentPage||1,onChange:function(t){return e.setCurrentPage(t.target.value.replace(/[^0-9]/g,"")||1)}}),v.a.createElement("div",{className:"pagination__map"},"of ",this.props.pageCount),v.a.createElement("div",{className:this.state.currentPage>=this.props.pageCount?"pagination__disabled pagination__next pagination__move":"pagination__move pagination__next",onClick:function(){e.setCurrentPage(++e.state.currentPage)}}," ",v.a.createElement(aa,null)," "),v.a.createElement("div",{className:this.state.currentPage>=this.props.pageCount?"pagination__disabled pagination__move":"pagination__move",onClick:function(){return e.setCurrentPage(e.props.pageCount)}},v.a.createElement(aa,null)," ",v.a.createElement(aa,null))))}}]),a}(g.Component);function la(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ia(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?la(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):la(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function oa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var sa=function(e){d()(n,e);var t,a=oa(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).state={templates:[],allTemplates:[],templateAreas:[],activeTemplateArea:{},pageCount:1,currentPage:1},t.resource=new F.a({route:"/admin/ajax/templates"}),t.templateTypesResource=new F.a({route:"/admin/ajax/areas"}),t.onClick=t.onClick.bind(u()(t)),t.changePage=t.changePage.bind(u()(t)),t.changeActiveArea=t.changeActiveArea.bind(u()(t)),t.generateTemplateJSON=t.generateTemplateJSON.bind(u()(t)),t}return s()(n,[{key:"changeActiveArea",value:function(e){var t=parseInt(e.target.dataset.area),a={};this.state.templateAreas.forEach((function(e){e.id===t&&(a=e)})),this.setActiveArea(a)}},{key:"changePage",value:function(e){this.updateTemplates(e,this.state.activeTemplateArea),this.setState((function(t){return ia(ia({},t),{},{currentPage:e})}))}},{key:"setActiveArea",value:function(e){this.updateTemplates(1,e),this.setState((function(t){return ia(ia({},t),{},{activeTemplateArea:e})}))}},{key:"updateTemplates",value:function(e,t){var a=this;this.resource.getQueried({area:t.name,page:e,pageSize:10}).then((function(e){a.setState((function(t){return ia(ia({},t),{},{pageCount:e.pageCount,templates:e.templates})}))}))}},{key:"generateTemplateJSON",value:function(e){var t=ae(JSON.parse(e.data)),a=JSON.stringify({template_area:this.state.activeTemplateArea.name,data:t});return console.log(JSON.parse(a)),a}},{key:"downloadJSONFile",value:function(e){var t=document.createElement("a"),a=new Blob([this.generateTemplateJSON(e)],{type:"text/plain"});t.href=URL.createObjectURL(a),t.download="".concat(e.name,".json"),document.body.appendChild(t),t.click()}},{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.templateTypesResource.getAll();case 2:t=e.sent,this.setActiveArea(t[0]),this.setState((function(e){return ia(ia({},e),{},{templateAreas:t})})),this.updateTemplates(this.state.currentPage,this.state.activeTemplateArea);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onClick",value:function(){var e={title:"Add New Template",submitButton:"Add",submit:function(e){var t={name:e.title,title:e.title,area:e.area,data:{children:[],id:"_"+Math.random().toString(36).substr(2,9),name:"root-element",settings:{},type:"root-element"}};return new F.a({route:"/admin/ajax/templates"}).post(t)},fields:[{name:"title",label:"Template Name",required:!0},{name:"area",label:"Area Name",required:!0,type:"select",options:this.getAreasOptions(),defaultValue:this.state.activeTemplateArea.id}],success:function(e){e.redirect&&e.url&&$(e.url)},active:!0};G.a.dispatch(Object(Xt.c)(e))}},{key:"getAreasOptions",value:function(){return this.state.templateAreas}},{key:"setTemplates",value:function(e){var t=this,a=e;e=e.filter((function(e){return e.area===t.state.activeTemplateArea.name})),this.setState((function(t){return ia(ia({},t),{},{templates:e,allTemplates:a})}))}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{className:"admin-templates admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement("a",{className:"admin-breadcrumbs__link",href:"#"},"Templates"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"All Templates")),v.a.createElement("button",{onClick:this.onClick,className:"btn"},"Add New"),v.a.createElement("div",{className:"admin-filters"},v.a.createElement("span",{className:"admin-filters__current"},"All (",this.state.allTemplates.length||"",")"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement("ul",{className:"nav nav-pills admin-pills"},this.state.templateAreas.map((function(t){var a=["nav-link"];return e.state.activeTemplateArea.name===t.name&&a.push("active"),v.a.createElement("li",{className:"nav-item",key:t.id},v.a.createElement("button",{className:a.join(" "),onClick:e.changeActiveArea,"data-area":t.id},t.title))}))),v.a.createElement(z,{columns:[{name:"title",title:"Title",url:!0,target:"_blank"},{name:"author",title:"Author"}],rows:this.state.templates,quickActions:[{tag:"a",props:{href:"/admin/editor?template_id=:id",target:"_blank"},title:"Edit"},{tag:"button",route:"/admin/ajax/templates/:id/reviews",method:"delete",title:"Clear History"},{tag:"button",route:"/admin/ajax/templates",method:"get",after:function(t){return e.downloadJSONFile(t)},title:"Export"},{tag:"button",route:"/admin/ajax/templates/:id",method:"delete",confirm:"Are You Sure?",after:function(){return e.updateTemplates(e.state.currentPage,e.state.activeTemplateArea)},className:"quick-action-menu__item_danger",title:"Trash"}]}),v.a.createElement(ra,{pageCount:this.state.pageCount||1,currentPage:this.state.currentPage,changePage:this.changePage,itemsCount:this.state.templates.length})))}}]),n}(g.Component),ca=function(e){e.styles;var t=k()(e,["styles"]);return v.a.createElement("svg",w()({width:"10",height:"11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),v.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.583 5.354L9.23 1.707 8.523 1 4.9 4.622 1.753 1.024 1 1.683l3.212 3.67L1 9.025l.753.659L4.9 6.085l3.622 3.622L9.23 9 5.583 5.354z",fill:"#343B4C"}),v.a.createElement("path",{d:"M9.23 1.707l.177.177.176-.177-.176-.177-.177.177zM5.583 5.354l-.176-.177-.177.177.177.176.176-.176zM8.523 1L8.7.823 8.523.646l-.177.177.177.177zM4.9 4.622l-.188.165.175.2.19-.188-.177-.177zM1.753 1.024L1.94.86 1.776.672l-.188.164.165.188zM1 1.683l-.165-.188-.188.164.165.188L1 1.683zm3.212 3.67l.188.165.144-.164-.144-.165-.188.165zM1 9.025L.812 8.86l-.165.188.188.164L1 9.024zm.753.659l-.165.188.188.165.165-.189-.188-.164zM4.9 6.085l.176-.177-.189-.189-.175.201.188.165zm3.622 3.622l-.177.177.177.177.177-.177-.177-.177zM9.23 9l.177.177L9.583 9l-.176-.177L9.23 9zm-.177-7.47L5.407 5.177l.353.353 3.647-3.646-.354-.354zm-.707-.353l.707.707.354-.354L8.7.823l-.354.354zM5.077 4.799L8.7 1.177 8.346.823 4.724 4.445l.353.354zm-3.513-3.61l3.149 3.598.376-.33L1.94.86l-.377.329zm-.4.682l.753-.659-.33-.376-.752.659.33.376zM4.4 5.189l-3.212-3.67-.376.328 3.212 3.671.376-.33zm-.376 0L.812 8.859l.376.33L4.4 5.519l-.376-.33zM.835 9.212l.753.659.33-.376-.753-.659-.33.376zm1.106.635L5.089 6.25l-.377-.33-3.148 3.598.377.33zm2.783-3.585l3.622 3.622.354-.354-3.623-3.622-.353.354zM8.7 9.884l.707-.707-.354-.354-.707.707.354.354zm.707-1.06L5.76 5.176l-.353.353 3.646 3.647.354-.354z",fill:"#000"}))};function ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ma(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ua(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function da(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var pa=function(e){d()(a,e);var t=da(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).toggleModal=n.toggleModal.bind(u()(n)),n.changeValue=n.changeValue.bind(u()(n)),n.storeSubscribe=n.storeSubscribe.bind(u()(n)),n.submit=n.submit.bind(u()(n)),n.formData={},e.fields.forEach((function(e){e.defaultValue&&(n.formData[e.name]=e.defaultValue)})),n.state={errors:[]},G.a.subscribe(n.storeSubscribe),n}return s()(a,[{key:"storeSubscribe",value:function(){var e=this;G.a.getState().modalSettings.fields.forEach((function(t){t.defaultValue&&(e.formData[t.name]=t.defaultValue)}))}},{key:"submit",value:function(){var e=this,t=!0,a=this.props.fields.map((function(a){if(a.required&&!e.formData[a.name])return t=!1,a.errorMessage||"Need complete this field"}));t?this.props.submit(this.formData).then(this.props.success):this.setState((function(e){return ma(ma({},e),{},{errors:a})}))}},{key:"changeValue",value:function(e){var t=e.target;this.formData[t.dataset.field]=t.value;var a=lt()(this.state.errors);a[t.dataset.error]="",this.setState((function(e){return ma(ma({},e),{},{errors:a})}))}},{key:"toggleModal",value:function(){G.a.dispatch(Object(Xt.d)())}},{key:"render",value:function(){var e=this,t="admin-modal";return this.props.active&&(t+=" admin-modal_active"),v.a.createElement("div",{className:t},v.a.createElement("div",{className:"admin-modal__bg",onClick:this.toggleModal}),v.a.createElement("div",{className:"admin-modal-content"},v.a.createElement("button",{className:"admin-modal__close",onClick:this.toggleModal},v.a.createElement(ca,{className:"icon"})),v.a.createElement("div",{className:"admin-caption"},this.props.title),v.a.createElement("div",{className:"admin-modal-form form"},this.props.fields.map((function(t,a){return v.a.createElement("label",{className:"form-label","data-field":t.name,key:t.name},t.label,"select"!==t.type?v.a.createElement("input",{type:t.type||"text",className:"form__input","data-field":t.name,"data-error":a,defaultValue:t.defaultValue||"",onChange:e.changeValue}):v.a.createElement("select",{className:"form__input","data-field":t.name,"data-error":a,defaultValue:t.defaultValue||"",onChange:e.changeValue},v.a.createElement("option",{value:""}),t.options.map((function(e){return v.a.createElement("option",{key:e.id,value:e.id,children:e.title||e.name})}))),e.state.errors[a]?v.a.createElement("span",{className:"form-label__error"},e.state.errors[a]):"")})),v.a.createElement("div",{className:"form-bottom"},v.a.createElement("button",{className:"btn btn_success",onClick:this.submit},this.props.submitButton)))))}}]),a}(g.Component);var fa=Object(E.b)((function(e){return ma({},e.modalSettings)}))(pa);function ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ba=function(e){d()(a,e);var t=ha(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.closeHandler,a=e.children;return ReactDOM.createPortal(v.a.createElement("div",{className:"admin-modal admin-modal_active"},v.a.createElement("div",{className:"admin-modal__bg",onClick:t}),v.a.createElement("div",{className:"admin-modal-content"},v.a.createElement("button",{className:"admin-modal__close",onClick:t},v.a.createElement(ca,{className:"icon"})),a)),document.body)}}]),a}(g.Component);function ga(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function va(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ga(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ya=function(e){d()(n,e);var t,a=Ea(n);function n(){var e;i()(this,n);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state=va({source_id:"",alias:"",priority:100,parameters:"",dataSourceOptions:[]},e.props.dataSource),e.changeHandler=function(t){var a=t.target,n=a.value,l=a.name;e.setState(r()({},l,n))},e.submitHandler=function(t){t.preventDefault();var a=e.props.match.params.id,n=new F.a({route:"http://altrp.nz/admin/ajax/page_data_sources"}),r=va({},e.state);delete r.dataSourceOptions,e.props.dataSource?n.put(r.id,r):n.post(va({page_id:a},r)),e.props.updateHandler()},e}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t,a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new F.a({route:"http://altrp.nz/admin/ajax/data_sources"}),e.next=3,t.getAll();case 3:a=e.sent,n=a.data_sources,this.setState({dataSourceOptions:n});case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.source_id,a=e.alias,n=e.priority,r=e.parameters,l=e.dataSourceOptions;return v.a.createElement("form",{className:"admin-form",onSubmit:this.submitHandler},v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"source_id"},"Data Source"),v.a.createElement("select",{id:"source_id",name:"source_id",value:t,onChange:this.changeHandler,className:"form-control"},v.a.createElement("option",{value:""}),l.map((function(e){var t=e.id,a=e.name;return v.a.createElement("option",{value:t,key:t},a)})))),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"alias"},"Alias"),v.a.createElement("input",{type:"text",id:"alias",required:!0,name:"alias",value:a,onChange:this.changeHandler,className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"priority"},"Priority"),v.a.createElement("input",{type:"number",id:"priority",required:!0,name:"priority",value:n,onChange:this.changeHandler,className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",null,"Parameters",v.a.createElement("textarea",{name:"parameters",value:r,onChange:this.changeHandler,className:"form-control"}))),v.a.createElement("div",{className:"btn__wrapper"},v.a.createElement("button",{className:"btn btn_success",type:"submit"},"Add")))}}]),n}(g.Component),_a=Object(Re.g)(ya);function wa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Na=[{name:"source.name",title:"Datasource",url:!0},{name:"alias",title:"Alias"},{name:"priority",title:"Priority"},{name:"parameters",title:"Parameters"}],Oa=function(e){d()(l,e);var t,a,n=ka(l);function l(e){var t;return i()(this,l),(t=n.call(this,e)).getDataSources=M()(P.a.mark((function e(){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.match.params.id,e.next=3,t.dataSourceResource.get(a);case 3:n=e.sent,t.setState({dataSources:n}),t.setState({isModalOpened:!1,editingDataSource:null});case 6:case"end":return e.stop()}}),e)}))),t.editHandler=function(e){t.setState({editingDataSource:e,isModalOpened:!0})},t.state={page:{},value:{},redirectAfterSave:!1,templates:[],models:[],isModalOpened:!1,dataSources:[],editingDataSource:null},t.resource=new F.a({route:"/admin/ajax/pages"}),t.model_resource=new F.a({route:"/admin/ajax/models_options"}),t.templateResource=new F.a({route:"/admin/ajax/templates"}),t.dataSourceResource=new F.a({route:"/admin/ajax/page_data_sources/pages"}),t.savePage=t.savePage.bind(u()(t)),t}return s()(l,[{key:"componentDidMount",value:(a=M()(P.a.mark((function e(){var t,a,n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.templateResource.getOptions();case 2:return t=e.sent,this.setState((function(e){return xa(xa({},e),{},{templates:t})})),e.next=6,this.model_resource.getAll();case 6:if(a=e.sent,this.setState((function(e){return xa(xa({},e),{},{models:a})})),n=this.props.match.params.id,!(n=parseInt(n))){e.next=16;break}return this.getDataSources(),e.next=14,this.resource.get(n);case 14:r=e.sent,this.setState((function(e){return xa(xa({},e),{},{value:r,id:n})}));case 16:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"savePage",value:(t=M()(P.a.mark((function e(t){var a,n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n="/"!==(n=(n=this.state.value.path).split("\\").join("/"))[0]?"/".concat(n):n,(r=((r=this.state.value.redirect)||"").split("\\").join("/"))&&(r="/"!==r[0]?"/".concat(r):r),this.state.value.redirect=r,this.state.value.path=n,!this.state.id){e.next=15;break}return e.next=12,this.resource.put(this.state.id,this.state.value);case 12:a=e.sent,e.next=18;break;case 15:return e.next=17,this.resource.post(this.state.value);case 17:a=e.sent;case 18:a.success?this.setState((function(e){return xa(xa({},e),{},{redirectAfterSave:!0})})):this.setState((function(e){return xa(xa({},e),{},{value:{}})}));case 19:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"changeValue",value:function(e,t){"path"===t&&(e="/"!==(e=e.split("\\").join("/"))[0]?"/".concat(e):e),"redirect"===t&&(e=e.split("\\").join("/"))&&(e="/"!==e[0]?"/".concat(e):e),this.setState((function(a){return(a=xa({},a)).value[t]=e,a}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isModalOpened,n=t.editingDataSource;if(this.state.redirectAfterSave)return v.a.createElement(Re.a,{to:"/admin/pages"});var l=this.state.dataSources;return l=_.sortBy(l,(function(e){return e.priority})),v.a.createElement("div",{className:"admin-pages admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/pages"},"Pages"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},this.state.value.title||"Add New Page"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement("form",r()({className:"admin-form",onSubmit:this.savePage},"className","mb-2"),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-title"},"Title"),v.a.createElement("input",{type:"text",id:"page-title",required:1,value:this.state.value.title||"",onChange:function(t){e.changeValue(t.target.value,"title")},className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-path"},"Path"),v.a.createElement("input",{type:"text",id:"page-path",required:1,value:this.state.value.path||"",onChange:function(t){e.changeValue(t.target.value,"path")},className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-model"},"Model"),v.a.createElement("select",{id:"page-model",value:this.state.value.model_id||"",onChange:function(t){e.changeValue(t.target.value,"model_id")},className:"form-control"},v.a.createElement("option",{value:""}),this.state.models.map((function(e){return v.a.createElement("option",{value:e.value,key:e.value},e.label)})))),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-roles"},"Roles"),v.a.createElement(Ge,{id:"page-roles",isMulti:!0,optionsRoute:"/admin/ajax/role_options",placeholder:"All",defaultOptions:[{value:"guest",label:"Guest"}],value:this.state.value.roles,onChange:function(t){e.changeValue(t,"roles")}})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"redirect"},"Redirect"),v.a.createElement("input",{type:"text",id:"redirect",value:this.state.value.redirect||"",onChange:function(t){e.changeValue(t.target.value,"redirect")},className:"form-control"})),v.a.createElement("button",{className:"btn btn_success"},this.state.id?"Save":"Add")),Boolean(l.length)&&v.a.createElement(z,{columns:Na,quickActions:[{callBack:function(t){return e.editHandler(t)},title:"Edit"},{tag:"button",route:"/admin/ajax/page_data_sources/:id",method:"delete",confirm:"Are You Sure?",after:function(){return e.getDataSources()},className:"quick-action-menu__item_danger",title:"Trash"}],rows:l.map((function(e){return xa({},e)}))}),this.props.match.params.id&&v.a.createElement("button",{onClick:function(){return e.setState({isModalOpened:!0})},className:"btn btn_add"},"Add Data Source"),a&&v.a.createElement(ba,{closeHandler:function(){return e.setState({isModalOpened:!1,editingDataSource:null})}},v.a.createElement(_a,{updateHandler:this.getDataSources,dataSource:n}))))}}]),l}(g.Component),ja=Object(Re.g)(Oa),Ca=function(e){e.styles;var t=k()(e,["styles"]);return v.a.createElement("svg",w()({width:"20",height:"22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),v.a.createElement("path",{d:"M10 22a2.75 2.75 0 002.749-2.75H7.25A2.75 2.75 0 0010 22zm9.255-6.433c-.83-.892-2.383-2.234-2.383-6.63 0-3.338-2.341-6.01-5.498-6.667v-.895a1.375 1.375 0 10-2.748 0v.895C5.469 2.926 3.128 5.6 3.128 8.938c0 4.395-1.553 5.737-2.383 6.63a1.343 1.343 0 00-.37.932 1.376 1.376 0 001.38 1.375h16.49c.822 0 1.376-.67 1.38-1.375a1.342 1.342 0 00-.37-.933z",fill:"#8E94AA"}))},Sa=function(e){e.styles;var t=k()(e,["styles"]);return v.a.createElement("svg",w()({width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),v.a.createElement("path",{d:"M11.625 13.5h-.75a.375.375 0 00-.375.375V16.5h-9v-15h9v2.625c0 .207.168.375.375.375h.75A.375.375 0 0012 4.125V1.5A1.5 1.5 0 0010.5 0h-9A1.5 1.5 0 000 1.5v15A1.5 1.5 0 001.5 18h9a1.5 1.5 0 001.5-1.5v-2.625a.375.375 0 00-.375-.375z",fill:"#8E94AA"}),v.a.createElement("path",{d:"M17.878 8.724l-4.5-4.125a.374.374 0 00-.628.276v.75c0 .106.045.208.124.279l2.607 2.346H4.875a.375.375 0 00-.375.375v.75c0 .208.168.375.375.375h10.606l-2.607 2.347a.375.375 0 00-.124.278v.75a.375.375 0 00.628.277l4.5-4.125a.374.374 0 000-.553z",fill:"#8E94AA"}))};function Da(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Ra=function(e){d()(a,e);var t=Da(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){return v.a.createElement("div",{className:"admin-user-top-panel top-panel d-flex align-items-center"},v.a.createElement("a",{href:"#",className:"top-panel-notification notification"},v.a.createElement(Ca,{className:"notification__icon"})),v.a.createElement(Ae,{className:"top-panel__portrait"}),v.a.createElement("div",{className:"top-panel__greeting"},"Hello, administrator"),v.a.createElement("button",{className:"top-panel-logout logout",onClick:X},v.a.createElement(Sa,{className:"logout__icon"})))}}]),a}(g.Component),Pa=a(127),Aa=a(51),Ma=a(36),Ta=a(435);var Fa={currentElement:{}};var Ha=a(71);function za(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?za(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):za(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var La={status:Ha.a.TEMPLATE_UPDATED};var Va={dragState:"STOP_DRAG"};var Ia=a(68);var Ua={currentElement:{}};function Ba(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ga(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ba(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ka={show:!1,params:{type:"text"},element:null,onSelect:function(e){console.log(e)}};function Ya(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Qa={value:"",controlId:""};function Ja(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ja(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Wa={};var Xa={currentTab:""};function Za(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function en(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Za(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var tn={title:"N",value:""};function an(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function nn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?an(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):an(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rn=Ha.a.SCREENS[0];var ln=a(330);var on={};var sn=a(328),cn=a(331),un=Object(Ma.combineReducers)({currentElement:function(e,t){switch(e=e||Fa,t.type){case"SET_CURRENT_ELEMENT":e={currentElement:t.element}}return e},currentContextElement:function(e,t){switch(e=e||Ua,t.type){case"SET_CURRENT_CONTEXT_ELEMENT":e={currentElement:t.element}}return e},templateStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TEMPLATE_STATUS":return qa(qa({},e),{},{status:t.status});default:return e}},elementDrag:function(e,t){if(!e)return Va;if(!t)return{dragState:"STOP_DRAG"};switch(t.type){case"STOP_DRAG":e={dragState:"STOP_DRAG",element:null};break;case"START_DRAG":e={dragState:"START_DRAG",element:t.element}}return e},assetsManagerSettings:Ia.a,dynamicContentState:function(e,t){switch(e=e||Ga({},Ka),t.type){case"SHOW_DYNAMIC_CONTENT":e={params:Ga({},t.params),element:t.element,show:!0};break;case"TOGGLE_DYNAMIC_CONTENT":e={params:Ga({},t.params),element:t.element,show:!e.show};break;case"HIDE_DYNAMIC_CONTENT":e=Ga({},Ka)}return e},controllerValue:function(e,t){switch(e=e||Qa,t.type){case"CONTROLLER_VALUE":e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ya(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.data)}return e},settingSectionMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_SECTION":var a=$a({},e);return a[t.elementName]=a[t.elementName]||{},a[t.elementName][t.tab]!==t.sectionID?a[t.elementName][t.tab]=t.sectionID:a[t.elementName][t.tab]=null,a;default:return e}},currentTab:function(e,t){switch(e=e||Xa,t.type){case"SET_CURRENT_TAB":e={currentTab:t.tab}}return e},currentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_STATE":e=en(en({},e),{},{title:t.title,value:t.value})}return e},currentScreen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_SCREEN":return e=nn({},t.screen);default:return e}},currentModel:ln.a,templateData:function(e,t){switch(e=e||on,t.type){case"SET_TEMPLATE_DATA":e=t.templateData}return e},currentUser:sn.a,currentDataStorage:cn.a});Object(Ma.createStore)(un,Object(Ta.composeWithDevTools)());a(436);function mn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function dn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var fn=function(e){d()(n,e);var t,a=pn(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).tabClick=t.tabClick.bind(u()(t)),t.toggleBrowser=t.toggleBrowser.bind(u()(t)),t.selectAsset=t.selectAsset.bind(u()(t)),t.chooseAsset=t.chooseAsset.bind(u()(t)),t.state={activeTab:"media",tabs:[{name:"icons",title:"Icons Library"},{name:"media",title:"Media Library"}],assets:t.getAssets("media"),selectedAsset:null,mediaAssets:[]},t.mediaResource=new F.a({route:"/admin/ajax/media"}),t}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.mediaResource.getAll();case 3:t=e.sent,this.setState((function(e){return"media"===(e=dn(dn({},e),{},{mediaAssets:t})).activeTab&&(e.assets=t),e})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return t.apply(this,arguments)})},{key:"getAssets",value:function(e){switch(e||(e=this.state.activeTab),e){case"icons":return window.iconsManager.getIconsList();case"media":return this.state?this.state.mediaAssets:[]}return[]}},{key:"selectAsset",value:function(e){var t=e.currentTarget.dataset.assetname;this.setState((function(e){return dn(dn({},e),{},{selectedAsset:t})}))}},{key:"tabClick",value:function(e){this.setActiveTab(e.target.dataset.tab)}},{key:"setActiveTab",value:function(e){var t=this;this.setState((function(a){return dn(dn({},a),{},{activeTab:e,assets:t.getAssets(e)})}))}},{key:"toggleBrowser",value:function(){this.setState((function(e){return dn(dn({},e),{},{selectedAsset:null})})),this.props.dispatch(Object(Aa.d)())}},{key:"chooseAsset",value:function(){var e,t=this;if(this.state.assets.forEach((function(a){a.name===t.state.selectedAsset&&(e=a)})),!e)throw"Asset with name ".concat(this.state.selectedAsset," not found in Assets Browser (").concat(this.state.activeTab,")!");this.props.onChoose(e),this.setState((function(e){return dn(dn({},e),{},{selectedAsset:null})})),this.props.dispatch(Object(Aa.d)())}},{key:"render",value:function(){var e=this,t="assets-browser";this.props.active&&(t+=" assets-browser_active");var a="btn";return this.state.selectedAsset?a+=" btn_success":a+=" btn_disabled",v.a.createElement("div",{className:t},v.a.createElement("div",{className:"assets-browser__bg",onClick:this.toggleBrowser}),v.a.createElement("div",{className:"assets-browser-content"},v.a.createElement("div",{className:"assets-browser-top"},v.a.createElement("div",{className:"caption"},"Append Media"),v.a.createElement("button",{className:"btn btn_bare assets-browser__close",onClick:this.toggleBrowser},v.a.createElement(Pa.a,{className:"icon"})),v.a.createElement("div",{className:"assets-browser-nav"},this.state.tabs.map((function(t){var a="assets-browser__tab";return e.state.activeTab===t.name&&(a+=" assets-browser__tab_active"),v.a.createElement("button",{className:a,onClick:e.tabClick,key:t.name,"data-tab":t.name},t.title)})))),this.state.assets.length?v.a.createElement("div",{className:"assets-browser-choose-frame"},this.state.assets.map((function(t){var a,n="asset-choose",r={className:"asset-choose__content"};return"icons"===e.state.activeTab&&(a=t.iconComponent,n+=" asset-choose_icon",r.width="20",r.height="20"),"media"===e.state.activeTab&&(a="img",r.src=t.url,n+=" asset-choose_media",t.name=t.filename,t.assetType="media"),e.state.selectedAsset===t.name&&(n+=" asset-choose_selected"),v.a.createElement("div",{className:n,"data-assetname":t.name,key:t.name,onClick:e.selectAsset},v.a.createElement(a,r))}))):"",v.a.createElement("div",{className:"assets-browser-bottom"},v.a.createElement("button",{className:a,onClick:this.chooseAsset},"Choose"))))}}]),n}(g.Component);var hn=Object(E.b)((function(e){return dn({},e.assetsManagerSettings)}))(fn);function bn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function gn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var En=[{name:"title",title:"Title",url:!0,editUrl:!0,tag:"Link"},{name:"name",title:"Name"},{name:"description",title:"Description"},{name:"updated_at",title:"Updated At"}],yn=[{name:"name",title:"Name",url:!0,editUrl:!0,tag:"Link"},{name:"model.title",title:"Model"},{name:"route",title:"Route"},{name:"type",title:"Type"}],_n=function(e){d()(n,e);var t,a=vn(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).getDataSources=function(){var e=M()(P.a.mark((function e(a){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dataSourcesResource.getQueried({page:t.state.dataSourcesCurrentPage,pageSize:t.itemsPerPage,preset:!1,s:a});case 2:n=e.sent,t.setState((function(e){return gn(gn({},e),{},{dataSources:n.data_sources,dataSourcesSearch:a,dataSourcesPageCount:n.pageCount})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getModels=function(){var e=M()(P.a.mark((function e(a){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.modelsResource.getQueried({page:t.state.modelsCurrentPage,pageSize:t.itemsPerPage,preset:!1,s:a});case 2:n=e.sent,t.setState((function(e){return gn(gn({},e),{},{models:n.models,modelsSearch:a,modelsPageCount:n.pageCount})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.changeSearchHandler=function(e){var a=e.target.value;t.getModels(a)},t.changeDataSourcesSearchHandler=function(e){var a=e.target.value;t.getDataSources(a)},t.state={activeTab:0,modelsCurrentPage:1,dataSourcesCurrentPage:1,models:[],modelsSearch:"",modelsPageCount:1,modelsCount:0,dataSources:[],dataSourcesSearch:"",dataSourcesPageCount:1,dataSourcesCount:0},t.switchTab=t.switchTab.bind(u()(t)),t.changePage=t.changePage.bind(u()(t)),t.modelsResource=new F.a({route:"/admin/ajax/models"}),t.dataSourcesResource=new F.a({route:"/admin/ajax/data_sources"}),t.itemsPerPage=10,t}return s()(n,[{key:"switchTab",value:function(e){this.setState((function(t){return gn(gn({},t),{},{activeTab:e})}))}},{key:"changePage",value:function(e,t){this.setState((function(a){return gn(gn({},a),{},r()({},t,gn(gn({},a[t]),{},{currentPage:e})))}))}},{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modelsResource.getAll();case 2:return t=e.sent,this.setState((function(e){return gn(gn({},e),{},{modelsCount:t.models.length})})),e.next=6,this.dataSourcesResource.getAll();case 6:a=e.sent,this.setState((function(e){return gn(gn({},e),{},{dataSourcesCount:a.data_sources.length})})),this.getModels(),this.getDataSources();case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.activeTab,n=t.models,r=t.dataSources,l=t.modelsCurrentPage,i=t.dataSourcesCurrentPage,o=t.modelsSearch,s=t.dataSourcesSearch,c=t.modelsPageCount,u=(t.dataSourcesPageCount,t.modelsCount);t.dataSourcesCount;return v.a.createElement("div",{className:"admin-settings admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement("a",{className:"admin-breadcrumbs__link",href:"#"},"Tables"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},0===a?"All Models":"All Data Sources")),v.a.createElement(T.b,{className:"btn",to:"/admin/tables/".concat(0===a?"models":"data-sources","/add")},"Add New")),v.a.createElement("div",{className:"admin-content"},v.a.createElement(U.d,{selectedIndex:a,onSelect:this.switchTab},v.a.createElement(U.b,{className:"nav nav-pills admin-pills"},v.a.createElement(U.a,null,"Models"),v.a.createElement(U.a,null,"Data Sources")),v.a.createElement(U.c,null,v.a.createElement(z,{columns:En,search:{value:o||"",changeHandler:this.changeSearchHandler},quickActions:[{tag:"Link",props:{href:"/admin/tables/models/edit/:id"},title:"Edit"},{tag:"button",route:"/admin/ajax/models/:id",method:"delete",confirm:"Are You Sure?",after:function(){e.getModels()},className:"quick-action-menu__item_danger",title:"Trash"}],rows:n.map((function(e){return gn(gn({},e),{},{editUrl:"/admin/tables/models/edit/"+e.id})}))}),v.a.createElement(ra,{pageCount:c||1,currentPage:l||1,changePage:function(t){e.state.modelsCurrentPage!==t&&e.setState({modelsCurrentPage:t},e.getModels)},itemsCount:u})),v.a.createElement(U.c,null,v.a.createElement(z,{columns:yn,search:{value:s||"",changeHandler:this.changeDataSourcesSearchHandler},rows:r.map((function(e){return gn(gn({},e),{},{editUrl:"/admin/tables/data-sources/edit/"+e.id})}))}),v.a.createElement(ra,{pageCount:Math.ceil(r.length/this.itemsPerPage),currentPage:i,changePage:function(t){return e.setState({dataSourcesCurrentPage:t})},itemsCount:r.length})))))}}]),n}(g.Component);function wn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Nn=function(e){d()(n,e);var t,a=kn(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).state={value:xn({},t.props.model)},t.submitHandler=t.submitHandler.bind(u()(t)),t.deleteHandler=t.deleteHandler.bind(u()(t)),t.titleChangeHandler=t.titleChangeHandler.bind(u()(t)),t}return s()(n,[{key:"changeValue",value:function(e,t){this.setState((function(a){return(a=xn({},a)).value[t]=e,a}))}},{key:"titleChangeHandler",value:function(e){e.persist(),this.setState((function(t){return xn(xn({},t),{},{value:xn(xn({},t.value),{},{title:e.target.value,name:te(e.target.value)})})}))}},{key:"componentDidUpdate",value:function(e){var t=this;this.props!==e&&this.setState((function(e){return(e=xn({},e)).value=xn({},t.props.model),e}))}},{key:"submitHandler",value:function(e){e.preventDefault(),_.isFunction(this.props.onSubmit)?(delete this.state.value.created_at,delete this.state.value.updated_at,this.props.onSubmit(this.state.value)):console.log(this.state.value)}},{key:"deleteHandler",value:(t=M()(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new F.a({route:"/admin/ajax/models"}).delete(this.props.model.id);case 2:e.sent,this.setState((function(e){return xn(xn({},e),{},{redirect:"/admin/tables/models/"})}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state.value;return this.state.redirect?v.a.createElement(Re.a,{to:this.state.redirect,push:!0}):v.a.createElement("form",{className:"admin-form row",onSubmit:this.submitHandler},v.a.createElement("div",{className:"form-group col-12"},v.a.createElement("label",{htmlFor:"page-title"},"Model Title"),v.a.createElement("input",{type:"text",id:"page-title",required:!0,value:t.title||"",onChange:this.titleChangeHandler,className:"form-control"})),v.a.createElement("div",{className:"form-group col-4"},v.a.createElement("label",{htmlFor:"page-name"},"Model Name"),v.a.createElement("input",{type:"text",id:"page-name",required:!0,value:t.name||"",onChange:function(t){e.changeValue(t.target.value,"name")},className:"form-control"})),v.a.createElement("div",{className:"form-group col-4"},v.a.createElement("label",{htmlFor:"page-description"},"Parent Model"),v.a.createElement("input",{type:"text",id:"page-description",value:t.parent_model_id||"",onChange:function(t){e.changeValue(t.target.value,"parent_model_id")},className:"form-control"})),v.a.createElement("div",{className:"form-group col-4"},v.a.createElement("label",{htmlFor:"page-description"},"Model Description"),v.a.createElement("input",{type:"text",id:"page-description",value:t.description||"",onChange:function(t){e.changeValue(t.target.value,"description")},className:"form-control"})),t.id?"":v.a.createElement("div",{className:"form-group col-12 "},v.a.createElement("label",{htmlFor:"model-table_id",className:"label_checkbox"},"Table"),v.a.createElement(Ge,{id:"model-table_id",defaultOptions:[{value:"",label:" "}],value:this.state.value.table_id||"",isDisabled:t.id,onChange:function(t){e.changeValue(t,"table_id")},optionsRoute:"/admin/ajax/tables/options"})),v.a.createElement("div",{className:"row col-12"},v.a.createElement("div",{className:"form-group col-6 form-check-inline"},v.a.createElement("input",{type:"checkbox",id:"page-soft_deletes",checked:t.soft_deletes,onChange:function(t){e.changeValue(t.target.checked,"soft_deletes")},className:"form-check-input form-check-input"}),v.a.createElement("label",{htmlFor:"page-soft_deletes",className:"label_checkbox"},"Soft Deletes")),v.a.createElement("div",{className:"form-group col-6 form-check-inline"},v.a.createElement("input",{type:"checkbox",id:"page-time_stamps",checked:t.time_stamps,onChange:function(t){e.changeValue(t.target.checked,"time_stamps")},className:"form-check-input form-check-input_inline"}),v.a.createElement("label",{htmlFor:"page-time_stamps",className:"label_checkbox"},"Time Stamps"))),v.a.createElement("div",{className:"btn__wrapper"},v.a.createElement("button",{className:"btn btn_success",type:"submit"},this.props.submitText),v.a.createElement(T.b,{to:"/admin/tables/models"},v.a.createElement("button",{className:"btn"},"Cancel")),this.props.edit?v.a.createElement("button",{className:"btn btn_failure",type:"button",onClick:this.deleteHandler},"Delete"):""))}}]),n}(g.Component);function On(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function jn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?On(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):On(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Sn=[{name:"title",title:"Title",url:!0,editUrl:!0,tag:"Link"},{name:"name",title:"Name"},{name:"description",title:"Description"}],Dn=function(e){d()(n,e);var t,a=Cn(n);function n(e){var t;i()(this,n),(t=a.call(this,e)).updateFields=M()(P.a.mark((function e(){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fieldsResource.getAll();case 2:a=(a=e.sent).filter((function(e){return"id"!==e.name})),t.setState((function(e){return jn(jn({},e),{},{fields:a})}));case 5:case"end":return e.stop()}}),e)}))),t.updateRelations=M()(P.a.mark((function e(){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.relationsResource.getAll();case 2:a=e.sent,t.setState((function(e){return jn(jn({},e),{},{relations:a})}));case 4:case"end":return e.stop()}}),e)}))),t.updateQueries=M()(P.a.mark((function e(){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.queriesResource.getAll();case 2:a=e.sent,t.setState((function(e){return jn(jn({},e),{},{queries:a})}));case 4:case"end":return e.stop()}}),e)}))),t.onSubmit=function(){var e=M()(P.a.mark((function e(a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.id){e.next=6;break}return e.next=3,t.modelsResource.put(t.state.id,a);case 3:e.sent,e.next=9;break;case 6:return e.next=8,t.modelsResource.post(a);case 8:e.sent;case 9:t.props.history.push("/admin/tables/models");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var r=t.props.match.params.id;return t.state={model:{name:"",title:"",description:"",bounded_model:"",soft_deletes:!1,time_stamps:!1},fields:null,relations:null,id:r,queries:[]},t.modelsResource=new F.a({route:"/admin/ajax/models"}),r&&(t.fieldsResource=new F.a({route:"/admin/ajax/models/".concat(r,"/fields")}),t.relationsResource=new F.a({route:"/admin/ajax/models/".concat(r,"/relations")}),t.queriesResource=new F.a({route:"/admin/ajax/models/".concat(r,"/queries")})),t}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t,a,n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.id){e.next=15;break}return e.next=3,this.modelsResource.get(this.state.id);case 3:return t=e.sent,e.next=6,this.relationsResource.getAll();case 6:return a=e.sent,e.next=9,this.fieldsResource.getAll();case 9:return n=e.sent,e.next=12,this.queriesResource.getAll();case 12:r=e.sent,n=n.filter((function(e){return"id"!==e.name})),this.setState((function(e){return jn(jn({},e),{},{model:t,relations:a,fields:n,queries:r})}));case 15:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.model,n=t.fields,r=t.relations,l=t.queries,i=t.sql_editors,o=this.props.match.params.id;return v.a.createElement("div",{className:"admin-pages admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables/models"},"Tables / All Models"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},this.state.id?"Edit Model":"Add Model"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement(Nn,{model:a,submitText:a.id?"Save":"Add",edit:a.id,onSubmit:this.onSubmit}),n?v.a.createElement(v.a.Fragment,null,v.a.createElement("h2",{className:"sub-header"},"Fields"),v.a.createElement(z,{columns:Sn,quickActions:[{tag:"Link",props:{href:"/admin/tables/models/".concat(o,"/fields/edit/:id")},title:"Edit"},{tag:"button",route:"/admin/ajax/models/".concat(o,"/fields/:id"),method:"delete",confirm:"Are You Sure?",after:function(){return e.updateFields()},className:"quick-action-menu__item_danger",title:"Trash"}],rows:n.map((function(e){return jn(jn({},e),{},{editUrl:"/admin/tables/models/".concat(a.id,"/fields/edit/").concat(e.id)})}))}),v.a.createElement(T.b,{className:"btn btn_add",to:"/admin/tables/models/".concat(a.id,"/fields/add")},"Add Field")):"",r?v.a.createElement(v.a.Fragment,null,v.a.createElement("h2",{className:"sub-header"},"Relations"),v.a.createElement(z,{columns:Sn,quickActions:[{tag:"Link",props:{href:"/admin/tables/models/".concat(o,"/relations/edit/:id")},title:"Edit"},{tag:"button",route:"/admin/ajax/models/".concat(o,"/relations/:id"),method:"delete",confirm:"Are You Sure?",after:function(){return e.updateRelations()},className:"quick-action-menu__item_danger",title:"Trash"}],rows:r.map((function(e){return jn(jn({},e),{},{editUrl:"/admin/tables/models/".concat(a.id,"/relations/edit/").concat(e.id)})}))}),v.a.createElement(T.b,{className:"btn btn_add",to:"/admin/tables/models/".concat(a.id,"/relations/add")},"Add Relation")):"",l?v.a.createElement(v.a.Fragment,null,v.a.createElement("h2",{className:"sub-header"},"Queries"),v.a.createElement(z,{columns:Sn,rows:l.map((function(e){return jn(jn({},e),{},{editUrl:"/admin/tables/models/".concat(a.id,"/queries/edit/").concat(e.id)})})),quickActions:[{tag:"Link",props:{href:"/admin/tables/models/".concat(a.id,"/queries/edit/:id")},title:"Edit"},{tag:"button",route:"/admin/ajax/models/".concat(a.id,"/queries/:id"),method:"delete",confirm:"Are You Sure?",after:function(){return e.updateQueries()},className:"quick-action-menu__item_danger",title:"Trash"}]}),v.a.createElement(T.b,{className:"btn btn_add",to:"/admin/tables/models/".concat(a.id,"/queries/add")},"Add Query")):"",i?v.a.createElement(v.a.Fragment,null,v.a.createElement("h2",{className:"sub-header"},"SQL Editors"),v.a.createElement(z,{columns:Sn,rows:i.map((function(e){return jn(jn({},e),{},{editUrl:"/admin/tables/models/".concat(a.id,"/sql_editors/edit/").concat(e.id)})}))}),v.a.createElement(T.b,{className:"btn btn_add",to:"/admin/tables/models/".concat(a.id,"/sql_editors/add")},"Add Editor")):""))}}]),n}(g.Component),Rn=Object(Re.g)(Dn);function Pn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function An(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Tn=function(e){d()(a,e);var t=Mn(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).state={rightType:"string",is1stString:!0,is2ndString:!0,right:{string:"",fieldId:"",string_1:"",fieldId_1:"",string_2:"",fieldId_2:""}},n.rightTypeHandler=n.rightTypeHandler.bind(u()(n)),n.rightChangeHandler=n.rightChangeHandler.bind(u()(n)),n.setRight=n.setRight.bind(u()(n)),n}return s()(a,[{key:"componentDidMount",value:function(){var e=this.props.item.right;e&&("string"==typeof this.props.item.right?this.setState({rightType:"string",right:An(An({},this.state.right),{},{string:e})}):this.setState({rightType:"object",right:An(An({},this.state.right),{},{fieldId:e.id})}))}},{key:"rightTypeHandler",value:function(e){this.setState((function(t){return{rightType:e}}),this.setRight)}},{key:"rightChangeHandler",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState((function(e){return e.right[n]=a,e}),this.setRight)}},{key:"operatorChangeHandler",value:function(e){switch(e){case"not-null":case"null":this.rightTypeHandler("null");break;case"between":this.rightTypeHandler("array");break;default:this.rightTypeHandler("string")}this.props.changeHandler({value:e,name:"operator"})}},{key:"setRight",value:function(){var e,t=this.state,a=t.rightType,n=t.is1stString,r=t.is2ndString,l=t.right;switch(a){case"string":e=l.string;break;case"object":e={id:l.fieldId};break;case"null":e=null;break;case"array":e=[n?l.string_1:{id:l.fieldId_1},r?l.string_2:{id:l.fieldId_2}]}this.props.changeHandler({name:"right",value:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.item,n=t.index,r=t.fieldsOptions,l=t.changeHandler,i=t.deleteItemHandler,o=this.state,s=o.rightType,c=o.right,u=o.is1stString,m=o.is2ndString;return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"flex-container"},v.a.createElement("p",null,"if"),v.a.createElement("button",{className:"btn btn_failure",type:"button",onClick:i},"Delete")),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"left"+n},"Field Name"),v.a.createElement("select",{className:"form-control",id:"left"+n,name:"left",required:!0,value:a.left,onChange:function(e){var t=e.target,a=t.value,n=t.name;return l({value:a,name:n})}},v.a.createElement("option",{disabled:!0,value:""}),r.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{value:t,key:t},a)})))),v.a.createElement("p",null,"Comparison Operators"),v.a.createElement("div",{className:"form-group"},v.a.createElement("select",{className:"form-control",name:"operator",required:!0,value:a.operator,onChange:function(t){var a=t.target.value;return e.operatorChangeHandler(a)}},v.a.createElement("option",{value:"",disabled:!0}),v.a.createElement("option",{value:"=="},"Equals"),v.a.createElement("option",{value:"<>"},"Not Equals"),v.a.createElement("option",{value:">"},">"),v.a.createElement("option",{value:">="},">="),v.a.createElement("option",{value:"<"},"<"),v.a.createElement("option",{value:"<="},"<="))),["string","object"].includes(s)&&v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",null,"Value",v.a.createElement("input",{type:"radio",className:"disabling-radio",checked:"string"===s,onChange:function(){return e.rightTypeHandler("string")}})),v.a.createElement("input",{type:"text",className:"form-control",name:"string",required:"string"===s,value:c.string,disabled:"string"!==s,onChange:this.rightChangeHandler})),v.a.createElement("p",{className:"form-group__inline-wrapper__divider"},"or"),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"right"+n},"Field Name",v.a.createElement("input",{type:"radio",className:"disabling-radio",checked:"object"===s,onChange:function(){return e.rightTypeHandler("object")}})),v.a.createElement("select",{className:"form-control",id:"right"+n,name:"fieldId",required:"object"===s,value:c.fieldId,disabled:"object"!==s,onChange:this.rightChangeHandler},v.a.createElement("option",{disabled:!0,value:""}),r.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{value:t,key:t},a)}))))),"array"===s&&v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",null,"Value",v.a.createElement("input",{type:"radio",className:"disabling-radio",checked:u,onChange:function(){return e.setState({is1stString:!0},e.setRight)}})),v.a.createElement("input",{type:"text",className:"form-control",name:"string_1",required:u,value:c.string_1,disabled:!u,onChange:this.rightChangeHandler})),v.a.createElement("p",{className:"form-group__inline-wrapper__divider"},"or"),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"right"+n},"Field Name",v.a.createElement("input",{type:"radio",className:"disabling-radio",checked:!u,onChange:function(){return e.setState({is1stString:!1},e.setRight)}})),v.a.createElement("select",{className:"form-control",id:"right"+n,name:"fieldId_1",required:!u,value:c.fieldId_1,disabled:u,onChange:this.rightChangeHandler},v.a.createElement("option",{disabled:!0,value:""}),r.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{value:t,key:t},a)}))))),v.a.createElement("p",{className:"centred"},"and"),v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",null,"Value",v.a.createElement("input",{type:"radio",className:"disabling-radio",checked:m,onChange:function(){return e.setState({is2ndString:!0},e.setRight)}})),v.a.createElement("input",{type:"text",className:"form-control",name:"string_2",required:m,value:c.string_2,disabled:!m,onChange:this.rightChangeHandler})),v.a.createElement("p",{className:"form-group__inline-wrapper__divider"},"or"),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"right"+n},"Field Name",v.a.createElement("input",{type:"radio",className:"disabling-radio",checked:!m,onChange:function(){return e.setState({is2ndString:!1},e.setRight)}})),v.a.createElement("select",{className:"form-control",id:"right"+n,name:"fieldId_2",required:!m,value:c.fieldId_2,disabled:m,onChange:this.rightChangeHandler},v.a.createElement("option",{disabled:!0,value:""}),r.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{value:t,key:t},a)})))))),v.a.createElement("p",null,"Then = "),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"result"+n},"Value"),v.a.createElement("input",{type:"text",className:"form-control",id:"result"+n,name:"result",required:!0,value:a.result,onChange:function(e){var t=e.target,a=t.value,n=t.name;return l({value:a,name:n})}})),v.a.createElement("p",null,"E.g. [field_name]*[field_name] + 10"))}}]),a}(g.Component);function Fn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Hn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function zn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var qn=[{value:"string",label:"String"},{value:"integer",label:"integer"},{value:"bigInteger",label:"Big Integer"},{value:"float",label:"Float"},{value:"boolean",label:"Boolean"},{value:"text",label:"Text"},{value:"longText",label:"Long Text"},{value:"calculated",label:"Calculated"},{value:"date",label:"Date"},{value:"time",label:"Time"},{value:"year",label:"Year"},{value:"dateTime",label:"Datetime"},{value:"geometry",label:"Geometry"},{value:"json",label:"JSON"},{value:"binary",label:"Binary"}],Ln=[{value:"unsigned",label:"UNSIGNED"}],Vn=["textarea","text","number","slider","WYSIWYG","color","select","checkbox","radio button"],In=function(e){d()(n,e);var t,a=zn(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).state={isAlways:!1,fieldsOptions:[],value:{name:"",title:"",description:"",is_label:!1,is_title:!1,is_auth:!1,type:"string",length_value:"",default:"",attribute:"",input_type:"text",options:"",null:!1,indexed:!1,editable:!0,calculation:"",calculation_logic:[{left:"",operator:"",result:"",right:""}]}},t.submitHandler=t.submitHandler.bind(u()(t)),t.itemChangeHandler=t.itemChangeHandler.bind(u()(t)),t.addItemHandler=t.addItemHandler.bind(u()(t)),t.deleteItemHandler=t.deleteItemHandler.bind(u()(t)),t.titleChangeHandler=t.titleChangeHandler.bind(u()(t)),t.filedsResource=new F.a({route:"/admin/ajax/models/".concat(t.props.match.params.modelId,"/fields")}),t.fieldsOptionsResource=new F.a({route:"/admin/ajax/models/".concat(t.props.match.params.modelId,"/field_options")}),t}return s()(n,[{key:"changeValue",value:function(e,t){this.setState((function(a){if(a=Hn({},a),"default"===t)switch(a.value.size&&e.length>a.value.size&&(e=e.substring(0,parseInt(a.value.size))),a.value.type){case"boolean":""===e?e=null:"0"!=e&&"1"!=e&&(e=1);break;case"bigInteger":case"integer":e=isNaN(e)||"0"===e?""===e?null:"0":parseInt(e)}return a.value[t]=e,a}))}},{key:"titleChangeHandler",value:function(e){var t=this;e.persist(),this.setState((function(a){return Hn(Hn({},a),{},{value:Hn(Hn({},a.value),{},{title:e.target.value,name:t.props.match.params.id?a.value.name:te(e.target.value)})})}))}},{key:"submitHandler",value:function(e){e.preventDefault();var t=this.props,a=(t.history,t.match,this.state.value),n=a.name,r=a.title,l=a.description,i=a.is_label,o=a.is_title,s=a.is_auth,c=a.type,u=a.size,m=a.default,d=a.attribute,p=a.input_type,f=a.options,h=a.null,b=a.indexed,g=a.editable,v=a.calculation,E=a.calculation_logic,y={};"calculated"===c?y=this.state.isAlways?{title:r,description:l,type:c,calculation:v,name:n}:{title:r,description:l,type:c,calculation_logic:E,name:n}:(y={name:n,title:r,description:l,is_label:i,is_title:o,is_auth:s,type:c,size:u,default:m,attribute:d,input_type:p,null:h,indexed:b,editable:g},["select","checkbox","radio button"].includes(p)&&(y=Hn(Hn({},y),{},{options:f})),console.log(m),["integer","bigInteger"].includes(c)&&(y.default=m)),_.isFunction(this.props.onSubmit)&&this.props.onSubmit(y)}},{key:"addItemHandler",value:function(){this.setState((function(e){return e.value.calculation_logic.push({left:"",operator:"",result:"",right:""}),e}))}},{key:"deleteItemHandler",value:function(e){this.setState((function(t){return t.value.calculation_logic.splice(e,1),t}))}},{key:"itemChangeHandler",value:function(e,t){var a=e.name,n=e.value;this.setState((function(e){return e.value.calculation_logic[t][a]=n,e}))}},{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t,a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fieldsOptionsResource.getAll();case 2:if(t=e.sent,a=t.options,!this.props.match.params.id){e.next=10;break}return e.next=7,this.filedsResource.get(this.props.match.params.id);case 7:"string"==typeof(n=e.sent).calculation_logic&&(n.calculation_logic=JSON.parse(n.calculation_logic)),this.setState((function(e){return Hn(Hn({},e),{},{isAlways:!!n.calculation,value:Hn(Hn({},e.value),n)})}));case 10:this.setState((function(e){return Hn(Hn({},e),{},{fieldsOptions:a})}));case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props.match.params.modelId;return v.a.createElement("form",{className:"admin-form field-form",onSubmit:this.submitHandler},v.a.createElement("div",{className:"form-group "},v.a.createElement("label",{htmlFor:"field-title"},"Field Title"),v.a.createElement("input",{type:"text",id:"field-title",required:!0,value:this.state.value.title||"",onChange:this.titleChangeHandler,className:"form-control"})),v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width30"},v.a.createElement("label",{htmlFor:"field-name"},"Field Name"),v.a.createElement("input",{type:"text",id:"field-name",required:!0,readOnly:this.props.match.params.id,value:this.state.value.name||"",onChange:function(t){e.changeValue(t.target.value,"name")},className:"form-control"})),v.a.createElement("div",{className:"form-group form-group_width65"},v.a.createElement("label",{htmlFor:"field-description"},"Field Description"),v.a.createElement("input",{type:"text",id:"field-description",value:this.state.value.description||"",onChange:function(t){e.changeValue(t.target.value,"description")},className:"form-control"}))),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"field-type"},"Field Type"),v.a.createElement("select",{id:"field-type",required:!0,value:this.state.value.type||"",onChange:function(t){e.changeValue(t.target.value,"type")},className:"form-control"},v.a.createElement("option",{value:""}),qn.map((function(e){return v.a.createElement("option",{key:e.value,value:e.value},e.label)})))),"calculated"===this.state.value.type?v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"form-group col-6 form-check-inline"},v.a.createElement("input",{type:"checkbox",id:"always",className:"form-check-input",checked:this.state.isAlways,onChange:function(t){return e.setState({isAlways:t.target.checked})}}),v.a.createElement("label",{htmlFor:"always",className:"label_checkbox"},"Always")),this.state.isAlways?v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"calculation"},"Calculation"),v.a.createElement("input",{type:"text",className:"form-control",id:"calculation",value:this.state.value.calculation,onChange:function(t){e.changeValue(t.target.value,"calculation")}})),v.a.createElement("p",null,"E.g. [field_name]*[field_name] + 10")):v.a.createElement(v.a.Fragment,null,this.state.value.calculation_logic.map((function(t,a){return v.a.createElement(v.a.Fragment,null,0!==a&&v.a.createElement("hr",null),v.a.createElement(Tn,{item:t,index:a,fieldsOptions:e.state.fieldsOptions,key:a,changeHandler:function(t){return e.itemChangeHandler(t,a)},deleteItemHandler:function(){return e.deleteItemHandler(a)}}))})),v.a.createElement("button",{className:"btn",type:"button",onClick:this.addItemHandler},"+ Calculated Logic"))):v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"checkbox-group"},v.a.createElement("div",{className:"form-group"},v.a.createElement("input",{type:"checkbox",id:"field-is_label",checked:this.state.value.is_label,onChange:function(t){e.changeValue(t.target.checked,"is_label")}}),v.a.createElement("label",{className:"checkbox-label",htmlFor:"field-is_label"},"As Label")),v.a.createElement("div",{className:"form-group"},v.a.createElement("input",{type:"checkbox",id:"field-is_title",checked:this.state.value.is_title,onChange:function(t){e.changeValue(t.target.checked,"is_title")}}),v.a.createElement("label",{className:"checkbox-label",htmlFor:"field-is_title"},"As Title")),v.a.createElement("div",{className:"form-group"},v.a.createElement("input",{type:"checkbox",id:"field-is_auth",checked:this.state.value.is_auth,onChange:function(t){e.changeValue(t.target.checked,"is_auth")}}),v.a.createElement("label",{className:"checkbox-label",htmlFor:"field-is_auth"},"Set Auth"))),v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"field-length_value"},"Length/Value"),v.a.createElement("input",{type:"number",id:"field-length_value",value:this.state.value.size||"",onChange:function(t){e.changeValue(+t.target.value,"size")},className:"form-control"})),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"field-default"},"Default"),v.a.createElement("input",{type:"text",id:"field-default",value:this.state.value.default||"",onChange:function(t){e.changeValue(t.target.value,"default")},className:"form-control"}))),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"field-attribute"},"Attribute"),v.a.createElement("select",{id:"field-attribute",value:this.state.value.attribute||"",onChange:function(t){e.changeValue(t.target.value,"attribute")},className:"form-control"},v.a.createElement("option",{value:""}),Ln.map((function(e){return v.a.createElement("option",{key:e.value,value:e.value},e.label)})))),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"field-input_type"},"Input Type"),v.a.createElement("select",{id:"field-input_type",required:!0,value:this.state.value.input_type||"",onChange:function(t){e.changeValue(t.target.value,"input_type")},className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),Vn.map((function(e){return v.a.createElement("option",{key:e,value:e},e)})))),["select","checkbox","radio button"].includes(this.state.value.input_type)&&v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"field-options"},"Options"),v.a.createElement("textarea",{id:"field-options",value:this.state.value.options||"",onChange:function(t){e.changeValue(t.target.value,"options")},className:"form-control"})),v.a.createElement("p",null,"Enter each choice on a new line."),v.a.createElement("p",null,"Fro more control, you may specify both a value and label like this:"),v.a.createElement("p",null,"red | Red")),v.a.createElement("div",{className:"checkbox-group"},v.a.createElement("div",{className:"form-group"},v.a.createElement("input",{type:"checkbox",id:"field-nullable",checked:this.state.value.null,onChange:function(t){e.changeValue(t.target.checked,"null")}}),v.a.createElement("label",{className:"checkbox-label",htmlFor:"field-nullable"},"Nullable")),v.a.createElement("div",{className:"form-group"},v.a.createElement("input",{type:"checkbox",id:"field-indexed",checked:this.state.value.indexed,onChange:function(t){e.changeValue(t.target.checked,"indexed")}}),v.a.createElement("label",{className:"checkbox-label",htmlFor:"field-indexed"},"Indexed")),v.a.createElement("div",{className:"form-group"},v.a.createElement("input",{type:"checkbox",id:"field-editable",checked:this.state.value.editable,onChange:function(t){e.changeValue(t.target.checked,"editable")}}),v.a.createElement("label",{className:"checkbox-label",htmlFor:"field-editable"},"Editable")))),v.a.createElement("div",{className:"btn__wrapper btn_add"},v.a.createElement("button",{className:"btn btn_success",type:"submit"},"Add"),v.a.createElement(T.b,{className:"btn",to:"/admin/tables/models/edit/".concat(t)},"Cancel")))}}]),n}(g.Component),Un=Object(Re.g)(In);function Bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Gn=function(e){d()(n,e);var t,a=Bn(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).onSubmit=function(){var e=M()(P.a.mark((function e(a){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props.match.params.modelId,r=t.props.history,!t.props.match.params.id){e.next=9;break}return e.next=5,t.filedsResource.put(t.props.match.params.id,a);case 5:e.sent,r.push("/admin/tables/models/edit/".concat(n)),e.next=13;break;case 9:return e.next=11,t.filedsResource.post(a);case 11:e.sent,r.push("/admin/tables/models/edit/".concat(n));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.state={modelTitle:"Model Title",field:{}},t.modelsResource=new F.a({route:"/admin/ajax/models"}),t.filedsResource=new F.a({route:"/admin/ajax/models/".concat(t.props.match.params.modelId,"/fields")}),t}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.modelId,e.next=3,this.modelsResource.get(t);case 3:a=e.sent,this.setState({modelTitle:a.title});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.modelTitle,t=this.props.match.params.modelId;return v.a.createElement("div",{className:"admin-pages admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables/models"},"Models / All Models"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables/models/edit/".concat(t)},e),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"Add New Field"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement(Un,{onSubmit:this.onSubmit})))}}]),n}(g.Component),Kn=Object(Re.g)(Gn);function Yn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var $n=[{value:"hasOne",label:"Has One"},{value:"belongsTo",label:"Belongs To"},{value:"hasMany",label:"Has Many"}],Wn=[{value:"cascade",label:"cascade"},{value:"set null",label:"set null"},{value:"no action",label:"no action"},{value:"restrict",label:"restrict"}],Xn=function(e){d()(l,e);var t,a,n,r=Jn(l);function l(e){var t;return i()(this,l),(t=r.call(this,e)).state={modelsOptions:[],value:{title:"",description:"",type:"",model_id:t.props.match.params.modelId,add_belong_to:!1,editable:!0,always_with:!1,local_key:"",foreign_key:"",onDelete:"set null",onUpdate:"set null"},selfFieldsOptions:[],foreignFieldsOptions:[],relationTypeOptions:$n},t.modelsResource=new F.a({route:"/admin/ajax/model_options"}),t.relationsResource=new F.a({route:"/admin/ajax/models/".concat(t.props.match.params.modelId,"/relations")}),t.submitHandler=t.submitHandler.bind(u()(t)),t}return s()(l,[{key:"componentDidMount",value:(n=M()(P.a.mark((function e(){var t,a,n,r,l,i,o,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modelsResource.getAll();case 2:return t=e.sent,a=t.options,n=this.props.match.params,r=n.modelId,l=n.id,this.setState({modelsOptions:a}),e.next=8,new F.a({route:"/admin/ajax/models/".concat(r,"/fields")}).getAll();case 8:if(i=e.sent,o=i.map((function(e){return{label:e.title,value:e.name}})),this.setState((function(e){return Qn(Qn({},e),{},{selfFieldsOptions:o})})),!l){e.next=18;break}return e.next=14,this.relationsResource.get(l);case 14:s=e.sent,this.updateForeignFieldOptions(s.target_model_id),this.changeTargetModel(s.target_model_id),this.setState((function(e){return Qn(Qn({},e),{},{value:s})}));case 18:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"changeTargetModel",value:function(e){var t="";this.state.modelsOptions.forEach((function(a){parseInt(a.value)===parseInt(e)&&(t=a.label)}));var a=$n.filter((function(e){return"User"!==t||"hasMany"!==e.value}));"User"===t&&(this.changeValue("hasOne","type"),this.changeValue(!1,"add_belong_to")),this.setState((function(e){return Qn(Qn({},e),{},{hideAddBelongTo:"User"===t,relationTypeOptions:a})}))}},{key:"changeValue",value:function(e,t){var a=this,n=this.props.match.params.id;"target_model_id"===t&&this.changeTargetModel(e),this.setState((function(r){return(r=Qn({},r)).value[t]=e,"title"!==t||n||(r.value.name=te(e)),"name"===t&&(r.value.name=te(e)),"foreign_key"===t&&(r.value[t]=te(e)),"target_model_id"===t&&a.updateForeignFieldOptions(e),r}))}},{key:"updateForeignFieldOptions",value:(a=M()(P.a.mark((function e(t){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new F.a({route:"/admin/ajax/models/".concat(t,"/fields")}).getAll();case 2:a=e.sent,n=a.map((function(e){return{label:e.title,value:e.name}})),this.setState((function(e){return Qn(Qn({},e),{},{foreignFieldsOptions:n})}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"submitHandler",value:(t=M()(P.a.mark((function e(t){var a,n,r,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=this.props,n=a.history,r=a.match,l=this.state.value,!this.props.match.params.id){e.next=9;break}return e.next=6,this.relationsResource.put(this.props.match.params.id,l);case 6:e.sent,e.next=12;break;case 9:return e.next=11,this.relationsResource.post(l);case 11:e.sent;case 12:n.push("/admin/tables/models/edit/".concat(r.params.modelId));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"renderLocalKey",value:function(){var e=this;this.props.match.params.id;return v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"relation-local_key"},"Local Key"),v.a.createElement("select",{id:"relation-local_key",value:this.state.value.local_key||"",className:"form-control",onChange:function(t){e.changeValue(t.target.value,"local_key")}},v.a.createElement("option",{disabled:!0,value:""}),this.state.selfFieldsOptions.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{key:t,value:t},a)}))))}},{key:"renderForeignKey",value:function(){var e=this;this.props.match.params.id;return v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"relation-foreign_key"},"Foreign Key"),v.a.createElement("select",{id:"relation-foreign_key",value:this.state.value.foreign_key||"",onChange:function(t){e.changeValue(t.target.value,"foreign_key")},className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),this.state.foreignFieldsOptions.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{key:t,value:t},a)}))))}},{key:"render",value:function(){var e=this,t=this.props.match.params.id;return v.a.createElement("form",{className:"admin-form",onSubmit:this.submitHandler},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"form-group col-12"},v.a.createElement("label",{htmlFor:"relation-title"},"Relation Title"),v.a.createElement("input",{type:"text",id:"relation-title",required:!0,value:this.state.value.title||"",onChange:function(t){e.changeValue(t.target.value,"title")},className:"form-control"})),v.a.createElement("div",{className:"form-group col-4"},v.a.createElement("label",{htmlFor:"relation-title"},"Relation Name"),v.a.createElement("input",{type:"text",id:"relation-title",required:!0,readOnly:t,value:this.state.value.name||"",onChange:function(t){e.changeValue(t.target.value,"name")},className:"form-control"})),v.a.createElement("div",{className:"form-group col-8"},v.a.createElement("label",{htmlFor:"relation-description"},"Relation Description"),v.a.createElement("input",{type:"text",id:"relation-description",readOnly:t,value:this.state.value.description||"",onChange:function(t){e.changeValue(t.target.value,"description")},className:"form-control"}))),v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"relation-type"},"Relation Type"),v.a.createElement("select",{id:"relation-type",required:!0,disabled:t,value:this.state.value.type,onChange:function(t){e.changeValue(t.target.value,"type")},className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),this.state.relationTypeOptions.map((function(e){return v.a.createElement("option",{key:e.value,value:e.value},e.label)})))),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"relation-model_id"},"Model to Bound"),v.a.createElement("select",{id:"relation-model_id",required:!0,value:this.state.value.target_model_id||"",onChange:function(t){e.changeValue(t.target.value,"target_model_id")},className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),this.state.modelsOptions.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{key:t,value:t},a)}))))),v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"form-group col-4"},this.state.hideAddBelongTo||"belongsTo"===this.state.value.type?"":v.a.createElement(v.a.Fragment,null,v.a.createElement("input",{type:"checkbox",id:"relation-add_belong_to",checked:this.state.value.add_belong_to,readOnly:t,onChange:function(t){e.changeValue(t.target.checked,"add_belong_to")}}),v.a.createElement("label",{className:"checkbox-label",htmlFor:"relation-add_belong_to"},"Add Reverse Relation"))),v.a.createElement("div",{className:"form-group col-4"},["hasMany","belongsTo"].includes(this.state.value.type)?"":v.a.createElement(v.a.Fragment,null,v.a.createElement("input",{type:"checkbox",id:"field-editable",checked:this.state.value.editable,onChange:function(t){e.changeValue(t.target.checked,"editable")}}),v.a.createElement("label",{className:"checkbox-label",htmlFor:"field-editable"},"Editable"))),v.a.createElement("div",{className:"form-group col-4"},v.a.createElement("input",{type:"checkbox",id:"field-always_with",checked:this.state.value.always_with,onChange:function(t){e.changeValue(t.target.checked,"always_with")}}),v.a.createElement("label",{className:"checkbox-label",htmlFor:"field-always_with"},"Always With"))),v.a.createElement("div",{className:"form-group__inline-wrapper"},this.renderLocalKey(),this.renderForeignKey()),v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"onDelete"},"On Delete"),v.a.createElement("select",{id:"onDelete",required:!0,value:this.state.value.onDelete,onChange:function(t){e.changeValue(t.target.value,"onDelete")},className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),Wn.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{key:t,value:t},a.toUpperCase())})))),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"onUpdate"},"On Update"),v.a.createElement("select",{id:"onUpdate",required:!0,value:this.state.value.onUpdate,onChange:function(t){e.changeValue(t.target.value,"onUpdate")},className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),Wn.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{key:t,value:t},a.toUpperCase())}))))),v.a.createElement("div",{className:"btn__wrapper"},v.a.createElement("button",{className:"btn btn_success",type:"submit"},"Add"),v.a.createElement(T.b,{className:"btn",to:"/admin/tables/models"},"Cancel")))}}]),l}(g.Component),Zn=Object(Re.g)(Xn);function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var tr=function(e){d()(n,e);var t,a=er(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).state={modelTitle:"Model Title"},t.modelsResource=new F.a({route:"/admin/ajax/models"}),t}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.modelId,e.next=3,this.modelsResource.get(t);case 3:a=e.sent,this.setState({modelTitle:a.title});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.modelTitle,t=this.props.match.params.modelId;return v.a.createElement("div",{className:"admin-pages admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables/models"},"Models / All Models"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables/models/edit/".concat(t)},e),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"Add New Relation"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement(Zn,null)))}}]),n}(g.Component),ar=Object(Re.g)(tr);function nr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function rr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ir=[{value:1,label:"Model title 1"},{value:2,label:"Model title 2"},{value:3,label:"Model title 3"}],or=function(e){d()(a,e);var t=lr(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).titleChangeHandler=function(e){e.persist(),n.setState((function(t){return rr(rr({},t),{},{value:rr(rr({},t.value),{},{title:e.target.value,name:te(e.target.value)})})}))},n.changeRoles=function(e){var t=[];e&&e.forEach((function(e){t.push(e.value)})),n.setState((function(e){var a=_.cloneDeep(e);return a.value.access.roles=t,a}))},n.changePermission=function(e){var t=[];e&&e.forEach((function(e){t.push(e.value)})),n.setState((function(e){var a=_.cloneDeep(e);return a.value.access.permissions=t,a}))},n.state={modelsOptions:ir,value:{title:"",name:"",description:"",type:"",request_type:"",model_id:"",url:"",api_url:"",auth:!0,access:{roles:[],permissions:[]}}},n.submitHandler=n.submitHandler.bind(u()(n)),n}return s()(a,[{key:"componentDidMount",value:function(){var e=this;new F.a({route:"/admin/ajax/model_options"}).getAll().then((function(t){var a=t.options;return e.setState({modelsOptions:a})}))}},{key:"changeValue",value:function(e,t){this.setState((function(a){return(a=rr({},a)).value[t]=e,a}))}},{key:"submitHandler",value:function(e){e.preventDefault(),new F.a({route:"/admin/ajax/data_sources"}).post(this.state.value),console.log(this.state.value)}},{key:"render",value:function(){var e=this;return v.a.createElement("form",{className:"admin-form",onSubmit:this.submitHandler},v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"data-source-title"},"Data Source Title"),v.a.createElement("input",{type:"text",id:"data-source-title",required:!0,value:this.state.value.title,onChange:this.titleChangeHandler,className:"form-control"})),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"data-source-title"},"Data Source Name"),v.a.createElement("input",{type:"text",id:"data-source-title",required:!0,value:this.state.value.name,onChange:function(t){e.changeValue(t.target.value,"name")},className:"form-control"}))),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"data-source-description"},"Data Source Description"),v.a.createElement("input",{type:"text",id:"data-source-description",value:this.state.value.description,onChange:function(t){e.changeValue(t.target.value,"description")},className:"form-control"})),v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"data-source-type"},"Data Source Type"),v.a.createElement("select",{id:"data-source-type",required:!0,name:"type",value:this.state.value.type,onChange:function(t){e.changeValue(t.target.value,"type")},className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),v.a.createElement("option",{value:"remote"},"remote"))),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"data-source-type"},"Request Type"),v.a.createElement("select",{id:"data-source-type",required:!0,name:"type",value:this.state.value.request_type,onChange:function(t){e.changeValue(t.target.value,"request_type")},className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),v.a.createElement("option",{value:"get"},"get"),v.a.createElement("option",{value:"post"},"post"),v.a.createElement("option",{value:"put"},"put"),v.a.createElement("option",{value:"delete"},"delete")))),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"data-source-model_id"},"Model"),v.a.createElement("select",{id:"data-source-model_id",required:!0,value:this.state.value.model_id,onChange:function(t){e.changeValue(t.target.value,"model_id")},className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),this.state.modelsOptions.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{key:t,value:t},a)})))),v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"data-source-url"},"Route"),v.a.createElement("input",{type:"text",id:"data-source-url",required:!0,value:this.state.value.url,onChange:function(t){e.changeValue(t.target.value,"url")},className:"form-control"})),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"data-source-api_url"},"API Route"),v.a.createElement("input",{type:"text",id:"data-source-api_url",required:!0,value:this.state.value.api_url,onChange:function(t){e.changeValue(t.target.value,"api_url")},className:"form-control"}))),v.a.createElement("h2",{className:"admin-form__subheader centred"},"Access"),v.a.createElement("input",{type:"checkbox",id:"field-auth",checked:this.state.value.auth,value:this.state.value.auth,onChange:function(t){e.changeValue(t.target.checked,"auth")}}),v.a.createElement("label",{className:"checkbox-label",htmlFor:"field-auth"},"Auth"),this.state.value.auth&&v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group col-6"},v.a.createElement("label",{htmlFor:"field-roles"},"Roles"),v.a.createElement(Ge,{id:"field-roles",isMulti:!0,optionsRoute:"/admin/ajax/role_options",placeholder:"All",defaultOptions:[{value:null,label:"All"}],value:this.state.value.roles,onChange:this.changeRoles})),v.a.createElement("div",{className:"form-group col-6"},v.a.createElement("label",{htmlFor:"field-permissions"},"Permissions"),v.a.createElement(Ge,{id:"field-permissions",isMulti:!0,optionsRoute:"/admin/ajax/permissions_options",placeholder:"All",defaultOptions:[{value:null,label:"All"}],value:this.state.value.permissions,onChange:this.changePermission}))),v.a.createElement("div",{className:"btn__wrapper"},v.a.createElement("button",{className:"btn btn_success",type:"submit"},"Add"),v.a.createElement(T.b,{className:"btn",to:"/admin/tables/models"},"Cancel")))}}]),a}(g.Component);function sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var cr=function(e){d()(a,e);var t=sr(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){return v.a.createElement("div",{className:"admin-pages admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables/models"},"Models / All Models"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"Add New Data Source"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement(or,null)))}}]),a}(g.Component),ur=a(6),mr=a.n(ur);function dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var pr=["sum","min","max","avg","count","distinct","count_distinct"],fr=function(e){d()(a,e);var t=dr(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=this.props.item,t=e.type,a=e.column,n=e.alias,r=this.props,l=r.columnsOptions,i=r.changeHandler;return v.a.createElement("div",{className:"form-segment form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width30"},v.a.createElement("label",null,"Type",v.a.createElement("select",{required:!0,name:"type",value:t,onChange:i,className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),pr.map((function(e){return v.a.createElement("option",{key:e,value:e},e)}))))),v.a.createElement("div",{className:"form-group form-group_width30"},v.a.createElement("label",null,"Field",v.a.createElement("select",{required:!0,name:"column",value:a,onChange:i,className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),v.a.createElement("option",{value:"*"},"All"),l.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{key:t,value:t},a)}))))),v.a.createElement("div",{className:"form-group form-group_width30"},v.a.createElement("label",null,"Alias",v.a.createElement("input",{type:"text",required:!0,name:"alias",value:n,onChange:i,className:"form-control"}))))}}]),a}(g.Component);function hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var br=function(e){return new F.a({route:"/admin/ajax/tables/".concat(e,"/columns")})},gr=function(e){d()(a,e);var t=hr(a);function a(){var e;i()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={targetColumnOptions:[]},e}return s()(a,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.item.target_table;e.item.target_table!==a&&br(a).getAll().then((function(e){return t.setState({targetColumnOptions:e})}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.item.target_table;t&&br(t).getAll().then((function(t){return e.setState({targetColumnOptions:t})}))}},{key:"render",value:function(){var e=this.props.item,t=e.type,a=e.target_table,n=e.source_column,r=e.operator,l=e.target_column,i=this.props,o=i.changeHandler,s=i.tablesOptions,c=i.sourceColumnOptions,u=this.state.targetColumnOptions;return v.a.createElement("div",{className:"form-segment"},v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",null,"Type",v.a.createElement("select",{required:!0,name:"type",value:t,onChange:o,className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),v.a.createElement("option",{value:"inner_join"},"Inner Join"),v.a.createElement("option",{value:"left_join"},"Left Join"),v.a.createElement("option",{value:"right_join"},"Right Join")))),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",null,"Target Table",v.a.createElement("select",{required:!0,name:"target_table",value:a,onChange:o,className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),s.map((function(e){var t=e.value,n=e.label;return v.a.createElement("option",{disabled:t===a,value:t,key:t},n)})))))),v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width30"},v.a.createElement("label",null,"Source Column",v.a.createElement("select",{required:!0,name:"source_column",value:n,onChange:o,className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),c.map((function(e){var t=e.label,a=e.value;return v.a.createElement("option",{value:a,key:a},t)}))))),v.a.createElement("div",{className:"form-group form-group_width30"},v.a.createElement("label",null,"Operator",v.a.createElement("select",{required:!0,name:"operator",value:r,onChange:o,className:"form-control"},v.a.createElement("option",{value:"",disabled:!0}),v.a.createElement("option",{value:"="},"Equals"),v.a.createElement("option",{value:"!="},"Not Equals"),v.a.createElement("option",{value:"like"},"Like"),v.a.createElement("option",{value:">"},">"),v.a.createElement("option",{value:">="},">="),v.a.createElement("option",{value:"<"},"<"),v.a.createElement("option",{value:"<="},"<=")))),v.a.createElement("div",{className:"form-group form-group_width30"},v.a.createElement("label",null,"Target Column",v.a.createElement("select",{required:!0,name:"target_column",value:l,onChange:o,className:"form-control"},v.a.createElement("option",{disabled:!0,value:""},a?"":"Choose Table First"),u.map((function(e){var t=e.id,a=e.title;return v.a.createElement("option",{value:t,key:t},a)})))))))}}]),a}(g.Component),vr=a(438),Er=a.n(vr);function yr(e){switch(e){case"datetime":return"yyyy/MM/dd h:mm:ss";case"date":return"yyyy/MM/dd";case"time":return"h:mm:ss";case"day":return"dd";case"month":return"MM";case"year":default:return"yyyy"}}function _r(e){switch(e){case"datetime":return"YYYY/MM/DD H:mm:ss";case"date":return"YYYY/MM/DD";case"time":return"H:mm:ss";case"day":return"DD";case"month":return"MM";case"year":default:return"YYYY"}}function wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var xr=["where","or_where","where_between","where_in","where_date","where_column"],kr=[{value:"datetime",label:"Date - Time"},{value:"date",label:"Date"},{value:"time",label:"Time"},{value:"day",label:"Day"},{value:"month",label:"Month"},{value:"year",label:"Year"}],Nr=function(e){d()(a,e);var t=wr(a);function a(){var e;i()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isDateVar:!1},e.dateValueFormatChange=function(){var t=e.state.isDateVar;e.props.changeHandler({target:{value:t?mr()(new Date).format(_r(e.props.item.type)):"",name:"value"}}),e.setState({isDateVar:!t})},e}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.columnsOptions,a=e.changeHandler,n=e.isFirst,r=this.props.item,l=r.condition_type,i=r.column,o=r.operator,s=r.value,c=r.or,u=r.not,m=r.values,d=r.type,p=r.first_column,f=r.second_column,h=this.state.isDateVar;return v.a.createElement("div",{className:"form-segment"},v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width30"},v.a.createElement("label",null,"Condition Type",v.a.createElement("select",{required:!0,name:"condition_type",value:l,onChange:a,className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),xr.map((function(e){return v.a.createElement("option",{key:e,value:e,disabled:n&&"or_where"===e},e)}))))),l&&"where_column"!==l&&v.a.createElement("div",{className:"form-group form-group_width30"},v.a.createElement("label",null,"Field",v.a.createElement("select",{required:!0,name:"column",value:i,onChange:a,className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),t.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{key:t,value:t},a)}))))),["where","or_where","where_column"].includes(l)&&v.a.createElement("div",{className:"form-group form-group_width30"},v.a.createElement("label",null,"Operator",v.a.createElement("select",{required:!0,name:"operator",value:o,onChange:a,className:"form-control"},v.a.createElement("option",{value:"",disabled:!0}),v.a.createElement("option",{value:"="},"Equals"),v.a.createElement("option",{value:"!="},"Not Equals"),v.a.createElement("option",{value:"like"},"Like"),v.a.createElement("option",{value:">"},">"),v.a.createElement("option",{value:">="},">="),v.a.createElement("option",{value:"<"},"<"),v.a.createElement("option",{value:"<="},"<=")))),["where_between","where_in","where_column"].includes(l)&&v.a.createElement(v.a.Fragment,null,!n&&v.a.createElement("div",{className:"form-group form-group_checkbox form-group_width15"},v.a.createElement("label",{className:"label_checkbox"},v.a.createElement("input",{type:"checkbox",name:"or",className:"form-check-input",checked:c,onChange:a})," Or")),"where_column"!==l&&v.a.createElement("div",{className:"form-group form-group_checkbox form-group_width15"},v.a.createElement("label",{className:"label_checkbox"},v.a.createElement("input",{type:"checkbox",name:"not",className:"form-check-input",checked:u,onChange:a})," Not"))),"where_date"===l&&v.a.createElement("div",{className:"form-group form-group_width30"},v.a.createElement("label",null,"Type",v.a.createElement("select",{id:"type",required:!0,name:"type",value:d,onChange:a,className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),kr.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{key:t,value:t},a)})))))),["where","or_where"].includes(l)&&v.a.createElement("div",{className:"form-group"},v.a.createElement("label",null,"Value",v.a.createElement("input",{type:"text",required:!0,name:"value",value:s,onChange:a,className:"form-control"}))),["where_between"].includes(l)&&v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",null,"Value 1",v.a.createElement("input",{type:"text",required:!0,name:"value1",value:m[0]||"",onChange:a,className:"form-control"}))),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",null,"Value 2",v.a.createElement("input",{type:"text",required:!0,name:"value2",value:m[1]||"",onChange:a,className:"form-control"})))),"where_in"===l&&v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"form-group"},v.a.createElement("label",null,"Values",v.a.createElement("textarea",{required:!0,name:"values",value:m.join(", "),onChange:a,className:"form-control"}))),v.a.createElement("p",null,"Comma Separated")),"where_date"===l&&v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"form-group col-6"},v.a.createElement("label",null,"Operator",v.a.createElement("select",{required:!0,name:"operator",value:o,onChange:a,className:"form-control"},v.a.createElement("option",{value:"",disabled:!0}),v.a.createElement("option",{value:"="},"Equals"),v.a.createElement("option",{value:"!="},"Not Equals"),v.a.createElement("option",{value:">"},">"),v.a.createElement("option",{value:">="},">="),v.a.createElement("option",{value:"<"},"<"),v.a.createElement("option",{value:"<="},"<=")))),v.a.createElement("div",{className:"form-group col-6 ".concat(["day","month"].includes(d)?"hide-blocks":"")},v.a.createElement("label",{className:"w-auto mb-0"},"Value"),v.a.createElement("label",{className:"label_checkbox float-right w-auto"},v.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:h,onChange:this.dateValueFormatChange})," Set Variable"),h?v.a.createElement("input",{type:"text",required:!0,name:"value",value:s,onChange:a,className:"form-control"}):v.a.createElement(Er.a,{selected:mr()(s,_r(d))._d,showTimeSelect:["datetime","time"].includes(d),showYearPicker:"year"===d,showTimeSelectOnly:"time"===d,showMonthYearPicker:"month"===d,dateFormat:yr(d),className:"form-control",onChange:function(e){return a({target:{value:mr()(e).format(_r(d)),name:"value"}})}}))),"where_column"===l&&v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",null,"First Field",v.a.createElement("select",{required:!0,name:"first_column",value:p,onChange:a,className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),t.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{key:t,value:t},a)}))))),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",null,"Second Field",v.a.createElement("select",{required:!0,name:"second_column",value:f,onChange:a,className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),t.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{key:t,value:t},a)})))))))}}]),a}(g.Component);function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var jr=function(e){d()(a,e);var t=Or(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=this.props.item,t=e.type,a=e.column,n=this.props,r=n.columnsOptions,l=n.changeHandler;return v.a.createElement("div",{className:"form-segment form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",null,"Field",v.a.createElement("select",{required:!0,name:"column",value:a,onChange:l,className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),r.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{key:t,value:a},a)}))))),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",null,"Type",v.a.createElement("select",{required:!0,name:"type",value:t,onChange:l,className:"form-control"},v.a.createElement("option",{value:"asc"},"Asc"),v.a.createElement("option",{value:"desc"},"Desc")))))}}]),a}(g.Component);function Cr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Sr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Rr=function(e){d()(l,e);var t,a,n=Dr(l);function l(e){var t;i()(this,l),(t=n.call(this,e)).changeGroupBy=function(e){var a=[];e&&e.forEach((function(e){a.push(e.value)})),t.setState((function(e){var t=_.cloneDeep(e);return t.value.group_by=a,t}))},t.changeColumns=function(e){var a=[];e&&e.forEach((function(e){a.push(e.value)})),t.setState((function(e){return Sr(Sr({},e),{},{value:Sr(Sr({},e.value),{},{columns:a})})}))},t.changeRelations=function(e){var a=[];e&&e.forEach((function(e){a.push(e.value)})),t.setState((function(e){return Sr(Sr({},e),{},{value:Sr(Sr({},e.value),{},{relations:a})})}))},t.changeRoles=function(e){var a=[];e&&e.forEach((function(e){a.push(e.value)})),t.setState((function(e){var t=_.cloneDeep(e);return t.value.access.roles=a,t}))},t.changePermission=function(e){var a=[];e&&e.forEach((function(e){a.push(e.value)})),t.setState((function(e){var t=_.cloneDeep(e);return t.value.access.permissions=a,t}))},t.valueChangeHandler=function(e){var a=e.target,n=a.value,l=a.name;t.setState((function(e){return Sr(Sr({},e),{},{value:Sr(Sr({},e.value),{},r()({},l,n))})}))},t.aggregateToggle=function(){t.setState((function(e){return{isAggregateRaw:!e.isAggregateRaw,value:Sr(Sr({},e.value),{},{aggregates:e.isAggregateRaw?[{type:"",column:"",alias:""}]:""})}}))},t.conditionAddHandler=function(){t.setState((function(e){var t=lt()(e.value.conditions);return t.push({condition_type:""}),Sr(Sr({},e),{},{value:Sr(Sr({},e.value),{},{conditions:t})})}))},t.offsetDeleteHandler=function(){t.setState((function(e){var t=_.cloneDeep(e);return delete t.value.offset,t}))},t.limitDeleteHandler=function(){t.setState((function(e){var t=_.cloneDeep(e);return delete t.value.offset,delete t.value.limit,t}))},t.setRelations=function(e){var a=[];e.forEach((function(e){a.push(e.value)})),t.setState((function(e){return Sr(Sr({},e),{},{relations:a})}))},t.setColumns=function(e){var a=[];e.forEach((function(e){a.push(e.value)})),t.setState((function(e){return Sr(Sr({},e),{},{columns:a})}))};var a=t.props.match.params,o=a.modelId;a.id;return t.state={value:{title:"",name:"",columns:[],aggregates:[],joins:[],conditions:[],relations:[],order_by:[],access:{roles:[],permissions:[]},group_by:[]},relationsOptions:[],rolesOptions:[],permissionsOptions:[],tablesOptions:[],selfFields:[],selfFieldsOptions:[],isAggregateRaw:!1},t.counter=0,t.rolesOptions=new F.a({route:"/admin/ajax/role_options"}),t.permissionsOptions=new F.a({route:"/admin/ajax/permissions_options"}),t.tablesOptions=new F.a({route:"/admin/ajax/tables_options"}),t.selfFieldsResource=new F.a({route:"/admin/ajax/models/".concat(o,"/fields_only")}),t.relationsResource=new F.a({route:"/admin/ajax/models/".concat(o,"/relations")}),t.sqlResource=new F.a({route:"/admin/ajax/models/".concat(o,"/queries")}),t.submitHandler=t.submitHandler.bind(u()(t)),t.multipleSelectChangeHandler=t.multipleSelectChangeHandler.bind(u()(t)),t.aggregateChangeHandler=t.aggregateChangeHandler.bind(u()(t)),t.aggregateAddHandler=t.aggregateAddHandler.bind(u()(t)),t.aggregateDeleteHandler=t.aggregateDeleteHandler.bind(u()(t)),t.joinChangeHandler=t.joinChangeHandler.bind(u()(t)),t.joinAddHandler=t.joinAddHandler.bind(u()(t)),t.joinDeleteHandler=t.joinDeleteHandler.bind(u()(t)),t.conditionChangeHandler=t.conditionChangeHandler.bind(u()(t)),t.orderByChangeHandler=t.orderByChangeHandler.bind(u()(t)),t.orderByAddHandler=t.orderByAddHandler.bind(u()(t)),t.orderByDeleteHandler=t.orderByDeleteHandler.bind(u()(t)),t.titleChangeHandler=t.titleChangeHandler.bind(u()(t)),t}return s()(l,[{key:"componentDidMount",value:(a=M()(P.a.mark((function e(){var t,a,n,r,l,i,o,s,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.match.params.id)){e.next=6;break}return e.next=4,this.sqlResource.get(t);case 4:a=e.sent,this.setState((function(e){return Sr(Sr({},e),{},{value:a})}));case 6:return e.next=8,this.rolesOptions.getAll();case 8:return n=e.sent,this.setState((function(e){return Sr(Sr({},e),{},{rolesOptions:n})})),e.next=12,this.permissionsOptions.getAll();case 12:return r=e.sent,this.setState((function(e){return Sr(Sr({},e),{},{permissionsOptions:r})})),e.next=16,this.tablesOptions.getAll();case 16:return l=e.sent,this.setState((function(e){return Sr(Sr({},e),{},{tablesOptions:l})})),e.next=20,this.selfFieldsResource.getAll();case 20:return i=e.sent,o=i.map((function(e){return{label:e.title,value:e.name}})),this.setState((function(e){return Sr(Sr({},e),{},{selfFields:i,selfFieldsOptions:o})})),e.next=25,this.relationsResource.getAll();case 25:s=e.sent,c=s.map((function(e){return{label:e.title,value:e.name}})),this.setState((function(e){return Sr(Sr({},e),{},{relationsOptions:c})}));case 28:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"addForeignFields",value:(t=M()(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"titleChangeHandler",value:function(e){e.persist(),this.setState((function(t){return Sr(Sr({},t),{},{value:Sr(Sr({},t.value),{},{title:e.target.value,name:te(e.target.value)})})}))}},{key:"aggregateChangeHandler",value:function(e,t){var a=e.target,n=a.value,l=a.name;this.setState((function(e){var a=lt()(e.value.aggregates);return a[t]=Sr(Sr({},e.value.aggregates[t]),{},r()({},l,n)),Sr(Sr({},e),{},{value:Sr(Sr({},e.value),{},{aggregates:a})})}))}},{key:"aggregateAddHandler",value:function(){this.setState((function(e){var t=lt()(e.value.aggregates);return t.push({type:"",column:"",alias:""}),Sr(Sr({},e),{},{value:Sr(Sr({},e.value),{},{aggregates:t})})}))}},{key:"aggregateDeleteHandler",value:function(e){this.setState((function(t){var a=lt()(t.value.aggregates);return a.splice(e,1),Sr(Sr({},t),{},{value:Sr(Sr({},t.value),{},{aggregates:a})})}))}},{key:"joinChangeHandler",value:function(e,t){var a=e.target,n=a.value,l=a.name;this.setState((function(e){var a=lt()(e.value.joins);return a[t]=Sr(Sr({},e.value.joins[t]),{},r()({},l,n)),Sr(Sr({},e),{},{value:Sr(Sr({},e.value),{},{joins:a})})}))}},{key:"joinAddHandler",value:function(){this.setState((function(e){var t=lt()(e.value.joins);return t.push({type:"",target_table:"",source_column:"",operator:"",target_column:""}),Sr(Sr({},e),{},{value:Sr(Sr({},e.value),{},{joins:t})})}))}},{key:"joinDeleteHandler",value:function(e){this.setState((function(t){var a=lt()(t.value.joins);return a.splice(e,1),Sr(Sr({},t),{},{value:Sr(Sr({},t.value),{},{joins:a})})}))}},{key:"conditionChangeHandler",value:function(e,t){var a=e.target,n=a.value,l=a.name,i=a.checked;this.setState((function(e){var a,o=lt()(e.value.conditions);if("condition_type"===l)switch(n){case"where":case"or_where":a={condition_type:n,column:"",operator:"",value:""};break;case"where_between":case"where_in":a=0===t?{condition_type:n,not:!1,column:"",values:[]}:{condition_type:n,or:!1,not:!1,column:"",values:[]};break;case"where_date":a={condition_type:n,type:"year",column:"",value:"2020"};break;case"where_column":a=0===t?{condition_type:n,first_column:"",operator:"",second_column:""}:{condition_type:n,or:!1,first_column:"",operator:"",second_column:""};break;default:throw new Error("invalid condition type")}else switch(l){case"value1":a=Sr(Sr({},e.value.conditions[t]),{},{values:[n,e.value.conditions[t].values[1]]});break;case"value2":a=Sr(Sr({},e.value.conditions[t]),{},{values:[e.value.conditions[t].values[0],n]});break;case"values":a=Sr(Sr({},e.value.conditions[t]),{},r()({},l,n.split(",").map((function(e){return e.trim()}))));break;case"type":a=Sr(Sr({},e.value.conditions[t]),{},{type:n,value:mr()(new Date).format(_r(n))});break;case"operator":"where_column"===(a=Sr(Sr({},e.value.conditions[t]),{},r()({},l,n))).condition_type?a.second_column=a.second_column||"":a.value=a.value||"";break;default:a=Sr(Sr({},e.value.conditions[t]),{},r()({},l,["or","not"].includes(l)?i:n))}return o[t]=a,Sr(Sr({},e),{},{value:Sr(Sr({},e.value),{},{conditions:o})})}))}},{key:"conditionDeleteHandler",value:function(e){this.setState((function(t){var a=lt()(t.value.conditions);return a.splice(e,1),Sr(Sr({},t),{},{value:Sr(Sr({},t.value),{},{conditions:a})})}))}},{key:"orderByChangeHandler",value:function(e,t){var a=e.target,n=a.value,l=a.name;this.setState((function(e){var a=lt()(e.value.order_by);return a[t]=Sr(Sr({},e.value.order_by[t]),{},r()({},l,n)),Sr(Sr({},e),{},{value:Sr(Sr({},e.value),{},{order_by:a})})}))}},{key:"orderByAddHandler",value:function(){this.setState((function(e){var t=lt()(e.value.order_by);return t.push({type:"asc",column:""}),Sr(Sr({},e),{},{value:Sr(Sr({},e.value),{},{order_by:t})})}))}},{key:"orderByDeleteHandler",value:function(e){this.setState((function(t){var a=lt()(t.value.order_by);return a.splice(e,1),Sr(Sr({},t),{},{value:Sr(Sr({},t.value),{},{order_by:a})})}))}},{key:"multipleSelectChangeHandler",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState((function(e){var t=lt()(e[n]);if(t.includes(a)){var l=t.indexOf(a);t.splice(l,1)}else t.push(a);return Sr(Sr({},e),{},r()({},n,t))}))}},{key:"submitHandler",value:function(e){var t=this,a=this.props.match.params,n=a.modelId,r=a.id;e.preventDefault(),(r?this.sqlResource.put(r,this.state.value):this.sqlResource.post(this.state.value)).then((function(){return t.props.history.push("/admin/tables/models/edit/".concat(n))}))}},{key:"render",value:function(){var e=this,t=this.state.value,a=t.title,n=t.name,r=t.relations,l=t.columns,i=t.aggregates,o=t.joins,s=t.conditions,c=t.order_by,u=t.group_by,m=t.offset,d=t.limit,p=this.state.value.access,f=p.roles,h=p.permissions,b=this.state,E=b.selfFieldsOptions,y=b.permissionsOptions,w=b.relationsOptions,x=b.rolesOptions,k=b.tablesOptions,N=b.isAggregateRaw;this.props.match.params.modelId;return v.a.createElement("form",{className:"admin-form",onSubmit:this.submitHandler},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"form-group  col-6"},v.a.createElement("label",{htmlFor:"title"},"Title"),v.a.createElement("input",{type:"text",id:"title",required:!0,name:"title",value:a,onChange:this.titleChangeHandler,className:"form-control"})),v.a.createElement("div",{className:"form-group col-6 "},v.a.createElement("label",{htmlFor:"name"},"Name"),v.a.createElement("input",{type:"text",id:"name",required:!0,name:"name",value:n,onChange:this.valueChangeHandler,className:"form-control"})),v.a.createElement("div",{className:"form-group col-6"},v.a.createElement("label",{htmlFor:"relations"},"With"),v.a.createElement(Ge,{closeMenuOnSelect:!1,onChange:this.changeRelations,value:_.filter(w,(function(e){return r.indexOf(e.value)>=0})),options:w,isMulti:!0})),v.a.createElement("div",{className:"form-group col-6"},v.a.createElement("label",{htmlFor:"columns"},"Fields"),v.a.createElement(Ge,{closeMenuOnSelect:!1,onChange:this.changeColumns,value:_.filter(E,(function(e){return l.indexOf(e.value)>=0})),options:E,isMulti:!0}))),v.a.createElement("h2",{className:"admin-form__subheader centred"},"Access"),v.a.createElement("div",{className:"form-group__inline-wrapper"},v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"roles"},"Roles"),v.a.createElement(Ge,{id:"roles",closeMenuOnSelect:!1,value:_.filter(x,(function(e){return f.indexOf(e.value)>=0})),isMulti:!0,onChange:this.changeRoles,options:x})),v.a.createElement("div",{className:"form-group form-group_width47"},v.a.createElement("label",{htmlFor:"permissions"},"Permissions"),v.a.createElement(Ge,{id:"roles",value:_.filter(y,(function(e){return h.indexOf(e.value)>=0})),closeMenuOnSelect:!1,isMulti:!0,onChange:this.changePermission,options:y}))),v.a.createElement("h2",{className:"admin-form__subheader centred"},"Joins"),o.map((function(t,a){return v.a.createElement(g.Fragment,{key:a},0!==a&&v.a.createElement("hr",null),v.a.createElement("div",{className:"text-right"},v.a.createElement("button",{className:"btn btn_failure",type:"button",onClick:function(){return e.joinDeleteHandler(a)}},"✖")),v.a.createElement(gr,{item:t,tablesOptions:k,sourceColumnOptions:E,changeHandler:function(t){return e.joinChangeHandler(t,a)}}))})),v.a.createElement("div",{className:"centred"},v.a.createElement("button",{className:"btn btn_success",type:"button",onClick:this.joinAddHandler},"+ New Join")),v.a.createElement("h2",{className:"admin-form__subheader centred"},"Aggregates"),(!!i.length||N)&&v.a.createElement("div",{className:"text-center"},v.a.createElement("button",{className:"btn ".concat(N?"btn_success":""),type:"button",onClick:this.aggregateToggle},"Aggregate Raw")),N?v.a.createElement("div",{className:"form-group"},v.a.createElement("input",{type:"text",id:"aggregates",required:!0,name:"aggregates",value:i,onChange:this.valueChangeHandler,className:"form-control"})):i.map((function(t,a){return v.a.createElement(g.Fragment,{key:a},0!==a&&v.a.createElement("hr",null),v.a.createElement("div",{className:"text-right"},v.a.createElement("button",{className:"btn btn_failure",type:"button",onClick:function(){return e.aggregateDeleteHandler(a)}},"✖")),v.a.createElement(fr,{item:t,columnsOptions:E,changeHandler:function(t){return e.aggregateChangeHandler(t,a)}}))})),!N&&v.a.createElement("div",{className:"centred"},v.a.createElement("button",{className:"btn btn_success",type:"button",onClick:this.aggregateAddHandler},"+ New Aggregate")),v.a.createElement("h2",{className:"admin-form__subheader centred"},"Conditions"),s.map((function(t,a){return v.a.createElement(g.Fragment,{key:a},v.a.createElement("div",{className:"text-right"},v.a.createElement("button",{className:"btn btn_failure",type:"button",onClick:function(){return e.conditionDeleteHandler(a)}},"✖")),0!==a&&v.a.createElement("hr",null),v.a.createElement(Nr,{item:t,isFirst:0===a,columnsOptions:E,changeHandler:function(t){return e.conditionChangeHandler(t,a)}}))})),v.a.createElement("div",{className:"centred"},v.a.createElement("button",{className:"btn btn_success",type:"button",onClick:this.conditionAddHandler},"+ New Condition")),v.a.createElement("h2",{className:"admin-form__subheader centred"},"Order By"),c.map((function(t,a){return v.a.createElement(g.Fragment,{key:a},0!==a&&v.a.createElement("hr",null),v.a.createElement("div",{className:"text-right"},v.a.createElement("button",{className:"btn btn_failure",type:"button",onClick:function(){return e.orderByDeleteHandler(a)}},"✖")),v.a.createElement(jr,{item:t,columnsOptions:E,changeHandler:function(t){return e.orderByChangeHandler(t,a)}}))})),v.a.createElement("div",{className:"centred"},v.a.createElement("button",{className:"btn btn_success",type:"button",onClick:this.orderByAddHandler},"+ New Order")),v.a.createElement("h2",{className:"admin-form__subheader centred"},"Group By"),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"group_by"},"Fields"),v.a.createElement(Ge,{id:"group_by",closeMenuOnSelect:!1,onChange:this.changeGroupBy,value:_.filter(E,(function(e){return u.indexOf(e.value)>=0})),options:E,isMulti:!0})),v.a.createElement("h2",{className:"admin-form__subheader centred"},"Pagination Settings"),v.a.createElement("div",{className:"centred"},v.a.createElement("button",{className:"btn btn_success",type:"button",onClick:function(){return e.setState({value:Sr(Sr({},e.state.value),{},{limit:"REQUEST:pageSize"})})}},"Add Limit")),d&&v.a.createElement("div",{className:"centred mt-3"},v.a.createElement("button",{className:"btn btn_success",type:"button",onClick:function(){return e.setState({value:Sr(Sr({},e.state.value),{},{offset:"REQUEST:pageSize * (REQUEST:page - 1)"})})}},"Add Offset")),v.a.createElement("div",{className:"row"},m&&v.a.createElement("div",{className:"form-group  col-6"},v.a.createElement("div",{className:"text-right"},v.a.createElement("button",{className:"btn btn_failure",type:"button",onClick:this.offsetDeleteHandler},"✖")),v.a.createElement("label",{htmlFor:"offset"},"Offset"),v.a.createElement("input",{type:"text",id:"offset",required:!0,name:"offset",value:m,onChange:this.valueChangeHandler,className:"form-control"})),d&&v.a.createElement("div",{className:"form-group col-6 "},v.a.createElement("div",{className:"text-right"},v.a.createElement("button",{className:"btn btn_failure",type:"button",onClick:this.limitDeleteHandler},"✖")),v.a.createElement("label",{htmlFor:"limit"},"Limit"),v.a.createElement("input",{type:"text",id:"limit",required:!0,name:"limit",value:d,onChange:this.valueChangeHandler,className:"form-control"}))),v.a.createElement("div",{className:"btn__wrapper btn_add centred"},v.a.createElement("button",{className:"btn btn_success",type:"submit"},"Save"),v.a.createElement(T.b,{className:"btn",to:"/admin/tables/models"},"Cancel")))}}]),l}(g.Component),Pr=Object(Re.g)(Rr);function Ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Mr=function(e){d()(a,e);var t=Ar(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){return v.a.createElement("div",{className:"admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement("a",{className:"admin-breadcrumbs__link",href:"#"},"SQL"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement(Pr,null)))}}]),a}(g.Component),Tr=Object(Re.g)(Mr);function Fr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Hr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var qr=function(e){d()(n,e);var t,a=zr(n);function n(e){var t;i()(this,n),(t=a.call(this,e)).aceEditorObserver=function(){var e=G.a.getState();t.setState((function(t){return Hr(Hr({},t),{},{AceEditor:e.aceEditorReducer.AceEditor})}))},t.onSubmit=function(){var e=M()(P.a.mark((function e(a){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props.match.params.id,a.preventDefault(),t.state.value.sql){e.next=4;break}return e.abrupt("return",alert("Заполните SQL Query"));case 4:if(!n){e.next=10;break}return e.next=7,t.sqlEditorResource.put(n,t.state.value);case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,t.sqlEditorResource.post(t.state.value);case 12:r=e.sent;case 13:r.success?t.props.history.push("/admin/tables/sql_editors"):alert(r.message);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var r=G.a.getState();return t.state={modelTitle:"Model Title",value:{paged:!1,is_object:!1,auth:!1},modelsOptions:[],AceEditor:r.aceEditorReducer.AceEditor},t.sqlEditorResource=new F.a({route:"/admin/ajax/sql_editors"}),t.modelsResource=new F.a({route:"/admin/ajax/model_options"}),G.a.subscribe(t.aceEditorObserver),t}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t,a,n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,this.modelsResource.getAll();case 3:if(a=e.sent,n=(n=a.options).filter((function(e){return"User"!==e.label})),this.setState({modelsOptions:n}),!t){e.next=13;break}return e.next=10,this.sqlEditorResource.get(t);case 10:r=e.sent,this.editor=null,this.setState((function(e){return Hr(Hr({},e),{},{value:r})}));case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"changeValue",value:function(e,t){this.setState((function(a){return(a=Hr({},a)).value[t]="name"===t?te(e):e,"title"===t&&(a.value.name=te(e)),a}))}},{key:"render",value:function(){var e=this,t=this.props.match.params.id;return console.log(this.state.value.sql),v.a.createElement("div",{className:"admin-pages admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables/sql_editors"},"All  SQL Editors"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"Add SQL Query"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement("form",{className:"admin-form field-form",onSubmit:this.onSubmit},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"form-group col-6"},v.a.createElement("label",{htmlFor:"field-title"},"Title"),v.a.createElement("input",{type:"text",id:"field-title",required:!0,value:this.state.value.title||"",onChange:function(t){e.changeValue(t.target.value,"title")},className:"form-control"})),v.a.createElement("div",{className:"form-group col-6"},v.a.createElement("label",{htmlFor:"field-name"},"Name"),v.a.createElement("input",{type:"text",id:"field-name",required:!0,readOnly:t,value:this.state.value.name||"",onChange:function(t){e.changeValue(t.target.value,"name")},className:"form-control"})),v.a.createElement("div",{className:"form-group col-12"},v.a.createElement("label",{htmlFor:"field-name"},"Description"),v.a.createElement("input",{type:"text",id:"field-description",value:this.state.value.description||"",onChange:function(t){e.changeValue(t.target.value,"description")},className:"form-control"})),v.a.createElement("div",{className:"form-group col-12"},v.a.createElement("label",{htmlFor:"relation-model_id"},"Model"),v.a.createElement("select",{id:"relation-model_id",required:!0,disabled:t,value:this.state.value.model_id||"",onChange:function(t){e.changeValue(t.target.value,"model_id")},className:"form-control"},v.a.createElement("option",{disabled:!0,value:""}),this.state.modelsOptions.map((function(e){var t=e.value,a=e.label;return v.a.createElement("option",{key:t,value:t},a)})))),v.a.createElement("div",{className:"form-group col-12"},v.a.createElement("input",{type:"checkbox",id:"field-auth",checked:this.state.value.auth,value:this.state.value.auth,onChange:function(t){e.changeValue(t.target.checked,"auth")}}),v.a.createElement("label",{className:"checkbox-label",htmlFor:"field-auth"},"Auth")),v.a.createElement("div",{className:"form-group col-12"},v.a.createElement("input",{type:"checkbox",id:"field-is_object",checked:this.state.value.is_object,value:this.state.value.is_object,onChange:function(t){e.changeValue(t.target.checked,"is_object")}}),v.a.createElement("label",{className:"checkbox-label",htmlFor:"field-is_object"},"As Object")),this.state.value.auth?v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"form-group col-4"},v.a.createElement("label",{htmlFor:"field-roles"},"Roles"),v.a.createElement(Ge,{id:"field-roles",isMulti:!0,optionsRoute:"/admin/ajax/role_options",placeholder:"All",defaultOptions:[{value:null,label:"All"}],value:this.state.value.roles,onChange:function(t){e.changeValue(t,"roles")}})),v.a.createElement("div",{className:"form-group col-4"},v.a.createElement("label",{htmlFor:"field-permissions"},"Permissions"),v.a.createElement(Ge,{id:"field-permissions",isMulti:!0,optionsRoute:"/admin/ajax/permissions_options",placeholder:"All",defaultOptions:[{value:null,label:"All"}],value:this.state.value.permissions,onChange:function(t){e.changeValue(t,"permissions")}}))):"",v.a.createElement("div",{className:"form-group col-12"},v.a.createElement("label",{htmlFor:"field-name"},"SQL Query"),this.state.AceEditor&&(this.editor=this.editor||v.a.createElement(this.state.AceEditor,{mode:"sql",theme:"textmate",onChange:function(t){e.changeValue(t,"sql")},className:"field-ace",name:"aceEditor",height:"15em",setOptions:{value:this.state.value.sql||""},showPrintMargin:!1,style:{width:"100%"},enableLiveAutocompletion:!0})))),v.a.createElement("div",{className:"btn__wrapper btn_add"},v.a.createElement("button",{className:"btn btn_success",type:"submit"},"Add"),v.a.createElement(T.b,{className:"btn",to:"/admin/tables/sql_editors"},"Cancel")))))}}]),n}(g.Component),Lr=Object(Re.g)(qr);function Vr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ir(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Br=[{name:"name",title:"Name",url:!0,editUrl:!0,tag:"Link"},{name:"display_name",title:"Display Name"},{name:"description",title:"Description"}],Gr=new F.a({route:"/admin/ajax/roles"}),Kr=new F.a({route:"/admin/ajax/permissions"}),Yr=function(e){d()(a,e);var t=Ur(a);function a(){var e;i()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={roles:[],permissions:[]},e.getRoles=M()(P.a.mark((function t(){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gr.getAll();case 2:a=t.sent,e.setState({roles:a});case 4:case"end":return t.stop()}}),t)}))),e.getPermissions=M()(P.a.mark((function t(){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kr.getAll();case 2:a=t.sent,e.setState({permissions:a});case 4:case"end":return t.stop()}}),t)}))),e}return s()(a,[{key:"componentDidMount",value:function(){this.getRoles(),this.getPermissions()}},{key:"render",value:function(){var e=this,t=this.state,a=t.roles,n=t.permissions,r="/admin/access/roles"===this.props.location.pathname?0:1;return v.a.createElement("div",{className:"admin-settings admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement("a",{className:"admin-breadcrumbs__link",href:"#"},"Access"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},0===r?"All Roles":"All Permissions")),v.a.createElement(T.b,{className:"btn",to:"/admin/access/".concat(0===r?"roles":"permissions","/add")},"Add New")),v.a.createElement("div",{className:"admin-content"},v.a.createElement(U.d,{selectedIndex:r,onSelect:function(){}},v.a.createElement(U.b,{className:"nav nav-pills admin-pills"},v.a.createElement(T.b,{to:"/admin/access/roles"},v.a.createElement(U.a,null,"Roles")),v.a.createElement(T.b,{to:"/admin/access/permissions"},v.a.createElement(U.a,null,"Permissions"))),v.a.createElement(U.c,null,v.a.createElement(z,{columns:Br,quickActions:[{tag:"Link",props:{href:"/admin/access/roles/edit/:id"},title:"Edit"},{tag:"button",route:"/admin/ajax/roles/:id",method:"delete",confirm:"Are You Sure?",after:function(){return e.getRoles()},className:"quick-action-menu__item_danger",title:"Trash"}],rows:a.map((function(e){return Ir(Ir({},e),{},{editUrl:"/admin/access/roles/edit/"+e.id})}))})),v.a.createElement(U.c,null,v.a.createElement(z,{columns:Br,quickActions:[{tag:"Link",props:{href:"/admin/access/permissions/edit/:id"},title:"Edit"},{tag:"button",route:"/admin/ajax/permissions/:id",method:"delete",confirm:"Are You Sure?",after:function(){return e.getPermissions()},className:"quick-action-menu__item_danger",title:"Trash"}],rows:n.map((function(e){return Ir(Ir({},e),{},{editUrl:"/admin/access/permissions/edit/"+e.id})}))})))))}}]),a}(g.Component),Qr=Object(Re.g)(Yr);function Jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var $r=new F.a({route:"/admin/ajax/roles"}),Wr=function(e){d()(n,e);var t,a=Jr(n);function n(){var e;i()(this,n);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={name:"",display_name:"",description:""},e.changeHandler=function(t){var a=t.target,n=a.value,l=a.name;e.setState(r()({},l,n))},e.deleteHandler=function(){var t=e.props.match.params.id;$r.delete(t).then((function(){return e.props.history.push("/admin/access/roles")}))},e.submitHandler=function(t){var a=e.props.match.params.id;t.preventDefault(),(a?$r.put(a,e.state):$r.post(e.state)).then((function(){return e.props.history.push("/admin/access/roles")}))},e}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t,a,n,r,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.match.params.id)){e.next=9;break}return e.next=4,$r.get(t);case 4:a=e.sent,n=a.name,r=a.display_name,l=a.description,this.setState({name:n,display_name:r,description:l});case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name,a=e.display_name,n=e.description,r=Boolean(this.props.match.params.id);return v.a.createElement("form",{className:"admin-form",onSubmit:this.submitHandler},v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"name"},"Name"),v.a.createElement("input",{type:"text",id:"name",required:!0,name:"name",value:t,onChange:this.changeHandler,className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"display_name"},"Display Name"),v.a.createElement("input",{type:"text",id:"display_name",name:"display_name",value:a,onChange:this.changeHandler,className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"description"},"Description"),v.a.createElement("input",{type:"text",id:"description",required:!0,name:"description",value:n,onChange:this.changeHandler,className:"form-control"})),v.a.createElement("div",{className:"btn__wrapper"},v.a.createElement("button",{className:"btn btn_success",type:"submit"},"Add"),v.a.createElement(T.b,{to:"/admin/access/roles"},v.a.createElement("button",{className:"btn"},"Cancel")),r&&v.a.createElement("button",{className:"btn btn_failure",type:"button",onClick:this.deleteHandler},"Delete")))}}]),n}(g.Component),Xr=Object(Re.g)(Wr);function Zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var el=function(e){d()(a,e);var t=Zr(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=Boolean(this.props.match.params.id);return v.a.createElement("div",{className:"admin-pages admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/access"},"Access / All Roles"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},e?"Edit Role":"Add New Role"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement(Xr,null)))}}]),a}(g.Component),tl=Object(Re.g)(el);function al(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var nl=new F.a({route:"/admin/ajax/permissions"}),rl=function(e){d()(n,e);var t,a=al(n);function n(){var e;i()(this,n);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={name:"",display_name:"",description:""},e.changeHandler=function(t){var a=t.target,n=a.value,l=a.name;e.setState(r()({},l,n))},e.deleteHandler=function(){var t=e.props.match.params.id;nl.delete(t).then((function(){return e.props.history.push("/admin/access/permissions")}))},e.submitHandler=function(t){var a=e.props.match.params.id;t.preventDefault(),(a?nl.put(a,e.state):nl.post(e.state)).then((function(){return e.props.history.push("/admin/access/permissions")}))},e}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t,a,n,r,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.match.params.id)){e.next=9;break}return e.next=4,nl.get(t);case 4:a=e.sent,n=a.name,r=a.display_name,l=a.description,this.setState({name:n,display_name:r,description:l});case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name,a=e.display_name,n=e.description,r=Boolean(this.props.match.params.id);return v.a.createElement("form",{className:"admin-form",onSubmit:this.submitHandler},v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"name"},"Name"),v.a.createElement("input",{type:"text",id:"name",required:!0,name:"name",value:t,onChange:this.changeHandler,className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"display_name"},"Display Name"),v.a.createElement("input",{type:"text",id:"display_name",name:"display_name",value:a,onChange:this.changeHandler,className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"description"},"Description"),v.a.createElement("input",{type:"text",id:"description",required:!0,name:"description",value:n,onChange:this.changeHandler,className:"form-control"})),v.a.createElement("div",{className:"btn__wrapper"},v.a.createElement("button",{className:"btn btn_success",type:"submit"},"Add"),v.a.createElement(T.b,{to:"/admin/access/permissions"},v.a.createElement("button",{className:"btn"},"Cancel")),r&&v.a.createElement("button",{className:"btn btn_failure",type:"button",onClick:this.deleteHandler},"Delete")))}}]),n}(g.Component),ll=Object(Re.g)(rl);function il(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ol=function(e){d()(a,e);var t=il(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=Boolean(this.props.match.params.id);return v.a.createElement("div",{className:"admin-pages admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/access"},"Access / All Permissions"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},e?"Edit Permission":"Add New Permission"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement(ll,null)))}}]),a}(g.Component),sl=Object(Re.g)(ol);function cl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ul(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?cl(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ml(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var dl=function(e){d()(r,e);var t,a,n=ml(r);function r(e){var t;return i()(this,r),(t=n.call(this,e)).state={value:{},errors:[],redirectAfterSave:!1},t.resource=new F.a({route:"/admin/ajax/tables"}),t.saveTable=t.saveTable.bind(u()(t)),t}return s()(r,[{key:"componentDidMount",value:(a=M()(P.a.mark((function e(){var t,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.id)){e.next=6;break}return e.next=4,this.resource.get(t);case 4:a=e.sent,this.setState((function(e){return ul(ul({},e),{},{value:a,id:t})}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"saveTable",value:(t=M()(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.state.id){e.next=7;break}return e.next=4,this.resource.put(this.state.id,this.state.value);case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,this.resource.post(this.state.value);case 9:a=e.sent;case 10:a?this.setState((function(e){return ul(ul({},e),{},{redirectAfterSave:!0})})):this.setState((function(e){return ul(ul({},e),{},{value:{}})}));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"changeValue",value:function(e,t){this.setState((function(a){return(a=ul({},a)).value[t]=e,a}))}},{key:"render",value:function(){var e=this;return this.state.redirectAfterSave?v.a.createElement(Re.a,{to:this.props.redirect_url}):v.a.createElement("form",{className:"admin-form",onSubmit:this.saveTable},v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-name"},"Name"),v.a.createElement("input",{type:"text",id:"page-name",required:1,value:this.state.value.name||"",onChange:function(t){e.changeValue(t.target.value,"name")},className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-title"},"Title"),v.a.createElement("input",{type:"text",id:"page-title",required:1,value:this.state.value.title||"",onChange:function(t){e.changeValue(t.target.value,"title")},className:"form-control"})),v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"page-description"},"Description"),v.a.createElement("input",{type:"text",id:"page-description",required:1,value:this.state.value.description||"",onChange:function(t){e.changeValue(t.target.value,"description")},className:"form-control"})),v.a.createElement("button",{className:"btn btn_success"},this.state.id?"Save":"Add"))}}]),r}(g.Component);function pl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var fl=function(e){d()(n,e);var t,a=pl(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).state={redirect_url:"/admin/tables"},t}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.id,this.setState((function(e){return{table_id:t}}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return v.a.createElement("div",{className:"admin-pages admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables"},"Tables"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"Add New Table"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement(dl,{id:this.state.table_id,redirect_url:this.state.redirect_url})))}}]),n}(g.Component),hl=Object(Re.g)(fl);function bl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var gl=function(e){d()(a,e);var t=bl(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).state={redirect_url:"/admin/tables",table_id:n.props.match.params.id,setting_url:"/admin/tables/edit/"+n.props.match.params.id+"/setting"},n.resource=new F.a({route:"/admin/ajax/tables"}),n}return s()(a,[{key:"render",value:function(){return this.state.redirectAfterSave?v.a.createElement(Re.a,{to:"/admin/tables"}):v.a.createElement("div",{className:"admin-pages admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables"},"Tables"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"Edit Table"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement(dl,{id:this.state.table_id,redirect_url:this.state.redirect_url}),v.a.createElement("div",null,v.a.createElement(T.b,{to:this.state.setting_url},"Settings"))))}}]),a}(g.Component),vl=Object(Re.g)(gl),El=a(64),yl=a.n(El);function _l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function xl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var kl=function(e){d()(n,e);var t,a=xl(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).state={table_id:t.props.match.params.id,migrations:[],table:{},table_columns:[{name:"name",title:"Name"},{name:"status",title:"Status"},{name:"created_at",title:"Created At"}]},t.migrations_resource=new F.a({route:"/admin/ajax/tables/"+t.props.match.params.id+"/migrations"}),t.table_resource=new F.a({route:"/admin/ajax/tables"}),t}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.migrations_resource.getAll();case 2:return t=e.sent,this.setState((function(e){return wl(wl({},e),{},{migrations:t})})),e.next=6,this.table_resource.get(this.state.table_id);case 6:a=e.sent,this.setState((function(e){return wl(wl({},e),{},{table:a})}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return v.a.createElement("div",null,v.a.createElement(z,{columns:this.state.table_columns,rows:this.state.migrations}))}}]),n}(g.Component),Nl=Object(Re.g)(kl);function Ol(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function jl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ol(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ol(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Cl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Sl=function(e){d()(l,e);var t,a,n=Cl(l);function l(e){var t;i()(this,l),(t=n.call(this,e)).relationship_types=[{id:"hasMany",name:"hasMany"},{id:"hasOne",name:"hasOne"},{id:"belongsTo",name:"belongsTo"},{id:"belongsToMany",name:"belongsToMany"},{id:"hasOneThrough",name:"hasOneThrough"},{id:"hasManyThrough",name:"hasManyThrough"},{id:"morphTo",name:"morphTo"},{id:"morphOne",name:"morphOne"},{id:"morphMany",name:"morphMany"},{id:"morphToMany",name:"morphToMany"},{id:"morphedByMany",name:"morphedByMany"}],t.table_columns=[{name:"id",title:"ID"},{name:"name",title:"Name"},{name:"type",title:"Type"},{name:"model_class",title:"Model Class"},{name:"foreign_key",title:"Foreign Key"},{name:"local_key",title:"Local Key"},{name:"edit",title:"Edit",is_button:!0,button:{class:"",function:t.addModalShow.bind(u()(t)),title:"Edit"}},{name:"delete",title:"Delete",is_button:!0,button:{class:"",function:t.onDeleteClick.bind(u()(t)),title:"Delete"}}];var a={id:"",name:"",title:"",type:"hasMany",model_class:"",foreign_key:"",local_key:""};t.accessors_table_columns=[{name:"id",title:"ID"},{name:"name",title:"Name"},{name:"formula",title:"Formula"},{name:"status",title:"Status"},{name:"edit",title:"Edit",is_button:!0,button:{class:"",function:t.addAccessorModalShow.bind(u()(t)),title:"Edit"}},{name:"delete",title:"Delete",is_button:!0,button:{class:"",function:t.onDeleteAccessorClick.bind(u()(t)),title:"Delete"}}];var r={id:"",name:"",formula:"",description:""};return t.state={modal_toogle:!1,table_id:t.props.match.params.id,table:{},actual_columns:[],fillable_columns:[],user_cols:[],data:{description:"",fillable_cols:[],user_cols:[],table_id:t.props.match.params.id,path:"",name:"",relationships:[],pk:"",time_stamps:!1,soft_deletes:!1},accessors:[],default_relationship:a,selected_relationship:null,relationship:a,default_accessor:r,selected_accessor:null,accessor:r},t.resource=new F.a({route:"/admin/ajax/tables"}),t.model_resource=new F.a({route:"/admin/ajax/tables/"+t.props.match.params.id+"/model"}),t.save_model_resource=new F.a({route:"/admin/ajax/tables/"+t.props.match.params.id+"/models"}),t.accessors_resource=!1,t.addFillableColumn=t.addFillableColumn.bind(u()(t)),t.deleteFillableColumn=t.deleteFillableColumn.bind(u()(t)),t.addUserColsColumn=t.addUserColsColumn.bind(u()(t)),t.deleteUserColsColumn=t.deleteUserColsColumn.bind(u()(t)),t.onChange=t.onChange.bind(u()(t)),t.onChangeRelationship=t.onChangeRelationship.bind(u()(t)),t.saveModel=t.saveModel.bind(u()(t)),t.addRelationship=t.addRelationship.bind(u()(t)),t.addModalShow=t.addModalShow.bind(u()(t)),t.toggleModal=t.toggleModal.bind(u()(t)),t.getModalClasses=t.getModalClasses.bind(u()(t)),t.onDeleteClick=t.onDeleteClick.bind(u()(t)),t.addAccessorModalShow=t.addAccessorModalShow.bind(u()(t)),t.onDeleteAccessorClick=t.onDeleteAccessorClick.bind(u()(t)),t}return s()(l,[{key:"componentDidMount",value:(a=M()(P.a.mark((function e(){var t,a,n,r,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resource.get(this.state.table_id);case 2:return t=e.sent,this.setState((function(e){return jl(jl({},e),{},{table:t})})),e.next=6,this.resource.get(this.state.table_id+"/columns");case 6:return a=e.sent,this.setState((function(e){return jl(jl({},e),{},{actual_columns:a,fillable_columns:a,user_cols:a})})),e.next=10,this.resource.get(this.state.table_id+"/model");case 10:if(!(n=e.sent)){e.next=18;break}return r={description:n.description,fillable_cols:this.setCols(n.fillable_cols),user_cols:this.setCols(n.user_cols),table_id:n.table_id,path:null!==n.path?n.path:"",name:n.name,relationships:n.table.relationships,pk:n.pk,time_stamps:n.time_stamps,soft_deletes:n.soft_deletes},this.accessors_resource=new F.a({route:"/admin/ajax/tables/"+this.props.match.params.id+"/models/"+n.id+"/accessors"}),e.next=16,this.accessors_resource.getAll();case 16:l=e.sent,this.setState((function(e){return jl(jl({},e),{},{data:r,accsessors:l})}),(function(){}));case 18:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"setCols",value:function(e){var t=[];return e?null==e||""==e?t:(e.replace(/'/g,""),e.split(",")):t}},{key:"addFillableColumn",value:function(e){var t=e.target.value;if(-1!==this.state.data.fillable_cols.indexOf(t))return alert("This column has already been added."),!1;this.setState((function(e){return jl(jl({},e),{},{data:jl(jl({},e.data),{},{fillable_cols:yl()(e.data.fillable_cols,{$push:[t]})})})}),(function(){}))}},{key:"deleteFillableColumn",value:function(e,t){e.preventDefault();var a=this.state.data.fillable_cols.indexOf(t);if(-1===a)return alert("This column not found."),!1;this.setState((function(e){return jl(jl({},e),{},{data:jl(jl({},e.data),{},{fillable_cols:yl()(e.data.fillable_cols,{$splice:[[a,1]]})})})}),(function(){}))}},{key:"addUserColsColumn",value:function(e){var t=e.target.value;if(-1!==this.state.data.user_cols.indexOf(t))return alert("This column has already been added."),!1;this.setState((function(e){return jl(jl({},e),{},{data:jl(jl({},e.data),{},{user_cols:yl()(e.data.user_cols,{$push:[t]})})})}),(function(){}))}},{key:"deleteUserColsColumn",value:function(e,t){e.preventDefault();var a=this.state.data.user_cols.indexOf(t);if(-1===a)return alert("This column not found."),!1;this.setState((function(e){return jl(jl({},e),{},{data:jl(jl({},e.data),{},{user_cols:yl()(e.data.user_cols,{$splice:[[a,1]]})})})}),(function(){}))}},{key:"onChange",value:function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;this.setState(jl(jl({},this.state),{},{data:jl(jl({},this.state.data),{},r()({},t,a))}))}},{key:"onChangeRelationship",value:function(e){var t=e.target.name;this.setState(jl(jl({},this.state),{},{relationship:jl(jl({},this.state.relationship),{},r()({},t,e.target.value))}))}},{key:"saveModel",value:(t=M()(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!=this.state.data.name){e.next=4;break}return alert("Enter model name!"),e.abrupt("return");case 4:return{"Content-Type":"application/json"},(a=jl({},this.state.data))._token=_token,console.log(this.state.data),JSON.stringify(a),e.next=11,this.save_model_resource.post(a);case 11:e.sent?alert("Success"):alert("Error");case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"addRelationship",value:function(e){var t=this;e.preventDefault();var a=jl({},this.state.relationship);""==a.id&&(a.id=(new Date).getTime()),this.setState((function(e){return null==e.selected_relationship?jl(jl({},e),{},{data:jl(jl({},e.data),{},{relationships:yl()(e.data.relationships,{$push:[a]})})}):jl(jl({},e),{},{data:jl(jl({},e.data),{},{relationships:yl()(e.data.relationships,r()({},e.selected_relationship,{$set:a}))})})}),(function(){t.toggleModal()}))}},{key:"getModalClasses",value:function(){var e="admin-modal";return this.state.modal_toogle&&(e+=" admin-modal_active"),e}},{key:"toggleModal",value:function(){this.setState((function(e){return jl(jl({},e),{},{modal_toogle:!e.modal_toogle})}))}},{key:"addModalShow",value:function(e){var t=this;console.log(e);var a=this.state.data.relationships.indexOf(e);this.setState((function(e){return jl(jl({},e),{},-1===a?{selected_relationship:null,relationship:e.default_relationship}:{selected_relationship:a,relationship:e.data.relationships[a]})}),(function(){t.toggleModal()}))}},{key:"onDeleteClick",value:function(e){var t=this;if(confirm("Are you sure?")){var a=this.state.data.relationships.indexOf(e);-1!==a&&this.setState((function(e){return jl(jl({},e),{},{data:jl(jl({},e.data),{},{relationships:yl()(t.state.data.relationships,{$splice:[[a,1]]})})})}),(function(){alert("Success")}))}}},{key:"addAccessorModalShow",value:function(e){var t=this;console.log(e);var a=this.state.data.relationships.indexOf(e);this.setState((function(e){return jl(jl({},e),{},-1===a?{selected_relationship:null,relationship:e.default_relationship}:{selected_relationship:a,relationship:e.data.relationships[a]})}),(function(){t.toggleModal()}))}},{key:"onDeleteAccessorClick",value:function(e){var t=this;if(confirm("Are you sure?")){var a=this.state.data.relationships.indexOf(e);-1!==a&&this.setState((function(e){return jl(jl({},e),{},{data:jl(jl({},e.data),{},{relationships:yl()(t.state.data.relationships,{$splice:[[a,1]]})})})}),(function(){alert("Success")}))}}},{key:"render",value:function(){var e=this;return v.a.createElement("div",null,v.a.createElement("div",null,v.a.createElement("form",null,v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Name",v.a.createElement("input",{className:"form__input",type:"text",name:"name",value:this.state.data.name,onChange:function(t){e.onChange(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Description",v.a.createElement("input",{className:"form__input",type:"text",name:"description",value:this.state.data.description,onChange:function(t){e.onChange(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Soft Deletes",v.a.createElement("input",{className:"form__input",type:"checkbox",checked:this.state.data.soft_deletes?1:0,name:"soft_deletes",onChange:function(t){e.onChange(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Timestamps",v.a.createElement("input",{className:"form__input",type:"checkbox",checked:this.state.data.time_stamps?1:0,name:"time_stamps",onChange:function(t){e.onChange(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Fillable",v.a.createElement("select",{className:"form__input",name:"add_fillable",onChange:function(t){e.addFillableColumn(t)}},v.a.createElement("option",{value:""}),this.state.fillable_columns.map((function(e){return v.a.createElement("option",{key:e.id,value:e.name,children:e.title})})))),v.a.createElement("div",null,this.state.data.fillable_cols.map((function(t){return v.a.createElement("div",{key:t},v.a.createElement("button",{className:"btn",onClick:function(a){e.deleteFillableColumn(a,t)}},t))})))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"User Cols",v.a.createElement("select",{className:"form__input",name:"add_user_cols",onChange:function(t){e.addUserColsColumn(t)}},v.a.createElement("option",{value:""}),this.state.user_cols.map((function(e){return v.a.createElement("option",{key:e.id,value:e.name,children:e.title})})))),v.a.createElement("div",null,this.state.data.user_cols.map((function(t){return v.a.createElement("div",{key:t},v.a.createElement("button",{className:"btn",onClick:function(a){e.deleteUserColsColumn(a,t)}},t))})))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Path",v.a.createElement("input",{className:"form__input",type:"text",name:"path",value:this.state.data.path,onChange:function(t){e.onChange(t)}}))),v.a.createElement("label",{className:"form-label"},"Primary Key",v.a.createElement("select",{className:"form__input",name:"pk",value:this.state.data.pk,onChange:function(t){e.onChange(t)}},v.a.createElement("option",{value:""}),this.state.actual_columns.map((function(e){return v.a.createElement("option",{key:e.id,value:e.name,children:e.title||e.name})})))))),v.a.createElement("div",null,v.a.createElement(z,{columns:this.table_columns,rows:this.state.data.relationships})),v.a.createElement("div",null,v.a.createElement("button",{onClick:this.addModalShow},"Add Relationship")),v.a.createElement("div",null,v.a.createElement("form",{className:"admin-form",onSubmit:this.saveModel},v.a.createElement("button",{className:"btn btn_success"},"Save"))),v.a.createElement("div",null,v.a.createElement("hr",null)),v.a.createElement("div",null,v.a.createElement(z,{columns:this.accessors_table_columns,rows:this.state.accessors})),v.a.createElement("div",null,v.a.createElement("button",{onClick:this.addAccessorModalShow},"Add Accessor")),v.a.createElement("div",{className:this.getModalClasses()},v.a.createElement("div",{className:"admin-modal__bg",onClick:this.toggleModal}),v.a.createElement("div",{className:"admin-modal-content"},v.a.createElement("button",{className:"admin-modal__close",onClick:this.toggleModal},v.a.createElement(ca,{className:"icon"})),v.a.createElement("div",{className:"admin-caption"},"Add New Relationship"),v.a.createElement("div",{className:"admin-modal-form form"},v.a.createElement("form",{className:"admin-form",onSubmit:this.addRelationship},v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"name",v.a.createElement("input",{className:"form__input",type:"text",name:"name",value:this.state.relationship.name,onChange:function(t){e.onChangeRelationship(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Model Class",v.a.createElement("input",{className:"form__input",type:"text",name:"model_class",value:this.state.relationship.model_class,onChange:function(t){e.onChangeRelationship(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"type",v.a.createElement("select",{className:"form__input",value:this.state.relationship.type,name:"type",onChange:function(t){e.onChangeRelationship(t)}},v.a.createElement("option",{value:""}),this.relationship_types.map((function(e){return v.a.createElement("option",{key:e.id,value:e.id,children:e.title||e.name})}))))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"foreign key",v.a.createElement("input",{className:"form__input",type:"text",name:"foreign_key",value:this.state.relationship.foreign_key,onChange:function(t){e.onChangeRelationship(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"local key",v.a.createElement("input",{className:"form__input",type:"text",name:"local_key",value:this.state.relationship.local_key,onChange:function(t){e.onChangeRelationship(t)}}))),v.a.createElement("button",{className:"btn btn_success"},"Add col"))))))}}]),l}(g.Component),Dl=Object(Re.g)(Sl);function Rl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Rl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Al(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Ml=function(e){d()(o,e);var t,a,n,l=Al(o);function o(e){var t;i()(this,o),(t=l.call(this,e)).table_columns=[{name:"id",title:"ID"},{name:"name",title:"Name"},{name:"formula",title:"Formula"},{name:"status",title:"Status"},{name:"edit",title:"Edit",is_button:!0,button:{class:"",function:t.addModalShow.bind(u()(t)),title:"Edit"}},{name:"delete",title:"Delete",is_button:!0,button:{class:"",function:t.onDeleteClick.bind(u()(t)),title:"Delete"}}];var a={id:"",name:"",formula:"",description:""};return t.state={modal_toogle:!1,table_id:t.props.match.params.id,table:{},data:[],default_accessor:a,selected_accessor:null,accessor:a},t.resource=new F.a({route:"/admin/ajax/tables"}),t.model_resource=new F.a({route:"/admin/ajax/tables/"+t.props.match.params.id+"/model"}),t.accessors_resource=!1,t.toggleModal=t.toggleModal.bind(u()(t)),t.getModalClasses=t.getModalClasses.bind(u()(t)),t.onChange=t.onChange.bind(u()(t)),t.addModalShow=t.addModalShow.bind(u()(t)),t.onDeleteClick=t.onDeleteClick.bind(u()(t)),t.addAccessor=t.addAccessor.bind(u()(t)),t.getModalClasses=t.getModalClasses.bind(u()(t)),t}return s()(o,[{key:"componentDidMount",value:(n=M()(P.a.mark((function e(){var t,a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resource.get(this.state.table_id);case 2:return t=e.sent,this.setState((function(e){return Pl(Pl({},e),{},{table:t})})),e.next=6,this.model_resource.get(" ");case 6:if(!(a=e.sent)){e.next=13;break}return this.accessors_resource=new F.a({route:"/admin/ajax/tables/"+this.props.match.params.id+"/models/"+a.id+"/accessors"}),e.next=11,this.accessors_resource.getAll();case 11:n=e.sent,this.setState((function(e){return Pl(Pl({},e),{},{model:a,data:n})}),(function(){}));case 13:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onChange",value:function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;this.setState(Pl(Pl({},this.state),{},{accessor:Pl(Pl({},this.state.accessor),{},r()({},t,a))}))}},{key:"addAccessor",value:(a=M()(P.a.mark((function e(t){var a,n,l=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!=(a=Pl({},this.state.accessor)).name){e.next=5;break}return alert("Enter accessor name!"),e.abrupt("return");case 5:if(a._token=_token,null!=this.state.selected_accessor){e.next=12;break}return e.next=9,this.accessors_resource.post(a);case 9:n=e.sent,e.next=15;break;case 12:return e.next=14,this.accessors_resource.put(a.id,a);case 14:n=e.sent;case 15:n?this.setState((function(e){return null==e.selected_accessor?Pl(Pl({},e),{},{data:yl()(e.data,{$push:[n]})}):Pl(Pl({},e),{},{data:yl()(e.data,r()({},e.selected_accessor,{$set:n}))})}),(function(){l.toggleModal()})):alert("Error");case 16:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getModalClasses",value:function(){var e="admin-modal";return this.state.modal_toogle&&(e+=" admin-modal_active"),e}},{key:"toggleModal",value:function(){this.setState((function(e){return Pl(Pl({},e),{},{modal_toogle:!e.modal_toogle})}))}},{key:"addModalShow",value:function(e){var t=this;console.log(e);var a=this.state.data.indexOf(e);this.setState((function(e){return Pl(Pl({},e),{},-1===a?{selected_accessor:null,accessor:e.default_accessor}:{selected_accessor:a,accessor:e.data[a]})}),(function(){t.toggleModal()}))}},{key:"onDeleteClick",value:(t=M()(P.a.mark((function e(t){var a,n=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure?")){e.next=8;break}if(-1===(a=this.state.data.indexOf(t))){e.next=8;break}return e.next=6,this.accessors_resource.delete(t.id);case 6:e.sent?this.setState((function(e){return Pl(Pl({},e),{},{data:yl()(n.state.data,{$splice:[[a,1]]})})}),(function(){alert("Success")})):alert("Error");case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;return v.a.createElement("div",null,v.a.createElement("div",null,v.a.createElement(z,{columns:this.table_columns,rows:this.state.data})),v.a.createElement("div",null,v.a.createElement("button",{onClick:this.addModalShow},"Add Accessor")),v.a.createElement("div",{className:this.getModalClasses()},v.a.createElement("div",{className:"admin-modal__bg",onClick:this.toggleModal}),v.a.createElement("div",{className:"admin-modal-content"},v.a.createElement("button",{className:"admin-modal__close",onClick:this.toggleModal},v.a.createElement(ca,{className:"icon"})),v.a.createElement("div",{className:"admin-caption"},"Add New Accessor"),v.a.createElement("div",{className:"admin-modal-form form"},v.a.createElement("form",{className:"admin-form",onSubmit:this.addAccessor},v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"name",v.a.createElement("input",{className:"form__input",type:"text",name:"name",value:this.state.accessor.name,onChange:function(t){e.onChange(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"description",v.a.createElement("input",{className:"form__input",type:"text",name:"description",value:this.state.accessor.description,onChange:function(t){e.onChange(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"formula",v.a.createElement("input",{className:"form__input",type:"text",name:"formula",value:this.state.accessor.formula,onChange:function(t){e.onChange(t)}}))),v.a.createElement("button",{className:"btn btn_success"},"Add accessor"))))))}}]),o}(g.Component),Tl=Object(Re.g)(Ml);function Fl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Hl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function zl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ql=function(e){d()(l,e);var t,a,n=zl(l);function l(e){var t;return i()(this,l),(t=n.call(this,e)).state={table_id:t.props.match.params.id,table:{},relationships:[],relation:"",data:{description:"",prefix:"",namespace:"",relations:""}},t.resource=new F.a({route:"/admin/ajax/tables"}),t.controller_resource=new F.a({route:"/admin/ajax/tables/"+t.props.match.params.id+"/controller"}),t.save_controller_resource=new F.a({route:"/admin/ajax/tables/"+t.props.match.params.id+"/controllers"}),t.onChange=t.onChange.bind(u()(t)),t.saveController=t.saveController.bind(u()(t)),t.addRelation=t.addRelation.bind(u()(t)),t.deleteRelation=t.deleteRelation.bind(u()(t)),t}return s()(l,[{key:"componentDidMount",value:(a=M()(P.a.mark((function e(){var t,a,n=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resource.get(this.state.table_id);case 2:return t=e.sent,this.setState((function(e){return Hl(Hl({},e),{},{table:t})})),e.next=6,this.resource.get(this.state.table_id+"/controller");case 6:(a=e.sent)&&(a.description=null==a.description?"":a.description,a.prefix=null==a.prefix?"":a.prefix,a.namespace=null==a.namespace?"":a.namespace,a.relation=this.setCols(a.relations),this.setState((function(e){return Hl(Hl({},e),{},{data:a})}),(function(){n.setState((function(e){return Hl(Hl({},e),{},{relationships:a.relation})}))})));case 8:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"setCols",value:function(e){var t=[];return e?null==e||""==e?t:(e.replace(/'/g,""),e.split(",")):t}},{key:"onChange",value:function(e){var t=e.target.name;if("relation"===t)return this.setState(Hl(Hl({},this.state),{},{relation:e.target.value}));this.setState(Hl(Hl({},this.state),{},{data:Hl(Hl({},this.state.data),{},r()({},t,e.target.value))}))}},{key:"saveController",value:(t=M()(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),{"Content-Type":"application/json"},(a=Hl({},this.state.data))._token=_token,JSON.stringify(a),e.next=7,this.save_controller_resource.post(a);case 7:e.sent?alert("Success"):alert("Error");case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"addRelation",value:function(e){var t=this;e.preventDefault();var a=this.state.relation;if(-1!==this.state.relationships.indexOf(a))return alert("This relation has already been added."),!1;this.setState((function(e){return Hl(Hl({},e),{},{relationships:yl()(e.relationships,{$push:[a]})})}),(function(){console.log(t.state),t.setRelation()}))}},{key:"deleteRelation",value:function(e,t){var a=this;e.preventDefault();var n=this.state.relationships.indexOf(t);if(-1===n)return alert("This relation not found."),!1;this.setState((function(e){return Hl(Hl({},e),{},{relationships:yl()(e.relationships,{$splice:[[n,1]]})})}),(function(){a.setRelation()}))}},{key:"setRelation",value:function(){var e=this,t=this.state.relationships.join(";");this.setState((function(a){return Hl(Hl({},a),{},{data:Hl(Hl({},e.state.data),{},{relations:t})})}),(function(){console.log(e.state)}))}},{key:"render",value:function(){var e=this;return v.a.createElement("div",null,v.a.createElement("div",null,v.a.createElement("form",{className:"admin-form",onSubmit:this.saveController},v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Description",v.a.createElement("input",{className:"form__input",type:"text",name:"description",value:this.state.data.description,onChange:function(t){e.onChange(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Prefix",v.a.createElement("input",{className:"form__input",type:"text",name:"prefix",value:this.state.data.prefix,onChange:function(t){e.onChange(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Namespace",v.a.createElement("input",{className:"form__input",type:"text",name:"namespace",value:this.state.data.namespace,onChange:function(t){e.onChange(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Relations",v.a.createElement("div",{className:"input-group"},v.a.createElement("input",{className:"form__input",type:"text",name:"relation",value:this.state.relation,onChange:function(t){e.onChange(t)}}),v.a.createElement("button",{onClick:function(t){e.addRelation(t)}},"Добавить")))),v.a.createElement("div",null,this.state.relationships.map((function(t){return v.a.createElement("div",{key:t},v.a.createElement("button",{className:"btn",onClick:function(a){e.deleteRelation(a,t)}},t))}))),v.a.createElement("div",null,v.a.createElement("button",{className:"btn btn_success"},"Save")))))}}]),l}(g.Component),Ll=Object(Re.g)(ql);function Vl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Il(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vl(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ul(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Bl=function(e){d()(n,e);var t,a=Ul(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).state={table_id:t.props.match.params.id,table:{}},t.resource=new F.a({route:"/admin/ajax/tables"}),t}return s()(n,[{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resource.get(this.state.table_id);case 2:t=e.sent,this.setState((function(e){return Il(Il({},e),{},{table:t})}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return v.a.createElement("div",{className:"admin-templates admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables"},"Tables"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables/edit/"+this.state.table_id},this.state.table.title),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"Setting"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement(U.d,{selectedIndex:this.state.activeTab,onSelect:this.switchTab},v.a.createElement(U.b,{className:"nav nav-pills admin-pills"},v.a.createElement(U.a,null,"Migration"),v.a.createElement(U.a,null,"Model"),v.a.createElement(U.a,null,"Controller"),v.a.createElement(U.a,null,"Routes"),v.a.createElement(U.a,null,"Accessors")),v.a.createElement(U.c,null,v.a.createElement(Nl,null),v.a.createElement("div",null,v.a.createElement(T.b,{className:"btn",to:"/admin/tables/edit/"+this.state.table_id+"/setting/migrations/add"},"Add New"))),v.a.createElement(U.c,null,v.a.createElement(Dl,null)),v.a.createElement(U.c,null,v.a.createElement(Ll,null)),v.a.createElement(U.c,null),v.a.createElement(U.c,null,v.a.createElement(Tl,null)))))}}]),n}(g.Component),Gl=Object(Re.g)(Bl);function Kl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Yl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Kl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ql(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Jl=function(e){d()(l,e);var t,a,n=Ql(l);function l(e){var t;i()(this,l),(t=n.call(this,e)).column_types=[{id:"id",name:"Identifier",fields:[]},{id:"foreignId",name:"Foreign Id",fields:["nullable","default"]},{id:"boolean",name:"Boolean",fields:["nullable","default"]},{id:"date",name:"Date",fields:["nullable","default","size","unique","current"]},{id:"datetime",name:"Datetime",fields:["nullable","default","size","unique","current"]},{id:"decimal",name:"Decimal",fields:["nullable","default","size","places"]},{id:"integer",name:"Integer",fields:["nullable","default"]},{id:"longtext",name:"Long Text",fields:["nullable","default","unique"]},{id:"string",name:"String",fields:["nullable","default","size","unique"]},{id:"text",name:"Text",fields:["nullable","default","unique"]},{id:"timestamps",name:"Timestamps",fields:["size"]}];var a={id:"",name:"",title:"",description:"",type:"string",size:191,places:0,default:"",null:!1,unique:!1},r={id:"",target_table:"",source_table_id:t.props.match.params.id,target_column:"",source_column:"",onDelete:"restrict",onUpdate:"restrict"};return t.key_actions=[{id:"restrict",name:"RESTRICT"},{id:"cascade",name:"CASCADE"},{id:"set null",name:"SET NULL"},{id:"no action",name:"NO ACTION"}],t.table_columns=[{name:"title",title:"Title"},{name:"name",title:"Name"},{name:"type",title:"Type"},{name:"size",title:"Size"},{name:"default",title:"Default"},{name:"null",title:"Nullable",is_boolean:!0},{name:"unique",title:"Unique",is_boolean:!0},{name:"edit",title:"Edit",is_button:!0,button:{class:"",function:t.addModalColumnShow.bind(u()(t)),title:"Edit"}},{name:"delete",title:"Delete",is_button:!0,button:{class:"",function:t.onDeleteColumnClick.bind(u()(t)),title:"Delete"}}],t.table_keys=[{name:"target_table",title:"Target Table"},{name:"target_column",title:"Target Column"},{name:"source_column",title:"Source Column"},{name:"onDelete",title:"onDelete"},{name:"onUpdate",title:"onUpdate"},{name:"edit",title:"Edit",is_button:!0,button:{class:"",function:t.addModalKeyShow.bind(u()(t)),title:"Edit"}},{name:"delete",title:"Delete",is_button:!0,button:{class:"",function:t.onDeleteKeyClick.bind(u()(t)),title:"Delete"}}],t.state={column_modal_toggle:!1,key_modal_toggle:!1,table:{},table_id:t.props.match.params.id,data:{columns:[],keys:[],rename_columns:[]},name:"",default_column:a,selected_column:null,column:a,default_key:r,selected_key:null,key:r},t.resource=new F.a({route:"/admin/ajax/tables"}),t.migration_resource=new F.a({route:"/admin/ajax/tables/"+t.props.match.params.id+"/migrations"}),t.addModalColumnShow=t.addModalColumnShow.bind(u()(t)),t.addModalKeyShow=t.addModalKeyShow.bind(u()(t)),t.onChangeColumn=t.onChangeColumn.bind(u()(t)),t.onChangeKey=t.onChangeKey.bind(u()(t)),t.addColumn=t.addColumn.bind(u()(t)),t.addKey=t.addKey.bind(u()(t)),t.toggleModal=t.toggleModal.bind(u()(t)),t.getModalClasses=t.getModalClasses.bind(u()(t)),t.onDeleteColumnClick=t.onDeleteColumnClick.bind(u()(t)),t.onDeleteKeyClick=t.onDeleteKeyClick.bind(u()(t)),t.changeName=t.changeName.bind(u()(t)),t.saveMigration=t.saveMigration.bind(u()(t)),t.isShowField=t.isShowField.bind(u()(t)),t}return s()(l,[{key:"componentDidMount",value:(a=M()(P.a.mark((function e(){var t,a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resource.get(this.state.table_id);case 2:return t=e.sent,this.setState((function(e){return Yl(Yl({},e),{},{table:t})})),e.next=6,this.resource.get(this.state.table_id+"/columns");case 6:return a=e.sent,this.setState((function(e){return Yl(Yl({},e),{},{data:Yl(Yl({},e.data),{},{columns:a})})})),e.next=10,this.resource.get(this.state.table_id+"/keys");case 10:n=e.sent,this.setState((function(e){return Yl(Yl({},e),{},{data:Yl(Yl({},e.data),{},{keys:n})})}));case 12:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getModalClasses",value:function(e){var t=e+"_modal_toggle",a="admin-modal";return this.state[t]&&(a+=" admin-modal_active"),a}},{key:"isShowField",value:function(e){var t=this,a=!1,n=this.column_types.find((function(e){return e.id===t.state.column.type}));n&&(n.fields.indexOf(e)>-1&&(a=!0));return a}},{key:"toggleModal",value:function(e){var t=this,a=e+"_modal_toggle";this.setState((function(e){return Yl(Yl({},e),{},r()({},a,!e[a]))}),(function(){console.log(t.state)}))}},{key:"addModalColumnShow",value:function(e){var t=this,a=this.state.data.columns.indexOf(e);this.setState((function(e){return Yl(Yl({},e),{},-1===a?{selected_column:null,column:e.default_column}:{selected_column:a,column:e.data.columns[a]})}),(function(){t.toggleModal("column")}))}},{key:"addModalKeyShow",value:function(e){var t=this,a=this.state.data.keys.indexOf(e);this.setState((function(e){return Yl(Yl({},e),{},-1===a?{selected_key:null,key:e.default_key}:{selected_key:a,key:e.data.keys[a]})}),(function(){t.toggleModal("key")}))}},{key:"addColumn",value:function(e){var t=this;e.preventDefault();var a=Yl({},this.state.column);""==a.id&&(a.id=(new Date).getTime()),this.setState((function(e){return null==e.selected_column?Yl(Yl({},e),{},{data:Yl(Yl({},e.data),{},{columns:yl()(e.data.columns,{$push:[a]})})}):Yl(Yl({},e),{},{data:Yl(Yl({},e.data),{},{columns:yl()(e.data.columns,r()({},e.selected_column,{$set:a}))})})}),(function(){t.toggleModal("column")}))}},{key:"addKey",value:function(e){var t=this;e.preventDefault();var a=Yl({},this.state.key);""==a.id&&(a.id=(new Date).getTime()),this.setState((function(e){return null==e.selected_key?Yl(Yl({},e),{},{data:Yl(Yl({},e.data),{},{keys:yl()(e.data.keys,{$push:[a]})})}):Yl(Yl({},e),{},{data:Yl(Yl({},e.data),{},{keys:yl()(e.data.keys,r()({},e.selected_key,{$set:a}))})})}),(function(){t.toggleModal("key")}))}},{key:"onDeleteColumnClick",value:function(e){var t=this;if(confirm("Are you sure?")){var a=this.state.data.columns.indexOf(e);-1!==a&&this.setState((function(e){return Yl(Yl({},e),{},{data:Yl(Yl({},e.data),{},{columns:yl()(t.state.data.columns,{$splice:[[a,1]]})})})}),(function(){alert("Success")}))}}},{key:"onDeleteKeyClick",value:function(e){var t=this;if(confirm("Are you sure?")){var a=this.state.data.keys.indexOf(e);-1!==a&&this.setState((function(e){return Yl(Yl({},e),{},{data:Yl(Yl({},e.data),{},{keys:yl()(t.state.data.keys,{$splice:[[a,1]]})})})}),(function(){alert("Success")}))}}},{key:"onChangeColumn",value:function(e){var t=this,a=e.target.name,n="checkbox"===e.target.type?e.target.checked:e.target.value;if("name"===a){var l,i=e.target.value.replace("_"," ");n=i.charAt(0).toUpperCase()+i.slice(1);var o=this.state.column.title,s=this.state.column.description;return""!==o&&o!==n.slice(0,n.length-1)||(o=n),""!==s&&s!==n.slice(0,n.length-1)||(s=n),void this.setState(Yl(Yl({},this.state),{},{column:Yl(Yl({},this.state.column),{},(l={},r()(l,a,e.target.value),r()(l,"title",o),r()(l,"description",s),l))}))}this.setState(Yl(Yl({},this.state),{},{column:Yl(Yl({},this.state.column),{},r()({},a,n))}),(function(){console.log(t.state)}))}},{key:"onChangeKey",value:function(e){var t=e.target.name;console.log(e.target.value),this.setState(Yl(Yl({},this.state),{},{key:Yl(Yl({},this.state.key),{},r()({},t,e.target.value))}))}},{key:"changeName",value:function(e){var t=e.target.value;this.setState((function(e){return{name:t}}))}},{key:"saveMigration",value:(t=M()(P.a.mark((function e(t){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!=this.state.name){e.next=4;break}return alert("Enter migration name!"),e.abrupt("return");case 4:return this.state.main_url,{"Content-Type":"application/json"},console.log(this.state.data),a={name:this.state.name,data:JSON.stringify(this.state.data),_token:_token},JSON.stringify(a),e.next=11,this.migration_resource.post(a);case 11:n=e.sent,console.log(n),n?alert("Success"):alert("Error");case 14:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;return v.a.createElement("div",{className:"admin-templates admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables"},"Tables"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables/edit/"+this.state.table_id},this.state.table.title),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement(T.b,{className:"admin-breadcrumbs__link",to:"/admin/tables/edit/"+this.state.table_id+"/setting"},"Setting"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"Add New Migration"))),v.a.createElement("div",{className:"admin-content"},v.a.createElement("div",null,v.a.createElement("input",{type:"text",placeholder:"Enter migration name...",onChange:this.changeName})),v.a.createElement(z,{columns:this.table_columns,rows:this.state.data.columns}),v.a.createElement("div",null,v.a.createElement("button",{onClick:function(t){return e.addModalColumnShow(t)}},"Add Column")),v.a.createElement(z,{columns:this.table_keys,rows:this.state.data.keys}),v.a.createElement("div",null,v.a.createElement("button",{onClick:function(t){return e.addModalKeyShow(t)}},"Add Key")),v.a.createElement("div",{className:this.getModalClasses("key")},v.a.createElement("div",{className:"admin-modal__bg",onClick:function(){return e.toggleModal("key")}}),v.a.createElement("div",{className:"admin-modal-content"},v.a.createElement("button",{className:"admin-modal__close",onClick:function(){return e.toggleModal("key")}},v.a.createElement(ca,{className:"icon"})),v.a.createElement("div",{className:"admin-caption"},"Add New Key"),v.a.createElement("div",{className:"admin-modal-form form"},v.a.createElement("form",{className:"admin-form",onSubmit:this.addKey},v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"id",v.a.createElement("input",{className:"form__input",type:"text",name:"id",value:this.state.key.id,onChange:function(t){e.onChangeKey(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Target Table",v.a.createElement("input",{className:"form__input",type:"text",name:"target_table",value:this.state.key.target_table,onChange:function(t){e.onChangeKey(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Source Column",v.a.createElement("input",{className:"form__input",type:"text",name:"source_column",value:this.state.key.source_column,onChange:function(t){e.onChangeKey(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"Target Column",v.a.createElement("input",{className:"form__input",type:"text",name:"target_column",value:this.state.key.target_column,onChange:function(t){e.onChangeKey(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"onUpdate",v.a.createElement("select",{className:"form__input",value:this.state.key.onUpdate,name:"onUpdate",onChange:function(t){e.onChangeKey(t)}},v.a.createElement("option",{value:""}),this.key_actions.map((function(e){return v.a.createElement("option",{key:e.id,value:e.id,children:e.title||e.name})}))))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"onDelete",v.a.createElement("select",{className:"form__input",value:this.state.key.onDelete,name:"onDelete",onChange:function(t){e.onChangeKey(t)}},v.a.createElement("option",{value:""}),this.key_actions.map((function(e){return v.a.createElement("option",{key:e.id,value:e.id,children:e.title||e.name})}))))),v.a.createElement("button",{className:"btn btn_success"},"Add key"))))),v.a.createElement("div",{className:this.getModalClasses("column")},v.a.createElement("div",{className:"admin-modal__bg",onClick:function(){return e.toggleModal("column")}}),v.a.createElement("div",{className:"admin-modal-content"},v.a.createElement("button",{className:"admin-modal__close",onClick:function(){return e.toggleModal("column")}},v.a.createElement(ca,{className:"icon"})),v.a.createElement("div",{className:"admin-caption"},"Add New Column"),v.a.createElement("div",{className:"admin-modal-form form"},v.a.createElement("form",{className:"admin-form",onSubmit:this.addColumn},v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"name",v.a.createElement("input",{className:"form__input",type:"text",name:"name",value:this.state.column.name,onChange:function(t){e.onChangeColumn(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"type",v.a.createElement("select",{className:"form__input",value:this.state.column.type,name:"type",onChange:function(t){e.onChangeColumn(t)}},v.a.createElement("option",{value:""}),this.column_types.map((function(e){return v.a.createElement("option",{key:e.id,value:e.id,children:e.title||e.name})}))))),this.isShowField("size")?v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"size",v.a.createElement("input",{className:"form__input",type:"text",name:"size",value:this.state.column.size,onChange:function(t){e.onChangeColumn(t)}}))):null,this.isShowField("places")?v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"places",v.a.createElement("input",{className:"form__input",type:"text",name:"places",value:this.state.column.places,onChange:function(t){e.onChangeColumn(t)}}))):null,this.isShowField("default")?v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"default",v.a.createElement("input",{className:"form__input",type:"text",name:"default",value:this.state.column.default,onChange:function(t){e.onChangeColumn(t)}}))):null,this.isShowField("unique")?v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},v.a.createElement("input",{className:"form__input",type:"checkbox",name:"unique",checked:this.state.column.unique?1:0,onChange:function(t){e.onChangeColumn(t)}}),"unique")):null,this.isShowField("nullable")?v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},v.a.createElement("input",{className:"form__input",type:"checkbox",name:"null",checked:this.state.column.null?1:0,onChange:function(t){e.onChangeColumn(t)}}),"nullable")):null,v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"title",v.a.createElement("input",{className:"form__input",type:"text",name:"title",value:this.state.column.title,onChange:function(t){e.onChangeColumn(t)}}))),v.a.createElement("div",null,v.a.createElement("label",{className:"form-label"},"description",v.a.createElement("input",{className:"form__input",type:"text",name:"description",value:this.state.column.description,onChange:function(t){e.onChangeColumn(t)}}))),v.a.createElement("button",{className:"btn btn_success"},"Add col"))))),v.a.createElement("div",null),v.a.createElement("div",null,v.a.createElement("form",{className:"admin-form",onSubmit:this.saveMigration},v.a.createElement("button",{className:"btn btn_success"},"Save")))))}}]),l}(g.Component),$l=Object(Re.g)(Jl);function Wl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Xl=function(e){d()(a,e);var t=Wl(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){return v.a.createElement("div",{children:"Version: ".concat(altrp_version),className:"admin__version"})}}]),a}(g.Component);function Zl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ei(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ti(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ai,ni=[{name:"title",title:"Title",url:!0,editUrl:!0,tag:"Link"},{name:"name",title:"Name"},{name:"description",title:"Description"},{name:"updated_at",title:"Updated At"}],ri={pageCount:1,currentPage:1},li=function(e){d()(n,e);var t,a=ti(n);function n(e){var t;return i()(this,n),(t=a.call(this,e)).state={sql_editorsPagination:ri,sql_editors:[]},t.changePage=t.changePage.bind(u()(t)),t.sql_editorsResource=new F.a({route:"/admin/ajax/sql_editors"}),t}return s()(n,[{key:"changePage",value:function(e,t){this.setState((function(a){return ei(ei({},a),{},r()({},t,ei(ei({},a[t]),{},{currentPage:e})))}))}},{key:"updateSqlEditors",value:function(){}},{key:"componentDidMount",value:(t=M()(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sql_editorsResource.getAll();case 2:t=(t=e.sent).sql_editors,this.setState((function(e){return ei(ei({},e),{},{sql_editors:t})}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.sql_editors,n=t.sql_editorsPagination;return v.a.createElement("div",{className:"admin-settings admin-page"},v.a.createElement("div",{className:"admin-heading"},v.a.createElement("div",{className:"admin-breadcrumbs"},v.a.createElement("a",{className:"admin-breadcrumbs__link",href:"#"},"SQL Editors"),v.a.createElement("span",{className:"admin-breadcrumbs__separator"},"/"),v.a.createElement("span",{className:"admin-breadcrumbs__current"},"SQL Editors")),v.a.createElement(T.b,{className:"btn",to:"/admin/tables/sql_editors/add"},"Add New")),v.a.createElement("div",{className:"admin-content"},v.a.createElement(z,{columns:ni,quickActions:[{tag:"Link",props:{href:"/admin/tables/sql_editors/edit/:id"},title:"Edit"},{tag:"button",route:"/admin/ajax/sql_editors/:id",method:"delete",confirm:"Are You Sure?",className:"quick-action-menu__item_danger",title:"Trash"}],rows:a.map((function(e){return ei(ei({},e),{},{editUrl:"/admin/tables/sql_editors/edit/"+e.id})}))}),v.a.createElement(ra,{pageCount:n.pageCount,currentPage:n.currentPage,changePage:function(t){return e.changePage(t,"sql_editorsPagination")},itemsCount:a.length})))}}]),n}(g.Component),ii=a(2),oi=a.n(ii);function si(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ci(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?si(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):si(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ui(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}window.React=v.a,window.ReactDOM=oi.a,window.Component=v.a.Component,ai=function(e){d()(a,e);var t=ui(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).state={adminState:{adminEnable:!0},pagesMenuShow:!1},n.toggleMenu=n.toggleMenu.bind(u()(n)),n}return s()(a,[{key:"componentDidMount",value:function(){G.a.subscribe(this.updateAdminState.bind(this))}},{key:"updateAdminState",value:function(){var e=G.a.getState().adminState;this.setState((function(t){return ci(ci({},t),{},{adminState:ci({},e)})}))}},{key:"toggleMenu",value:function(){this.setState((function(e){return ci(ci({},e),{},{pagesMenuShow:!e.pagesMenuShow})}))}},{key:"render",value:function(){var e=["admin"];return this.state.adminState.adminEnable||e.push("pointer-event-none"),this.state.pagesMenuShow&&e.push("admin_pages-show"),v.a.createElement(E.a,{store:G.a},v.a.createElement("div",{className:e.join(" ")},v.a.createElement(T.a,null,v.a.createElement("nav",{className:"admin-nav"},v.a.createElement("div",{className:"admin-nav-top"},v.a.createElement(S,null),v.a.createElement(D,{className:"admin__bars",onClick:this.toggleMenu})),v.a.createElement("div",{className:"admin-nav-main"},v.a.createElement("ul",{className:"admin-nav-list"},v.a.createElement("li",null,v.a.createElement(T.b,{to:"/admin/dashboard",className:"admin-nav-list__link"},v.a.createElement(xe,{className:"icon"}),v.a.createElement("span",null,"Dashboard"))),v.a.createElement("li",null,v.a.createElement(T.b,{to:"/admin/assets",className:"admin-nav-list__link"},v.a.createElement(we,{className:"icon"}),v.a.createElement("span",null,"Assets"))),v.a.createElement("li",null,v.a.createElement(T.b,{to:"/admin/tables/models",className:"admin-nav-list__link"},v.a.createElement(Ce,{className:"icon"}),v.a.createElement("span",null,"Tables")),v.a.createElement("ul",{className:"admin-nav-sublist"},v.a.createElement("li",null,v.a.createElement(T.b,{to:"/admin/tables/sql_editors",className:"admin-nav-list__link"},v.a.createElement(Ce,{className:"icon"}),v.a.createElement("span",null,"SQL Editors"))))),v.a.createElement("li",null,v.a.createElement(T.b,{to:"/admin/templates",className:"admin-nav-list__link"},v.a.createElement(Se,{className:"icon"}),v.a.createElement("span",null,"Templates"))),v.a.createElement("li",null,v.a.createElement(T.b,{to:"/admin/reports",className:"admin-nav-list__link"},v.a.createElement(Oe,{className:"icon"}),v.a.createElement("span",null,"Reports"))),v.a.createElement("li",null,v.a.createElement(T.b,{to:"/admin/users",className:"admin-nav-list__link"},v.a.createElement(De,{className:"icon"}),v.a.createElement("span",null,"Users"))),v.a.createElement("li",null,v.a.createElement(T.b,{to:"/admin/tools",className:"admin-nav-list__link"},v.a.createElement("span",null,"Tools"))),v.a.createElement("li",null,v.a.createElement(T.b,{to:"/admin/access/roles",className:"admin-nav-list__link"},v.a.createElement(De,{className:"icon"}),v.a.createElement("span",null,"Access"))),v.a.createElement("li",null,v.a.createElement(T.b,{to:"/admin/plugins",className:"admin-nav-list__link"},v.a.createElement(Ne,{className:"icon"}),v.a.createElement("span",null,"Plugins"))),v.a.createElement("li",null,v.a.createElement(T.b,{to:"/admin/settings",className:"admin-nav-list__link"},v.a.createElement(je,{className:"icon"}),v.a.createElement("span",null,"Settings")))),v.a.createElement("ul",{className:"admin-nav-list admin-nav-list_pages"},v.a.createElement("li",null,v.a.createElement(T.b,{to:"/admin/pages",className:"admin-nav-list__link"},v.a.createElement(ke,{className:"icon"}),v.a.createElement("span",null,"Pages"))))),v.a.createElement(Xl,null)),v.a.createElement(Re.d,null,v.a.createElement(Re.b,{path:"/admin/",exact:!0},v.a.createElement(Re.a,{to:"/admin/dashboard"})),v.a.createElement(Re.b,{path:"/admin/settings"},v.a.createElement(_e,null)),v.a.createElement(Re.b,{path:"/admin/users",exact:!0},v.a.createElement(He,null)),v.a.createElement(Re.b,{path:"/admin/users/new",exact:!0},v.a.createElement(Xe,null)),v.a.createElement(Re.b,{path:"/admin/users/user/:id"},v.a.createElement(tt,null)),v.a.createElement(Re.b,{path:"/admin/tools"},v.a.createElement(nt,null)),v.a.createElement(Re.b,{path:"/admin/assets"},v.a.createElement(ct,null)),v.a.createElement(Re.b,{path:"/admin/dashboard"},v.a.createElement(Jt,null)),v.a.createElement(Re.b,{path:"/admin/plugins"},v.a.createElement(Wt,null)),v.a.createElement(Re.b,{path:"/admin/reports"},v.a.createElement(Zt,null)),v.a.createElement(Re.b,{path:"/admin/tables",exact:!0},v.a.createElement(ta,null)),v.a.createElement(Re.b,{path:"/admin/tables/edit/:id",component:vl,exact:!0},v.a.createElement(vl,null)),v.a.createElement(Re.b,{path:"/admin/tables/edit/:id/setting",component:Gl,exact:!0}),v.a.createElement(Re.b,{path:"/admin/tables/edit/:id/setting/migrations/add",component:$l}),v.a.createElement(Re.b,{path:"/admin/tables/add"},v.a.createElement(hl,null)),v.a.createElement(Re.b,{path:"/admin/templates"},v.a.createElement(sa,null)),v.a.createElement(Re.b,{path:"/admin/pages",exact:!0},v.a.createElement(I,null)),v.a.createElement(Re.b,{path:"/admin/pages/edit/:id"},v.a.createElement(ja,null)),v.a.createElement(Re.b,{path:"/admin/pages/add"},v.a.createElement(ja,null)),v.a.createElement(Re.b,{path:"/admin/tables/models",exact:!0},v.a.createElement(_n,null)),v.a.createElement(Re.b,{path:"/admin/tables/sql_editors",exact:!0},v.a.createElement(li,null)),v.a.createElement(Re.b,{path:"/admin/tables/sql_editors/add"},v.a.createElement(Lr,null)),v.a.createElement(Re.b,{path:"/admin/tables/sql_editors/edit/:id"},v.a.createElement(Lr,null)),v.a.createElement(Re.b,{path:"/admin/tables/models/add"},v.a.createElement(Rn,null)),v.a.createElement(Re.b,{path:"/admin/tables/models/edit/:id",exact:!0},v.a.createElement(Rn,null)),v.a.createElement(Re.b,{path:"/admin/tables/models/:modelId/fields/add"},v.a.createElement(Kn,null)),v.a.createElement(Re.b,{path:"/admin/tables/models/:modelId/fields/edit/:id"},v.a.createElement(Kn,null)),v.a.createElement(Re.b,{path:"/admin/tables/models/:modelId/relations/add"},v.a.createElement(ar,null)),v.a.createElement(Re.b,{path:"/admin/tables/models/:modelId/relations/edit/:id"},v.a.createElement(ar,null)),v.a.createElement(Re.b,{path:"/admin/tables/models/:modelId/queries/add"},v.a.createElement(Tr,null)),v.a.createElement(Re.b,{path:"/admin/tables/models/:modelId/queries/edit/:id"},v.a.createElement(Tr,null)),v.a.createElement(Re.b,{path:"/admin/tables/data-sources/add"},v.a.createElement(cr,null)),v.a.createElement(Re.b,{path:"/admin/access/roles/add"},v.a.createElement(tl,null)),v.a.createElement(Re.b,{path:"/admin/access/roles/edit/:id"},v.a.createElement(tl,null)),v.a.createElement(Re.b,{path:"/admin/access/permissions/add"},v.a.createElement(sl,null)),v.a.createElement(Re.b,{path:"/admin/access/permissions/edit/:id"},v.a.createElement(sl,null)),v.a.createElement(Re.b,{path:"/admin/access"},v.a.createElement(Qr,null)))),v.a.createElement(fa,null),v.a.createElement(Ra,null),v.a.createElement(hn,null)))}}]),a}(g.Component);t.default=ai},50:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return i}));var n="SET_DISABLED",r="SET_ENABLE";function l(){return{type:n}}function i(){return{type:r}}},51:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return i}));var n="ASSETS_SHOW",r="ASSETS_TOGGLE";function l(e){return e.active=!0,{type:n,settings:e}}function i(){return{type:r}}},53:function(e,t,a){"use strict";var n=a(10),r=a.n(n),l=a(11),i=a.n(l),o=a(89),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r()(this,e),this.data=Object(o.cloneDeep)(t)}return i()(e,[{key:"getData",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?_.cloneDeep(this.data):this.data}},{key:"getProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(o.get)(this.data,e,t)}},{key:"setProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(o.set)(this.data,e,t)}}]),e}();t.a=s},67:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n="SET_LOGO";function r(e){return{logoData:e,type:n}}},68:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(15),r=a.n(n),l=a(51);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={onChoose:function(e){console.log(e)},active:!1};function c(e,t){switch(e=e||s,t.type){case l.a:e=o({},t.settings);break;case l.b:(e=o({},e)).active=!e.active}return e}},69:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n="SET_ACE";function r(e){return{AceEditor:e,type:n}}},71:function(e,t,a){"use strict";t.a={TEMPLATE_UPDATED:"TEMPLATE_UPDATED",TEMPLATE_NEED_UPDATE:"TEMPLATE_NEED_UPDATE",TEMPLATE_SAVING:"TEMPLATE_SAVING",DEFAULT_BREAKPOINT:"DEFAULT_BREAKPOINT",SCREENS:[{icon:"wide_screen",name:"DEFAULT_BREAKPOINT",id:1,width:"100%",mediaQuery:""},{icon:"desktop",name:"Desktop",id:2,width:"1440px",mediaQuery:"@media screen and (max-width: 1440px)"},{icon:"laptop",name:"Laptop",id:3,width:"1024px",mediaQuery:"@media screen and (max-width: 1024px)"},{icon:"tablet",name:"Tablet",id:4,width:"768px",mediaQuery:"@media screen and (max-width: 768px)"},{icon:"big_phone",name:"Big-Phone",id:5,width:"450px",mediaQuery:"@media screen and (max-width: 450px)"},{icon:"small_phone",name:"Small-Phone",id:6,width:"320px",mediaQuery:"@media screen and (max-width: 320px)"}]}},90:function(e,t,a){(t=e.exports=a(39)(!1)).i(a(345),""),t.i(a(129),""),t.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto:wght@400;700&display=swap);",""]),t.i(a(346),""),t.push([e.i,'html{height:100%}body,*,*:focus,*::before,*::after{box-sizing:border-box;outline:none}body{font-family:Roboto, sans-serif;margin:0;overflow-x:hidden;color:#242424;display:flex;flex-direction:column;height:100%}a,button,svg,path{-webkit-transition-duration:0.2s;-moz-transition-duration:0.2s;-ms-transition-duration:0.2s;-o-transition-duration:0.2s;transition-duration:0.2s;font-family:Roboto, sans-serif}.btn:active,.btn:focus,a:active,a:focus,button:active,button:focus{outline:none;box-shadow:none}button{cursor:pointer}.btn_grey{background-color:#8E94AA}.btn_disabled{background-color:#8E94AA;cursor:default;font-weight:bold;color:#fff;pointer-events:none}.btn,button{padding:10px 15px;border:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}iframe{display:block;border:none}input[type="checkbox"]{cursor:pointer}.no-transition{-webkit-transition-duration:0s !important;-moz-transition-duration:0s !important;-ms-transition-duration:0s !important;-o-transition-duration:0s !important;transition-duration:0s !important}.caption{margin-bottom:15px;font-weight:600;font-size:18px}.btn_bare{border:none;background-color:transparent}.btn_success{background-color:#87CA00;color:#fff;font-weight:bold}.btn_failure{background-color:#FF4E6E;color:#fff;font-weight:bold}.text_bold{font-weight:bold}.altrp-disabled{pointer-events:none}.pointer-event-none{pointer-events:none}.altrp-inherit{font-family:inherit;font-size:inherit;font-style:inherit;line-height:inherit;color:inherit;text-decoration:inherit;text-transform:inherit}.altrp-scroll__vertical-track{bottom:2px;top:2px;right:2px;z-index:1000;border-radius:3px}.clickable{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cursor-pointer{cursor:pointer}.rotate-180{transform:rotatex(180deg)}.altrp-label{display:block}.admin-heading{display:flex;align-items:center;padding:10px 20px 10px 25px}.admin-breadcrumbs{margin-right:20px;font-size:28px;font-family:Montserrat, Arial, sans-serif}.admin-breadcrumbs__link{font-weight:500;font-size:28px;text-decoration:none;color:#8E94AA}.admin-breadcrumbs__link:hover{color:#315EFB}.admin-breadcrumbs__separator{font-weight:bold;font-size:28px;margin-left:5px;margin-right:5px}.admin-breadcrumbs__current{font-weight:bold;font-size:28px}.admin-filters{margin-left:20px;margin-right:20px;font-size:15px;font-family:Roboto, Arial, sans-serif}.admin-filters__link{text-decoration:none;color:#8E94AA}.admin-filters__link:hover{color:#315EFB}.admin-filters__separator{margin-left:5px;margin-right:5px}.admin-filters__current{font-size:15px}.btn{display:inline-block;padding:6px 12px;background:#E9E9EB;border:1.5px solid #3C455B;border-radius:2px;font-family:Roboto, Arial, sans-serif;font-weight:500;font-size:15px;line-height:18px;text-decoration:none;color:#3C455B}.btn:hover{background:#3C455B;color:white}.btn_success{background-color:#87CA00;border-color:#87CA00}.btn_success:hover{border-color:#343B4C}.form-bottom{display:flex;justify-content:flex-end}.form-label{position:relative;margin-bottom:13px;font-size:13px;display:block;width:100%}.form-label select.form__input,.form-label .form__input[type="text"]{margin-top:5px;font-size:13px;border:1px solid #D5D7DE}.form-label__error{position:absolute;left:0;top:100%;font-size:12px;line-height:13px;color:#FF4E6E}select.form__input,input[type="number"].form__input,input[type="text"].form__input{width:100%;padding:10px;line-height:16px;font-size:14px}.admin-pills .nav-item{background-color:transparent}.admin-pills .nav-link{border:1px solid #D5D7DE;border-radius:3px 3px 0 0;margin-bottom:-1px;background-color:#E6E9EC;font-family:Montserrat, sans-serif;font-size:16px;font-weight:bold;color:#8E94AA}.admin-pills .nav-link.active{background-color:#fff;border-bottom-color:#fff;color:#343B4C}.admin-user-top-panel{position:absolute;top:0;right:0;height:62px;padding-right:27px}.top-panel-notification{margin-right:19px}.top-panel__portrait{margin-right:7px}.top-panel__greeting{margin-right:14px;font-size:15px;color:#8E94AA}.top-panel-logout{background-color:transparent;border:none;padding:0}.admin-table{width:100%;border:1px solid #D5D7DE;border-radius:3px;overflow:hidden}.admin-table .admin-table__td{height:65px;position:relative}.admin-table .admin-table__td_check{width:45px;text-align:center}.admin-table table{border-collapse:collapse;width:100%}.admin-table-head{background-color:#fff;border-bottom:1px solid #D5D7DE}.admin-table-head .admin-table__td{height:45px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;color:#343B4C}.admin-table-body .admin-table-row:nth-child(2n){background-color:#F7F8F9}.admin-table-body .admin-table-row:nth-child(2n+1){background-color:#fff}.admin-table-body .admin-table-row .quick-action-menu{display:none;position:absolute;bottom:4px;left:0}.admin-table-body .admin-table-row .quick-action-menu__item_wrapper::after{content:" | ";color:#8E94AA}.admin-table-body .admin-table-row .quick-action-menu__item_wrapper:last-child::after{content:""}.admin-table-body .admin-table-row:hover .quick-action-menu{display:inline-block}.admin-table-body .admin-table-row:hover .quick-action-menu .quick-action-menu__item{font-size:12px;color:#8E94AA;padding:0;background-color:transparent}.admin-table-body .admin-table-row:hover .quick-action-menu .quick-action-menu__item.quick-action-menu__item_danger{color:#cf0025}.admin-table-body .admin-table-row:hover .quick-action-menu .quick-action-menu__item:hover{text-decoration:underline}.admin-modal{display:flex;opacity:0;z-index:-1000;position:fixed;top:0;bottom:0;right:0;left:0;align-items:center;justify-content:center}.admin-modal_active{display:flex;opacity:1;z-index:1000;background-color:rgba(52,59,76,0.2)}.admin-modal_active .admin-modal-content{transform:translate(0, 0vh)}.admin-modal-content{width:320px;position:relative;padding:25px;background-color:#fff;border:1px solid #D5D7DE;-webkit-box-shadow:0px 4px 5px rgba(0,0,0,0.04);-moz-box-shadow:0px 4px 5px rgba(0,0,0,0.04);box-shadow:0px 4px 5px rgba(0,0,0,0.04);border-radius:3px;z-index:100;transform:translate(0, -50vh);transition-duration:.5s}.admin-modal__close{position:absolute;top:0;right:0;padding:10px;border:none;background-color:transparent}.admin-modal__close .icon{width:auto;height:auto;margin:0;display:block}.admin-modal__bg{position:absolute;top:0;bottom:0;left:0;right:0;z-index:50}.uploader{padding:48px;background-color:#fff;border:1px solid #D5D7DE;border-radius:5px;-webkit-transition-duration:.5s;-moz-transition-duration:.5s;-ms-transition-duration:.5s;-o-transition-duration:.5s;transition-duration:.5s;color:#8E94AA}.uploader .icon{width:auto;height:auto;fill:#8E94AA;margin:0;transition-duration:inherit}.uploader__input{display:none}.uploader_drag-over{padding:44px;border:5px solid #71d7f7;color:#71d7f7}.uploader_drag-over .icon{fill:#71d7f7}.item{position:relative}.item__delete{position:absolute;top:0;right:0;padding:10px;border:none;background-color:transparent}.item__delete-icon{transform:scale(1.2)}.item__background{position:absolute;top:5px;bottom:5px;left:5px;right:5px;background-position:center;-webkit-background-size:contain;background-size:contain;background-repeat:no-repeat;background-color:#F7F8F9}.assets-list{background-color:#fff}.assets-list__item{padding-top:8.333333%}.admin-settings{width:100%;border:1px solid #D5D7DE;border-radius:3px;overflow:hidden}.admin-settings .nav{margin-bottom:-1px}.admin-settings .admin-settings-table__td{height:65px;padding:8px 16px}.admin-settings .admin-settings-table__td_check{width:45px;text-align:center}.admin-settings .header-text{text-transform:uppercase;font-weight:600;font-size:16px;line-height:20px}.admin-settings .row-text{font-family:Roboto;font-style:normal;font-weight:bold;font-size:15px;line-height:18px}.admin-settings .admin-settings-button{line-height:5px;width:163px;height:30px;left:315px;top:448px;background:#87CA00;border:1.5px solid #87CA00;box-sizing:border-box;border-radius:2px}.admin-settings table{border-collapse:collapse;width:100%}.admin-settings table .admin-table__td_check{margin-right:10px}.admin-settings-head{background-color:#fff;border-bottom:1px solid #D5D7DE}.admin-settings-head .admin-settings-table__td{height:45px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;color:#343B4C}.admin-settings-body .admin-settings-table-row:nth-child(2n){background-color:#F7F8F9}.admin-settings-body .admin-settings-table-row:nth-child(2n+1){background-color:#fff}.react-tabs__tab-panel{width:100%;padding:10px;border:1px solid #D5D7DE;border-radius:3px;overflow:hidden;background-color:#fff}.nav-pills .react-tabs__tab{margin-right:16px;padding:0.5rem 1rem;border:1px solid #D5D7DE;border-radius:3px 3px 0 0;background-color:#E6E9EC;font-family:Montserrat, sans-serif;font-size:16px;font-weight:bold;color:#8E94AA}.nav-pills .react-tabs__tab--selected{background-color:#fff;border-bottom-color:#fff;color:#343B4C}.admin-users{width:100%}.admin-users .wrapper{margin:15px}.admin-users .admin-heading-users{padding:10px 0;display:flex;align-items:center}.admin-users .admin-panel{display:flex}.admin-users .admin-users-form{display:flex}.admin-users .admin-users-form .admin-users-button{margin-left:8px;flex:none}.admin-users .form-bulk-left{width:unset}.admin-users .form-bulk-right{margin-left:24px}.admin-users .form-bulk-search{margin-left:auto}.admin-users .form-control{border:1px solid #343B4C;box-sizing:border-box;box-shadow:0px 0px 0px #007CBA;border-radius:2px;max-height:35px}.admin-users .admin-users-table{margin-top:10px;border:1px solid #D5D7DE;height:75vh;border-radius:3px;overflow:hidden}.admin-users .table{border-bottom:1px solid #D5D7DE;font-family:Roboto;font-style:normal;font-size:15px;line-height:15px}.admin-users .table thead{text-transform:uppercase;font-weight:600;font-family:Montserrat}.admin-users .table td{vertical-align:middle}.admin-users .table td a{font-family:Roboto;color:#274BC8;cursor:pointer}.admin-users .table .input-users{margin-right:10px}.admin-users .table .vector-svg{position:relative;margin-left:8px;width:16px;height:16px;display:inline-block;align-items:center;fill:red}.admin-users .table .role-svg{transform:rotate(180deg)}.admin-users .table .users-svg{position:relative;margin-right:5px;max-width:36px;max-height:36px;display:inline-block;align-items:center}#content{width:100%;height:100vh;margin:12px}.admin-heading{display:flex;align-items:center;padding:10px 20px 10px 25px}.admin-breadcrumbs{margin-right:20px;font-size:28px;font-family:Montserrat, Arial, sans-serif}.admin-breadcrumbs__link{font-weight:500;font-size:28px;text-decoration:none;color:grey}.admin-breadcrumbs__separator{font-weight:bold;font-size:28px}.admin-breadcrumbs__current{font-weight:bold;font-size:28px}#description{border-radius:0px 3px 3px 3px;border-top:none !important}.nav{margin-top:10px}.nav-item a{font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;text-transform:uppercase}.change-role{line-height:50px;padding:35px 8px 8px 8px;align-items:center}.form-control-sm{margin:0 35px 0 20px;background:#FFFFFF;border:1px solid #343B4C !important;box-sizing:border-box;box-shadow:0px 0px 0px #007CBA;border-radius:2px}.form-check{padding-left:1.2rem !important}.form-check-inline{margin-right:0 !important}.form-check-label{font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343B4C}.form-check-label:hover{color:#007bff}.col-3{align-self:center}.col-6{padding-bottom:8px;padding-top:10px;border-top:0;border-bottom:0;margin:0 !important}.form-group{margin-top:14px !important}fieldset{padding-top:12px}.treeview{margin-top:-50px;padding:0;clear:both;font-family:Arial, sans-serif;width:100%;height:70vh}.treeview *{font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#8E94AA}.treeview ul{overflow:hidden;width:100%;margin:0;padding:0 0 1.5em 0;list-style-type:none}.treeview ul ul{overflow:visible;width:auto;margin:0 0 0 0;padding:0 0 0 1.5em}.treeview ul.l{border-left:1px solid;margin-left:-1px}ul{overflow:hidden}.treeview li{position:relative;padding-left:1.2em}.treeview+ul{margin-left:30px;padding-top:10px}.treeview li{margin-bottom:.8em}.treeview li{margin:0;padding:0}.treeview li li{margin:0 0 0 0.5em;border-left:1px solid;padding:0}.treeview li div{position:relative;height:1.5em;min-height:16px;height:1.9em}.treeview li li div{border-bottom:1px solid}.treeview li p{position:absolute;z-index:1;top:0.8em;top:1.2em;left:.95em;width:100%;margin:0;border-bottom:1px dashed;padding:0}.treeview li p.form-group-p{margin-left:7.8rem}.treeview a{padding:0.1em 0.2em;white-space:nowrap;height:1px}.treeview a:hover{padding:0.1em 0.2em;white-space:nowrap;height:1px;text-decoration:none}.treeview img.i{border-right:2px solid;border-bottom:0.5em solid;margin-bottom:-0.5em;vertical-align:middle}.treeview a.sc{position:absolute;top:0.06em;margin-left:-1em;padding:0;text-decoration:none}.treeview li p,.treeview img.i,.treeview .sc{background:#ffffff}.treeview ul.l,.treeview li p,.treeview img.i{border-color:#ffffff}.treeview ul li li,.treeview ul li li div{border-color:#999999}.treeview a,.treeview a.sc,.treeview a.sc:hover{color:#8E94AA}.treeview a.core{color:#343B4C}.treeview a:hover{color:#f97c13}.group-table{height:50px;align-items:center}.group-table .text-group{margin:0 0 0 15px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;text-transform:uppercase;color:#343B4C}.group-table .text-total{font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343B4C}.col input .search-tools{height:30px;border:1px solid #ced4da}.form-tools button{min-width:-webkit-fill-available;min-height:-webkit-fill-available;border-bottom:none;border-right:none;border-top:none;border-left:1px solid #ced4da;background:#87CA00;font-family:Montserrat;font-style:normal;font-weight:bold;font-size:18px;line-height:22px;text-transform:uppercase;color:#3C455B}.form-tools button:hover{min-width:-webkit-fill-available;min-height:-webkit-fill-available;border-bottom:none;border-right:none;border-top:none;border-left:1px solid #ced4da;background:#b5ea49;font-family:Montserrat;font-style:normal;font-weight:bold;font-size:18px;line-height:22px;text-transform:uppercase;color:#3C455B}.group-table-trees{height:75vh}.form-check-group{margin-top:16px}.form-group-p{margin:0;margin-left:10px;display:inline-block}.form-group-p a{font-family:Roboto;font-style:normal;font-weight:normal;font-size:11px;line-height:14px;color:#8E94AA;text-decoration:none !important}.form-group-p span{margin:0;font-size:12px;line-height:14px;color:#8E94AA}.form-group-p a:last-child{color:#fc394d}.form-group-p a:last-child:hover{color:#fa011a}.group-vertical{display:grid;width:80%;margin:25px auto}.group-vertical button{margin-top:5px;font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;text-align:center;color:#3C455B}.dangerous{display:grid;width:80%;justify-content:center;margin:350px auto auto auto}.dangerous span{width:195px;font-family:Roboto;font-style:normal;font-weight:bold;font-size:12px;line-height:14px;margin:0 19px;color:#8E94AA}.dangerous button{margin:5px auto;width:195px;height:40px;left:1651px;top:889px;background:#FF4E6E;border:1px solid #FF4E6E;box-sizing:border-box;border-radius:2px;font-family:Montserrat;font-style:normal;font-weight:bold;font-size:18px;line-height:22px;text-align:center;color:#FFFFFF}.admin-logo{width:100%;height:41px;background-color:#2A2D36}.logo{margin:8px 15px}.admin-users{width:100%}.admin-users .wrapper{margin:15px}.admin-users .admin-heading-users{padding:10px 0;display:flex;align-items:center}.admin-users .admin-panel{display:flex}.admin-users .admin-users-form{display:flex}.admin-users .admin-users-form .admin-users-button{margin-left:8px;flex:none}.admin-users .form-bulk-left{width:unset}.admin-users .form-bulk-right{margin-left:24px}.admin-users .form-bulk-search{margin-left:auto}.admin-users .form-control{border:1px solid #343B4C;box-sizing:border-box;box-shadow:0px 0px 0px #007CBA;border-radius:2px;max-height:35px}.admin-users .admin-users-table{margin-top:10px;border:1px solid #D5D7DE;height:75vh;border-radius:3px;overflow:hidden}.admin-users .table{border-bottom:1px solid #D5D7DE;font-family:Roboto;font-style:normal;font-size:15px;line-height:15px}.admin-users .table thead{text-transform:uppercase;font-weight:600;font-family:Montserrat}.admin-users .table td{vertical-align:middle}.admin-users .table td a{font-family:Roboto;color:#274BC8;cursor:pointer}.admin-users .table .input-users{margin-right:10px}.admin-users .table .vector-svg{position:relative;margin-left:8px;width:16px;height:16px;display:inline-block;align-items:center;fill:red}.admin-users .table .role-svg{transform:rotate(180deg)}.admin-users .table .users-svg{position:relative;margin-right:5px;max-width:36px;max-height:36px;display:inline-block;align-items:center}.btn__wrapper .btn{margin-right:20px}.btn_add{margin-top:20px}.form-group__inline-wrapper{display:flex;justify-content:space-between}.form-group__inline-wrapper__divider,.form-group__inline-wrapper .form-group_checkbox{align-self:flex-end}.form-group.form-group_width30{flex-basis:30%}.form-group.form-group_width65{flex-basis:65%}.form-group.form-group_width47{flex-basis:47.5%}.form-group.form-group_width30{flex-basis:30%}.form-group.form-group_width15{flex-basis:15%}.sub-header{margin:30px 0;font-weight:600;font-size:16px;line-height:20px;text-transform:uppercase;color:#343B4C}.field-form p,.admin-form p{color:#242424;display:block;font-family:inherit}.field-form .checkbox-group,.admin-form .checkbox-group{display:flex}.field-form .checkbox-group .form-group,.admin-form .checkbox-group .form-group{flex-grow:1}.centred{text-align:center}.checkbox-label{margin-left:10px}.flex-container{display:flex;justify-content:space-between;align-items:baseline}.label_checkbox{margin-bottom:0;cursor:pointer}.disabling-radio{margin-left:15px}.charts{display:flex;flex-wrap:wrap}.charts .card{margin-right:10px;margin-bottom:10px;min-height:300px;min-width:450px;padding:20px;border:0}.charts .card-body{padding:0}.charts .card-body .spinner-container{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.charts .card-body .widget-table{overflow:auto;width:100%;height:100%}.charts .card-body .widget-table table{width:100%;font-size:0.8rem}.charts .card-body .widget-table table.vertical-table tbody td:first-child{background-color:#f0f0f0;color:#666666;width:50%;font-weight:600}.charts .card-body .widget-table table thead th,.charts .card-body .widget-table table tbody td{border-collapse:collapse;border:1px solid rgba(0,0,0,0.125);padding:0.3rem 0.5rem}.charts .card-body .widget-table table thead{background-color:#f0f0f0;color:#666666;font-weight:600}.charts .card-header{display:flex;justify-content:space-between;align-items:center;padding:0.5rem 0.7rem;border-bottom:none;background-color:transparent;margin-bottom:10px}.charts .card-header__name{width:80%;font-size:1.2rem;color:#2a2d36;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.charts .card-header__buttons button{border:0;background:transparent;padding:0 7px}.widget-placeholder{width:100%;height:420px;border:1px solid #dedede;overflow:hidden;border-radius:2px;margin-right:15px;padding:20px}.widget-placeholder .widget-table{overflow:auto;width:100%;height:100%}.widget-placeholder .widget-table table{width:100%;font-size:0.8rem}.widget-placeholder .widget-table table.vertical-table tbody td:first-child{background-color:#f0f0f0;color:#666666;width:50%;font-weight:600}.widget-placeholder .widget-table table thead th,.widget-placeholder .widget-table table tbody td{border-collapse:collapse;border:1px solid rgba(0,0,0,0.125);padding:0.3rem 0.5rem}.widget-placeholder .widget-table table thead{background-color:#f0f0f0;color:#666666;font-weight:600}.form-group .react-datepicker-wrapper{width:100%}.hide-blocks .react-datepicker__header{display:none}.form-segment .form-group label{width:100%}.from-segment .form-group_checkbox{margin-bottom:25px}.admin{display:flex;min-height:100vh;padding-left:271px}.admin__logo{width:120px;height:44px;padding-left:12px;display:flex;align-items:center;justify-content:center}.admin__logo img{max-width:100%;max-height:100%}.admin-nav{position:fixed;top:0;left:0;bottom:0;overflow-x:hidden;overflow-y:auto;height:100vh;background-color:#2A2D36;width:271px;flex-shrink:0}.admin-nav-top{display:flex;justify-content:space-between;align-items:center;width:271px;padding-right:5px}.admin-nav-top .nav-logo{background-color:#2a2d36}.admin-nav-list{margin-top:10px}.admin-nav-list__link{display:flex;padding:6px;color:#fff;font-size:17px;font-weight:500}.admin-nav-list__link:hover{color:#87CA00}.admin-nav-list__link:hover path{fill:#87CA00}.admin-nav-list__link svg{position:relative;top:1px;margin:3px 16px 0 7px}.admin-nav-list_pages{position:absolute;top:44px;left:0;right:0;bottom:0;background-color:#2A2D36;transform:translate(100%, 0);transition-duration:0.3s}.admin-content{width:100%}.admin-caption{margin-bottom:15px;font-weight:600;font-size:18px}.admin__bars{margin:12px 12px;float:right;cursor:pointer}.admin_pages-show .admin-nav-list_pages{transform:translate(0, 0)}.admin__version{position:absolute;bottom:0;left:0;right:0;padding:5px;text-align:center;font-size:13px;color:#fff}.admin-form__subheader{text-transform:uppercase;margin-top:25px;font-weight:600;font-size:16px;line-height:20px}.icon{width:16px;height:16px;fill:white;margin-right:15px;display:inline-block;align-items:center}.admin-nav li{list-style-type:none;background:#343b4c}.admin-nav li:hover{background:#495267}ul{margin-left:0;padding-left:0}p{display:inline-block;color:white;font-weight:500;font-family:Montserrat, Arial, sans-serif}a{text-decoration:none}.admin-page{width:100%;display:flex;flex-direction:column}.admin-content{background-color:#F7F8F9;flex-grow:1;padding:13px 25px}.ace_editor{font-family:SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace}\n',""])},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(32);var n=a(15),r=a.n(n);a(71),a(124),a(53);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(){return window.iconsManager}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e.assetType){case"icon":return o().renderIcon(e.name);case"image":case"media":return React.createElement("img",i(i({},t),{},{src:e.url}));case"mediaBackground":return React.createElement("div",i(i({},t),{},{style:{backgroundImage:"url(".concat(e.url,")")}}));case void 0:return React.createElement("img",i(i({},t),{},{src:"/img/nullImage.png"}))}return""}}}]);
//# sourceMappingURL=0314384af8119848584d.bundle.js.map