(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{405:function(e,a,t){(e.exports=t(99)(!1)).push([e.i,"",""])},452:function(e,a,t){var r=t(405);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0},l=t(100)(r,n);r.locals&&(e.exports=r.locals),e.hot.accept(405,(function(){var a=t(405);if("string"==typeof a&&(a=[[e.i,a,""]]),!function(e,a){var t,r=0;for(t in e){if(!a||e[t]!==a[t])return!1;r++}for(t in a)r--;return 0===r}(r.locals,a.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(a)})),e.hot.dispose((function(){l()}))},477:function(e,a,t){"use strict";t.r(a);var r=t(8),n=t.n(r),l=t(12),o=t.n(l),c=t(19),s=t.n(c),i=t(83),u=t.n(i),m=t(0),p=t.n(m),d=t(450),f=t(453),b=(t(452),t(85)),g=t(30);a.default=function(e){var a=e.settings,t=e.query,r=e.data;if(!a.tables_columns||!a.tables_columns.length)return p.a.createElement("div",{children:"Please Add Column"});var l,c,i,h=[],v=Object(m.useState)(1),E=u()(v,2),N=E[0],w=E[1],y=Object(m.useCallback)(function(){var e=s()(o.a.mark((function e(a){var r,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:1,e.abrupt("return",t.getQueried({page:r}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());if(t.pageSize){var x=Object(f.b)([t.modelName,N],y,{}),P=x.status,k=x.resolvedData,S=x.latestData,j=x.error;h=k?k[t.modelName]:h,l=P,c=j,i=S,Object(m.useEffect)((function(){(null==S?void 0:S.hasMore)&&f.a.prefetchQuery([t.modelName,N+1],y)}),[S,y,N])}else{var C=Object(f.c)(t.modelName,(function(){return t.getResource().getQueried()}),[t.modelName]),O=C.status,M=C.data,A=C.error;h=M,l=O,c=A}var R=[];R=function(e){var a=[],t=e.tables_columns;return(t=t||[]).forEach((function(e){e.column_name&&e.accessor&&a.push(e)})),a}(a),h.length||(h=r);var T=Object(d.useTable)({columns:p.a.useMemo((function(){return R||[]}),[a.tables_columns]),data:p.a.useMemo((function(){return h||[]}),[h])}),D=T.getTableProps,H=T.getTableBodyProps,Q=T.headerGroups,z=T.rows,G=T.prepareRow;return p.a.createElement(p.a.Fragment,null,p.a.createElement("table",n()({className:"altrp-table"},D()),p.a.createElement("thead",{className:"altrp-table-head"},function(e){var a=e.additional_rows;if(!_.isArray(a))return"";return a.map((function(e){return e.additional_cells=e.additional_cells||[],p.a.createElement("tr",{key:"additional-row-".concat(e.id)},e.additional_cells.map((function(a){return a.rowspan=a.rowspan||1,a.colspan=a.colspan||1,p.a.createElement("th",{key:"additional-cell-".concat(e.id,"-").concat(a.id),role:"columnheader",className:"altrp-table-th",colSpan:a.colspan,rowSpan:a.rowspan},a.title)})))}))}(a),Q.map((function(e){return p.a.createElement("tr",n()({},e.getHeaderGroupProps(),{className:"altrp-table-tr"}),e.headers.map((function(e){return p.a.createElement("th",n()({},e.getHeaderProps(),{className:"altrp-table-th"}),e.render("column_name"),p.a.createElement("span",{className:"altrp-table-th_sort"},e.isSorted?e.isSortedDesc?" ðŸ”½":" ðŸ”¼":""))})))}))),p.a.createElement("tbody",n()({},H(),{className:"altrp-table-tbody"}),"error"===l?p.a.createElement("tr",null,p.a.createElement("td",null,c.message)):"loading"===l?p.a.createElement("tr",null,p.a.createElement("td",null,"Loading")):z.map((function(e,a){return G(e),p.a.createElement("tr",n()({},e.getRowProps(),{className:"altrp-table-tr"}),e.cells.map((function(a,t){var r=a.render("Cell"),l=Object(g.a)()?"a":b.a;return(_.isObject(a.value)||_.isArray(a.value))&&(r=""),R[t].column_link&&e.original.id&&(r=p.a.createElement(l,{to:R[t].column_link.replace(":id",e.original.id),className:"altrp-inherit"},r)),p.a.createElement("td",n()({},a.getCellProps(),{className:"altrp-table-td"}),r)})))})))),"prev-next"===t.paginationType&&t.pageSize?p.a.createElement("div",{className:"altrp-pagination"},p.a.createElement("button",{className:"altrp-pagination__previous",onClick:function(){return w((function(e){return Math.max(e-1,0)}))},disabled:1===N},a.prev_text||"Previous Page"),p.a.createElement("div",{className:"altrp-pagination__count"},a.current_page_text||"Current Page:",N),p.a.createElement("button",{className:"altrp-pagination__next",onClick:function(){return w((function(e){return i&&i.hasMore?e+1:e}))},disabled:!i||!i.hasMore},a.next_text||"Next Page")):"")}}}]);
//# sourceMappingURL=18c877bc3c50c296ce91.bundle.js.map