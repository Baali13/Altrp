(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{535:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.text;return r.a.createElement("div",{className:"spinner-container"},r.a.createElement("div",{className:"spinner-container__text"},t||"Нет данных"))}},536:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(10),r=a.n(n),c=a(17),l=a.n(c),i=a(176),s=a.n(i),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,a,n){return[t,0===n?"?":"&",a=encodeURIComponent(a),"=",encodeURIComponent(e[a])].join("")}),"")},u=function(){var e=l()(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o(a),e.prev=1,e.next=4,s()(t+n);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{status:500});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}()},538:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(){return r.a.createElement("div",{className:"spinner-container"},r.a.createElement("div",{className:"spinner-border",style:{width:"3rem",height:"3rem"},role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}},575:function(e,t,a){"use strict";var n=a(10),r=a.n(n),c=a(17),l=a.n(c),i=a(51),s=a.n(i),o=a(0),u=a.n(o),d=a(175),m=a(538),f=a(535),E=a(536);t.a=function(e){var t,a=e.widget,n=e.width,c=void 0===n?300:n,i=e.height,p=void 0===i?300:i,h=Object(o.useState)(!1),v=s()(h,2),b=v[0],g=v[1],w=Object(o.useState)([]),y=s()(w,2),k=y[0],O=y[1],j=Object(o.useCallback)(l()(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,Object(E.a)(a.source,a.filter);case 3:200===(t=e.sent).status&&(O(t.data.data),g(!1));case 5:case"end":return e.stop()}}),e)}))),[a]);if(Object(o.useEffect)((function(){j()}),[j]),b)return u.a.createElement(m.a,null);if(0===k.length)return u.a.createElement(f.a,null);var S=k.map((function(e,t){return u.a.createElement(d.DiscreteLegendEntry,{key:t,className:"discrete__legend-item",label:"".concat(e.key," (").concat(e.data,")")})}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(d.BarChart,{height:p,width:c,data:k,series:u.a.createElement(d.BarSeries,{colorScheme:a.options.colorScheme,bar:u.a.createElement(d.Bar,{gradient:u.a.createElement(d.Gradient,{stops:[u.a.createElement(d.GradientStop,{stopOpacity:1})]})})})}),(null===(t=a.options)||void 0===t?void 0:t.legend)&&u.a.createElement(d.DiscreteLegend,{className:"discrete__legend",orientation:a.options.legend,entries:S}))}},576:function(e,t,a){"use strict";var n=a(10),r=a.n(n),c=a(17),l=a.n(c),i=a(51),s=a.n(i),o=a(0),u=a.n(o),d=a(175),m=a(538),f=a(535),E=a(536);t.a=function(e){var t,a=e.widget,n=e.width,c=void 0===n?300:n,i=e.height,p=void 0===i?300:i,h=Object(o.useState)(!1),v=s()(h,2),b=v[0],g=v[1],w=Object(o.useState)([]),y=s()(w,2),k=y[0],O=y[1],j=Object(o.useCallback)(l()(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,Object(E.a)(a.source,a.filter);case 3:200===(t=e.sent).status&&(O(t.data.data||[]),g(!1));case 5:case"end":return e.stop()}}),e)}))),[a]);if(Object(o.useEffect)((function(){j()}),[j]),b)return u.a.createElement(m.a,null);if(!k||0===k.length)return u.a.createElement(f.a,null);var S=k.map((function(e,t){return u.a.createElement(d.DiscreteLegendEntry,{key:t,className:"discrete__legend-item",label:"".concat(e.key," (").concat(e.data,")")})}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(d.PieChart,{height:p,width:c,data:k||[],series:u.a.createElement(d.PieArcSeries,{explode:a.options.explode,colorScheme:a.options.colorScheme,label:u.a.createElement(d.PieArcLabel,{fontSize:12,fontFill:"#000000"})})}),(null===(t=a.options)||void 0===t?void 0:t.legend)&&u.a.createElement(d.DiscreteLegend,{className:"discrete__legend",orientation:a.options.legend,entries:S}))}},577:function(e,t,a){"use strict";var n=a(10),r=a.n(n),c=a(17),l=a.n(c),i=a(51),s=a.n(i),o=a(0),u=a.n(o),d=a(175),m=a(557),f=a(559),E=a(558),p=a(538),h=a(535),v=a(536);t.a=function(e){var t=e.widget,a=e.width,n=void 0===a?300:a,c=e.height,i=void 0===c?300:c,b=e.strokeWidth,g=void 0===b?3:b,w=Object(o.useState)(!1),y=s()(w,2),k=y[0],O=y[1],j=Object(o.useState)([]),S=s()(j,2),x=S[0],L=S[1],N=Object(o.useCallback)(l()(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,Object(v.a)(t.source,t.filter);case 3:200===(a=e.sent).status&&(n=a.data.data.map((function(e){var t=new Date(e.key);if(t)return{key:t,data:e.data}})),L(n),O(!1));case 5:case"end":return e.stop()}}),e)}))),[t]);return Object(o.useEffect)((function(){N()}),[N]),k?u.a.createElement(p.a,null):0===x.length?u.a.createElement(h.a,null):u.a.createElement(u.a.Fragment,null,u.a.createElement(d.LineChart,{height:i,width:n,data:x,xAxis:u.a.createElement(d.LinearXAxis,{type:"time",tickSeries:u.a.createElement(d.LinearXAxisTickSeries,{label:u.a.createElement(d.LinearXAxisTickLabel,{format:function(e){var t=x.slice().shift(),a=x.slice().pop(),n=parseInt(Object(f.a)(t.key,a.key,{unit:"month"}));return n>=0&&n<=12?Object(m.a)(e,"d MMM",{locale:E.a}):Object(m.a)(e,"d MMM yy",{locale:E.a})}})})}),series:u.a.createElement(d.LineSeries,{line:u.a.createElement(d.Line,{strokeWidth:g}),colorScheme:t.colorScheme})}))}},578:function(e,t,a){"use strict";var n=a(10),r=a.n(n),c=a(17),l=a.n(c),i=a(51),s=a.n(i),o=a(0),u=a.n(o),d=a(538),m=a(535),f=a(536),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc";return function(a,n){if(!a.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var r="string"==typeof a[e]?a[e].toUpperCase():a[e],c="string"==typeof n[e]?n[e].toUpperCase():n[e],l=0;return r>c?l=1:r<c&&(l=-1),"desc"===t?-1*l:l}};t.a=function(e){var t=e.widget,a=Object(o.useState)([]),n=s()(a,2),c=n[0],i=n[1],p=Object(o.useState)(!1),h=s()(p,2),v=h[0],b=h[1],g=Object(o.useCallback)(l()(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,Object(f.a)(t.source,t.filter);case 3:200===(a=e.sent).status&&(i(a.data.data.sort(E("data"))),b(!1));case 5:case"end":return e.stop()}}),e)}))),[t]),w=Object(o.useMemo)((function(){return c.reduce((function(e,t){return e+t.data}),0)}),[c]);return Object(o.useEffect)((function(){g()}),[g]),v?u.a.createElement(d.a,null):0===c.length?u.a.createElement(m.a,null):t.options.isVertical?u.a.createElement("div",{className:"widget-table"},u.a.createElement("table",{className:"vertical-table"},u.a.createElement("tbody",null,c.map((function(e,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null,e.key),u.a.createElement("td",null,e.data))})),u.a.createElement("tr",null,u.a.createElement("td",null,"ИТОГО"),u.a.createElement("td",null,w))))):u.a.createElement("div",{className:"widget-table"},u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,c.map((function(e,t){return u.a.createElement("th",{key:t},e.key)})),u.a.createElement("th",null,"ИТОГО"))),u.a.createElement("tbody",null,u.a.createElement("tr",null,c.map((function(e,t){return u.a.createElement("td",{key:t},e.data)})),u.a.createElement("td",null,w)))))}},579:function(e,t,a){"use strict";var n=a(10),r=a.n(n),c=a(17),l=a.n(c),i=a(51),s=a.n(i),o=a(0),u=a.n(o),d=a(175),m=a(538),f=a(535),E=a(536);t.a=function(e){var t,a=e.widget,n=e.width,c=void 0===n?300:n,i=e.height,p=void 0===i?300:i,h=Object(o.useState)([]),v=s()(h,2),b=v[0],g=v[1],w=Object(o.useState)(!1),y=s()(w,2),k=y[0],O=y[1],j=Object(o.useCallback)(l()(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,Object(E.a)(a.source,a.filter);case 3:200===(t=e.sent).status&&(g(t.data.data),O(!1));case 5:case"end":return e.stop()}}),e)}))),[a]);if(Object(o.useEffect)((function(){j()}),[j]),k)return u.a.createElement(m.a,null);if(0===b.length)return u.a.createElement(f.a,null);var S=b.map((function(e,t){return u.a.createElement(d.DiscreteLegendEntry,{key:t,className:"discrete__legend-item",label:"".concat(e.key," (").concat(e.data,")")})}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(d.PieChart,{height:p,width:c,data:b,series:u.a.createElement(d.PieArcSeries,{doughnut:!0,colorScheme:a.options.colorScheme,label:u.a.createElement(d.PieArcLabel,{fontSize:12,fontFill:"#000000"})})}),(null===(t=a.options)||void 0===t?void 0:t.legend)&&u.a.createElement(d.DiscreteLegend,{className:"discrete__legend",orientation:a.options.legend,entries:S}))}},583:function(e,t,a){"use strict";var n=a(10),r=a.n(n),c=a(17),l=a.n(c),i=a(51),s=a.n(i),o=a(0),u=a.n(o),d=a(175),m=a(557),f=a(559),E=a(558),p=function(){return u.a.createElement("div",{className:"spinner-container"},u.a.createElement("div",{className:"spinner-border",style:{width:"3rem",height:"3rem"},role:"status"},u.a.createElement("span",{className:"sr-only"},"Loading...")))},h=a(535),v=a(536);t.a=function(e){var t=e.widget,a=e.width,n=void 0===a?300:a,c=e.height,i=void 0===c?300:c,b=e.color,g=void 0===b?"#FFD51F":b,w=Object(o.useState)([]),y=s()(w,2),k=y[0],O=y[1],j=Object(o.useState)(!1),S=s()(j,2),x=S[0],L=S[1],N=Object(o.useCallback)(l()(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,Object(v.a)(t.source,t.filter);case 3:200===(a=e.sent).status&&"string"!=typeof a.data&&(n=a.data.data.map((function(e){var t=new Date(e.key);if(t)return{key:t,data:e.data}})),O(n),L(!1));case 5:case"end":return e.stop()}}),e)}))),[t]);return Object(o.useEffect)((function(){N()}),[N]),x?u.a.createElement(p,null):Array.isArray(k)&&0!==k.length?u.a.createElement(u.a.Fragment,null,u.a.createElement(d.AreaChart,{height:i,width:n,data:k,xAxis:u.a.createElement(d.LinearXAxis,{type:"time",tickSeries:u.a.createElement(d.LinearXAxisTickSeries,{label:u.a.createElement(d.LinearXAxisTickLabel,{format:function(e){var t=k.slice().shift(),a=k.slice().pop(),n=parseInt(Object(f.a)(t.key,a.key,{unit:"month"}));return n>=0&&n<=12?Object(m.a)(e,"d LLL",{locale:E.a}):Object(m.a)(e,"d MMM yy",{locale:E.a})}})})}),series:u.a.createElement(d.AreaSeries,{type:t.options.type||"standard",markLine:u.a.createElement(d.MarkLine,{strokeWidth:0}),line:u.a.createElement(d.Line,{strokeWidth:0}),area:u.a.createElement(d.Area,{gradient:u.a.createElement(d.Gradient,{color:g,stops:[u.a.createElement(d.GradientStop,{color:g})]})})})})):u.a.createElement(h.a,null)}},684:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(575),l=a(576),i=a(583),s=a(577),o=a(578),u=a(579),d=a(86);t.default=function(e){var t,a,n=e.settings,m=null===(t=n.query)||void 0===t||null===(a=t.dataSource)||void 0===a?void 0:a.value;if(console.log("settings.query :>> ",n.query),!m)return r.a.createElement("div",{className:"altrp-chart"},"Choose data for chart");var f={source:m,options:{colorScheme:n.colorScheme,legend:""},filter:{}};switch(n.type){case d.b:return r.a.createElement("div",{className:"altrp-chart"},r.a.createElement(c.a,{widget:f}));case d.e:return r.a.createElement("div",{className:"altrp-chart"},r.a.createElement(l.a,{widget:f}));case d.c:return r.a.createElement("div",{className:"altrp-chart"},r.a.createElement(u.a,{widget:f}));case d.d:return r.a.createElement("div",{className:"altrp-chart"},r.a.createElement(s.a,{widget:f}));case d.f:return r.a.createElement("div",{className:"altrp-chart"},r.a.createElement(o.a,{widget:f}));case d.a:return r.a.createElement("div",{className:"altrp-chart"},r.a.createElement(i.a,{widget:f}));default:return r.a.createElement(r.a.Fragment,null)}}}}]);
//# sourceMappingURL=da752fccfed2ca1a7963.bundle.js.map