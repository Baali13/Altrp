(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{535:function(e,t,a){(e.exports=a(109)(!1)).push([e.i,"",""])},586:function(e,t,a){var r=a(535);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0},o=a(110)(r,n);r.locals&&(e.exports=r.locals),e.hot.accept(535,(function(){var t=a(535);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,r=0;for(a in e){if(!t||e[a]!==t[a])return!1;r++}for(a in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},620:function(e,t,a){"use strict";a.r(t);var r=a(34),n=a.n(r),o=a(13),l=a.n(o),c=a(8),s=a.n(c),i=a(21),u=a.n(i),p=a(27),m=a.n(p),d=a(0),f=a.n(d),b=a(584),g=a(587),v=(a(586),a(125)),h=a(53);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=function(e){var t=e.settings,a=e.query,r=e.data;if(!t.tables_columns||!t.tables_columns.length)return f.a.createElement("div",{children:"Please Add Column"});var o,c,s,i=[],p=Object(d.useState)(1),E=m()(p,2),w=E[0],y=E[1],j=Object(d.useState)(null),N=m()(j,2),P=N[0],S=N[1],C=Object(d.useCallback)(function(){var e=u()(l.a.mark((function e(t){var r,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:1,e.abrupt("return",a.getQueried(P?O(O({},P),{},{page:r}):{page:r}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());if(a.pageSize){var k=Object(g.b)([a.modelName,w],C,{}),x=k.status,D=k.resolvedData,M=k.latestData,A=k.error;i=D?D[a.modelName]:i,o=x,c=A,s=M,Object(d.useEffect)((function(){(null==M?void 0:M.hasMore)&&g.a.prefetchQuery([a.modelName,w+1],C)}),[M,C,w])}else{var R=Object(g.c)(a.modelName,(function(){return a.getResource().getQueried()}),[a.modelName]),T=R.status,H=R.data,Q=R.error;i=H,o=T,c=Q}var z=[];z=function(e){var t=[],a=e.tables_columns;return(a=a||[]).forEach((function(e){e.column_name&&e.accessor&&t.push(e)})),t}(t),i.length||(i=r);var G=Object(b.useTable)({columns:f.a.useMemo((function(){return z||[]}),[t.tables_columns]),data:f.a.useMemo((function(){return i||[]}),[i])}),J=G.getTableProps,q=G.getTableBodyProps,B=G.headerGroups,F=G.rows,I=G.prepareRow;return f.a.createElement(f.a.Fragment,null,f.a.createElement("table",n()({className:"altrp-table"},J()),f.a.createElement("thead",{className:"altrp-table-head"},function(e){var t=e.additional_rows;if(!_.isArray(t))return"";return t.map((function(e){return e.additional_cells=e.additional_cells||[],f.a.createElement("tr",{key:"additional-row-".concat(e.id)},e.additional_cells.map((function(t){return t.rowspan=t.rowspan||1,t.colspan=t.colspan||1,f.a.createElement("th",{key:"additional-cell-".concat(e.id,"-").concat(t.id),role:"columnheader",className:"altrp-table-th",colSpan:t.colspan,rowSpan:t.rowspan},t.title)})))}))}(t),B.map((function(e){return f.a.createElement("tr",n()({},e.getHeaderGroupProps(),{className:"altrp-table-tr"}),e.headers.map((function(e){return f.a.createElement("th",n()({},e.getHeaderProps(),{className:"altrp-table-th"}),e.render("column_name"),e.column_isSorted&&f.a.createElement("button",{className:"altrp-table-th_sort",onClick:function(){return t=e.column_name,S({order_by:t,order:P&&"DESC"===P.order?"ASC":"DESC"});var t}},P&&"DESC"===P.order?" ðŸ”½":" ðŸ”¼"))})))}))),f.a.createElement("tbody",n()({},q(),{className:"altrp-table-tbody"}),"error"===o?f.a.createElement("tr",null,f.a.createElement("td",null,c.message)):"loading"===o?f.a.createElement("tr",null,f.a.createElement("td",null,"Loading")):F.map((function(e,t){return I(e),f.a.createElement("tr",n()({},e.getRowProps(),{className:"altrp-table-tr"}),e.cells.map((function(t,a){var r=t.render("Cell"),o=Object(h.b)()?"a":v.b;return(_.isObject(t.value)||_.isArray(t.value))&&(r=""),z[a].column_link&&e.original.id&&(r=f.a.createElement(o,{to:z[a].column_link.replace(":id",e.original.id),className:"altrp-inherit"},r)),f.a.createElement("td",n()({},t.getCellProps(),{className:"altrp-table-td"}),r)})))})))),"prev-next"===a.paginationType&&a.pageSize?f.a.createElement("div",{className:"altrp-pagination"},f.a.createElement("button",{className:"altrp-pagination__previous",onClick:function(){return y((function(e){return Math.max(e-1,0)}))},disabled:1===w},t.prev_text||"Previous Page"),f.a.createElement("div",{className:"altrp-pagination__count"},t.current_page_text||"Current Page:",w),f.a.createElement("button",{className:"altrp-pagination__next",onClick:function(){return y((function(e){return s&&s.hasMore?e+1:e}))},disabled:!s||!s.hasMore},t.next_text||"Next Page")):"")}}}]);
//# sourceMappingURL=52f43a7b4a3f4a47d4c2.bundle.js.map