{"version":3,"sources":["widgets/Table/sourceTypes.js","widgets/Table/helpers/getDataFromApi.js","../node_modules/react-bootstrap/esm/Table.js","widgets/Table/index.js"],"names":["sourceTypes","API","CUSTOM","RENDER","sourceTypesList","name","value","getDataFromApi","api","a","axios","req","data","Table","React","forwardRef","_ref","ref","bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive","props","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","classes","classNames","table","createElement","_extends","responsiveClass","dataFrom","variable","columns","rows","useState","header","setHeader","setData","useLayoutEffect","Object","keys","map","item","index","key","row","keyRow","entries","dangerouslySetInnerHTML","__html","String","renderData"],"mappings":"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","file":"static/js/2.d85be404.chunk.js","sourcesContent":["export const sourceTypes = {\n  API: \"api\",\n  CUSTOM: \"custom\",\n  RENDER: \"rendering\",\n};\n\nexport const sourceTypesList = [\n  { name: \"API\", value: sourceTypes.API },\n  { name: \"В ручную\", value: sourceTypes.CUSTOM },\n  { name: \"Для рендеринга\", value: sourceTypes.RENDER },\n];\n","import axios from \"axios\";\n\nconst getDataFromApi = async (api) => {\n  const req = await axios(api);\n  return req.data;\n};\n\nexport default getDataFromApi;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","import React, { useLayoutEffect, useState } from \"react\";\nimport { Table as T } from \"react-bootstrap\";\nimport { sourceTypes } from \"./sourceTypes\";\nimport getDataFromApi from \"./helpers/getDataFromApi\";\n\nconst Table = ({\n  dataFrom,\n  api,\n  variable,\n  columns,\n  rows,\n  striped,\n  variant,\n  bordered,\n  size,\n  hover,\n  borderless,\n}) => {\n  const [header, setHeader] = useState(columns || []);\n  const [data, setData] = useState(rows || []);\n\n  useLayoutEffect(() => {\n    if (dataFrom === sourceTypes.API && api) {\n      (async () => {\n        const data = await getDataFromApi(api);\n        if (data) {\n          setHeader(Object.keys(data[0]));\n          setData(data);\n        }\n      })();\n    }\n  }, [api, dataFrom]);\n\n  const renderData = () => {\n    switch (dataFrom) {\n      case sourceTypes.RENDER:\n        return (\n          <>\n            @foreach(${variable} as $item)\n            {data.map((row, keyRow) => (\n              <tr key={keyRow}>\n                {Object.entries(row).map(([key, value]) => (\n                  <td\n                    key={key}\n                    dangerouslySetInnerHTML={{\n                      __html: `{{ $item->${value} }}`,\n                    }}\n                  ></td>\n                ))}\n              </tr>\n            ))}\n            @endforeach\n          </>\n        );\n\n      default:\n        return data.map((row, keyRow) => (\n          <tr key={keyRow}>\n            {Object.entries(row).map(([key, value]) => (\n              <td key={key}>{String(value)}</td>\n            ))}\n          </tr>\n        ));\n    }\n  };\n\n  return (\n    <T\n      size={size}\n      variant={variant}\n      striped={striped}\n      bordered={bordered}\n      hover={hover}\n      borderless={borderless}\n    >\n      <thead>\n        <tr>\n          {header.map((item, index) => (\n            <th key={index}>{item}</th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>{renderData()}</tbody>\n    </T>\n  );\n};\n\nexport default Table;\n"],"sourceRoot":""}