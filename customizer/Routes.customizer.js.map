{"version":3,"file":"Routes.customizer.js","mappings":"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","sources":["webpack:///./front-app/src/js/classes/Routes.js","webpack:///./front-app/src/js/store/areas/reducers.js","webpack:///./front-app/src/js/store/current-email-template/actions.js","webpack:///./front-app/src/js/store/current-email-template/reducers.js","webpack:///./front-app/src/js/store/current-title/actions.js","webpack:///./front-app/src/js/store/current-title/reducers.js","webpack:///./front-app/src/js/store/forms-data-storage/reducers.js","webpack:///./front-app/src/js/store/ligtbox-images-storage/actions.js","webpack:///./front-app/src/js/store/ligtbox-images-storage/reducers.js","webpack:///./front-app/src/js/store/popup-trigger/actions.js","webpack:///./front-app/src/js/store/popup-trigger/reducers.js","webpack:///./front-app/src/js/store/reducers.js","webpack:///./front-app/src/js/store/responses-storage/reducers.js","webpack:///./front-app/src/js/store/routes/reducers.js","webpack:///./front-app/src/js/store/scroll-position/actions.js","webpack:///./front-app/src/js/store/scroll-position/reducers.js","webpack:///./front-app/src/js/store/store.js","webpack:///./front-app/src/js/store/user-local-storage/actions.js","webpack:///./front-app/src/js/store/user-local-storage/reducers.js"],"sourcesContent":["import Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport Route from \"./Route\";\r\nimport appStore from \"../store/store\";\r\nimport { changeAppRoutes } from \"../store/routes/actions\";\r\n\r\nclass Routes {\r\n  constructor() {\r\n    this.resource = new Resource({\r\n      route: \"/ajax/routes\"\r\n    });\r\n    this.loadRoutes();\r\n  }\r\n  loadRoutes() {\r\n    if(window.altrpPages){\r\n      let routes = [];\r\n      for (let _data of window.altrpPages) {\r\n        routes.push(Route.routeFabric(_data));\r\n      }\r\n      appStore.dispatch(changeAppRoutes(routes));\r\n      return\r\n    }\r\n    this.resource\r\n      .getAll()\r\n      .then(routesData => {\r\n        let routes = [];\r\n        for (let _data of routesData.pages) {\r\n          routes.push(Route.routeFabric(_data));\r\n        }\r\n        appStore.dispatch(changeAppRoutes(routes));\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n}\r\nexport default new Routes();\r\n","import { SET_AREAS,} from \"./actions\";\r\n\r\nlet defaultAreas = [];\r\nif(window['h-altrp']){\r\n  defaultAreas = window.page_areas.map(a=> new window.altrpHelpers.Area.areaFactory(a));\r\n}\r\nexport function areasReducer(areas, action) {\r\n  areas = areas || defaultAreas;\r\n  switch (action.type) {\r\n    case SET_AREAS: {\r\n      areas = action.areas;\r\n    }\r\n    break;\r\n  }\r\n  return areas;\r\n}\r\n","export const CHANGE_CURRENT_EMAIL_TEMPLATE = \"CHANGE_CURRENT_EMAIL_TEMPLATE\";\r\n\r\n\r\nexport function changeCurrentEmailTemplate(template) {\r\n  return {\r\n    type: CHANGE_CURRENT_EMAIL_TEMPLATE,\r\n    template\r\n  };\r\n}\r\n","import {\r\n  CHANGE_CURRENT_EMAIL_TEMPLATE\r\n} from \"./actions\";\r\n\r\n\r\nconst defaultTemplate = null;\r\n\r\nexport function currentEmailTemplateReducer(template, action) {\r\n  template = template || defaultTemplate;\r\n  switch (action.type) {\r\n    case CHANGE_CURRENT_EMAIL_TEMPLATE:\r\n      {\r\n        template = action.template;\r\n      }\r\n      break;\r\n  }\r\n  return template;\r\n}\r\n","export const CHANGE_CURRENT_TITLE = 'CHANGE_CURRENT_TITLE';\r\n\r\nexport function changeCurrentTitle(title) {\r\n  return {\r\n    type: CHANGE_CURRENT_TITLE,\r\n    title\r\n  };\r\n}\r\n\r\n","if (typeof document === \"undefined\") {\r\n  global.document = {};\r\n}\r\nimport { CHANGE_CURRENT_TITLE } from \"./actions\";\r\n\r\nconst defaultTitle = document?.title || \"\";\r\n\r\nexport function currentTitleReducer(title, action) {\r\n  title = title || defaultTitle;\r\n  switch (action.type) {\r\n    case CHANGE_CURRENT_TITLE:\r\n      {\r\n        title = action.title;\r\n      }\r\n      break;\r\n  }\r\n  return title;\r\n}\r\n","import {CHANGE_FORM_FIELD_VALUE, CLEAR_FORM_FIELD_VALUE} from './actions'\n\nconst defaultState = {\n\n};\n\nexport function formsStoreReducer(state, {type, formId, fieldName, value, changedField}) {\n  state = state || defaultState;\n  switch (type) {\n    case CHANGE_FORM_FIELD_VALUE:{\n      if(_.get(state, [formId, fieldName]) !== value){\n        state = _.cloneDeep(state);\n        state.changedField = changedField;\n        _.set(state, [formId, fieldName], value);\n      }\n    }break;\n    case CLEAR_FORM_FIELD_VALUE:{\n      if(formId){\n        state = _.cloneDeep(state);\n        _.set(state, [formId], {});\n      } else {\n        state = {};\n      }\n    }break;\n  }\n  return state;\n}\n","export const ADD_IMAGE = 'ADD_IMAGE';\r\nexport const REMOVE_IMAGE = 'REMOVE_IMAGE';\r\n/**\r\n *\r\n * @param {string} image\r\n * @param {string} storeName\r\n * @return {{type: string, image: {}, storeName:string}}\r\n */\r\nexport const addImageToLightboxStorage = (image, storeName) => {\r\n  return {\r\n    type: ADD_IMAGE,\r\n    image,\r\n    storeName,\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} image\r\n * @param {string} storeName\r\n * @return {{type: string, image: {}, storeName:string}}\r\n */\r\nexport const removeImageFromLightbox = (image, storeName) => {\r\n  return {\r\n    type: REMOVE_IMAGE,\r\n    image,\r\n    storeName,\r\n  };\r\n};\r\n","import { ADD_IMAGE, REMOVE_IMAGE } from \"./actions\";\r\nimport mutate from \"dot-prop-immutable\";\r\n\r\nconst initialStore = {}\r\n/**\r\n *\r\n * @param {{}} store\r\n * @param {string} type\r\n * @param {string} image\r\n * @param {string} storeName\r\n * @returns {{}}\r\n */\r\nexport const lightboxImagesReducer = (store = initialStore, { type, image, storeName }) => {\r\n  if(_.isNumber(storeName)){\r\n    storeName = storeName + ''\r\n  }\r\n  switch (type) {\r\n    case ADD_IMAGE:{\r\n      let lightboxImages = store[storeName] || [];\r\n      if(! lightboxImages.find(i=>image === i)){\r\n        lightboxImages.push(image)\r\n        lightboxImages = [...lightboxImages]\r\n        store = mutate.set(store, storeName, lightboxImages)\r\n      }\r\n    }break;\r\n    case REMOVE_IMAGE:{\r\n      let lightboxImages = store[storeName] || [];\r\n      if( lightboxImages.find(i=>image === i)) {\r\n        lightboxImages = lightboxImages.filter(i => image !== i)\r\n        lightboxImages = [...lightboxImages]\r\n        store = mutate.set(store, storeName, lightboxImages)\r\n      }\r\n    }break\r\n  }\r\n  return store;\r\n};\r\n","export const TRIGGER_POPUP = \"TRIGGER_POPUP\";\r\n\r\nexport const togglePopup = payload => ({\r\n  type: TRIGGER_POPUP,\r\n  payload\r\n});","import { TRIGGER_POPUP } from \"./actions\";\r\n\r\nconst initialState = { popupID: null };\r\n\r\nexport const popupReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case TRIGGER_POPUP: {\r\n      return {popupID: state.popupID === payload ? null : payload};\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};","import { combineReducers } from \"redux\";\r\nimport { appRoutesReducer } from \"./routes/reducers\";\r\nimport { currentModelReducer } from \"./current-model/reducers\";\r\nimport { formsStoreReducer } from \"./forms-data-storage/reducers\";\r\nimport { currentUserReducer } from \"./current-user/reducers\";\r\nimport { currentDataStorageReducer } from \"./current-data-storage/reducers\";\r\nimport { scrollReducer } from \"./scroll-position/reducers\";\r\nimport { popupReducer } from \"./popup-trigger/reducers\";\r\nimport { elementsStorageReducer } from \"./elements-storage/reducers\";\r\nimport { hideTriggersReducer } from \"./hide-triggers/reducers\";\r\nimport { responsesStorageReducer } from \"./responses-storage/reducers\";\r\nimport { elementReducer } from \"../../../../editor/src/js/store/altrp-dashboard/reducers\";\r\nimport { altrpMetaReducer } from \"./altrp-meta-storage/reducers\";\r\nimport { altrpPageStateReducer } from \"./altrp-page-state-storage/reducers\";\r\nimport { fontsReducer } from \"./fonts-storage/reducers\";\r\nimport { changeLocalStorageReducer } from \"./user-local-storage/reducers\";\r\nimport { exportDashboard } from \"./altrp-dashboard-export/reducers\";\r\nimport { mediaScreenReducer } from \"./media-screen-storage/reducers\";\r\nimport { currentTitleReducer } from \"./current-title/reducers\";\r\nimport { currentEmailTemplateReducer } from \"./current-email-template/reducers\";\r\nimport { currentPageReducer } from \"./current-page/reducers\";\r\nimport {menusReducer} from \"./menus-storage/reducers\";\r\nimport {elementsSettingsReducer} from \"./elements-settings/reducers\";\r\nimport {areasReducer} from \"./areas/reducers\";\r\nimport {lightboxImagesReducer} from \"./ligtbox-images-storage/reducers\";\r\n\r\nexport default combineReducers({\r\n  appRoutes: appRoutesReducer,\r\n  currentModel: currentModelReducer,\r\n  formsStore: formsStoreReducer,\r\n  currentUser: currentUserReducer,\r\n  currentDataStorage: currentDataStorageReducer,\r\n  scrollPosition: scrollReducer,\r\n  popupTrigger: popupReducer,\r\n  elements: elementsStorageReducer,\r\n  hideTriggers: hideTriggersReducer,\r\n  altrpresponses: responsesStorageReducer,\r\n  editElement: elementReducer,\r\n  altrpMeta: altrpMetaReducer,\r\n  altrpPageState: altrpPageStateReducer,\r\n  altrpFonts: fontsReducer,\r\n  userLocalStorage: changeLocalStorageReducer,\r\n  exportDashboard: exportDashboard,\r\n  currentScreen: mediaScreenReducer,\r\n  currentTitle: currentTitleReducer,\r\n  currentEmailTemplate: currentEmailTemplateReducer,\r\n  altrpPage: currentPageReducer,\r\n  altrpMenus: menusReducer,\r\n  elementsSettings: elementsSettingsReducer,\r\n  areas: areasReducer,\r\n  lightboxImages: lightboxImagesReducer,\r\n});\r\n","import {ADD_RESPONSE_DATA, CLEAR_ALL_RESPONSE_DATA} from './actions'\r\nimport AltrpModel from \"../../../../../editor/src/js/classes/AltrpModel\";\r\nimport {setAltrpIndex} from \"../../helpers\";\r\n\r\nconst defaultResponsesStorage = {\r\n  \r\n};\r\n\r\nexport function responsesStorageReducer(responsesStorage, action) {\r\n  responsesStorage = responsesStorage || new AltrpModel(defaultResponsesStorage);\r\n  switch (action.type) {\r\n    case ADD_RESPONSE_DATA:{\r\n      let data = action.data;\r\n      if(_.isArray(data)){\r\n        setAltrpIndex(data);\r\n      }\r\n      responsesStorage = _.cloneDeep(responsesStorage);\r\n      responsesStorage.setProperty(action.formId, data);\r\n    }break;\r\n    case CLEAR_ALL_RESPONSE_DATA:{\r\n      responsesStorage = new AltrpModel({});\r\n    }break;\r\n  }\r\n  if(responsesStorage instanceof AltrpModel){\r\n    return responsesStorage;\r\n  }\r\n  return new AltrpModel(responsesStorage);\r\n}","import {CHANGE_APP_ROUTES,} from './actions'\r\nimport Route from \"../../classes/Route\";\r\n\r\nlet routes = [];\r\nif(window.altrpPages){\r\n  for (let _data of window.altrpPages) {\r\n    routes.push(Route.routeFabric(_data));\r\n  }\r\n}\r\nconst defaultState = {\r\n  routes,\r\n};\r\n\r\nexport function appRoutesReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type) {\r\n    case CHANGE_APP_ROUTES:{\r\n      state = {\r\n        routes: action.routes,\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}\r\n","export const SET_SCROLL_TOP = \"SET_SCROLL_TOP\";\r\n/**\r\n *\r\n * @param {{\r\n *  top: int\r\n * }} payload\r\n * @return {{type: string, payload: {}}}\r\n */\r\nexport const setScrollValue = payload => {\r\n  if(payload.top) {\r\n\r\n    if(window.pageUpdater){\r\n      window.pageUpdater.startUpdating();\r\n    }\r\n  }\r\n  return {\r\n    type: SET_SCROLL_TOP,\r\n    payload\r\n  };\r\n};\r\n","import { SET_SCROLL_TOP } from \"./actions\";\r\n\r\nconst initialState = {}\r\n\r\nexport const scrollReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case SET_SCROLL_TOP:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import { createStore } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\n// Grab the state from a global variable injected into the server-generated HTML\r\nconst preloadedState = window.__PRELOADED_STATE__;\r\n\r\n// Allow the passed state to be garbage-collected\r\ndelete window.__PRELOADED_STATE__;\r\nlet appStore = createStore(rootReducer, preloadedState);\r\nwindow.appStore = appStore;\r\nif (window.ALTRP_DEBUG) {\r\n  let _dis = appStore.dispatch;\r\n  appStore.dispatch = function(action) {\r\n    _dis.bind(appStore)(action);\r\n  };\r\n}\r\nexport default appStore;\r\n","export const CHANGE_USER_LOCAL_STORAGE = \"CHANGE_USER_LOCAL_STORAGE\";\r\n\r\nexport function changeStorageData(user) {\r\n  return {\r\n    type: CHANGE_USER_LOCAL_STORAGE,\r\n    user: user || {}\r\n  };\r\n}\r\n","import { CHANGE_USER_LOCAL_STORAGE } from \"./actions\";\r\n\r\nconst defaultLocalStorage = {\r\n  element: \"test\"\r\n};\r\n\r\nexport function changeLocalStorageReducer(data, action) {\r\n  let result = data || defaultLocalStorage;\r\n  switch (action.type) {\r\n    case CHANGE_USER_LOCAL_STORAGE:\r\n      {\r\n        result = data;\r\n      }\r\n      break;\r\n  }\r\n  return result;\r\n}\r\n"],"names":["Resource","Route","appStore","changeAppRoutes","Routes","resource","route","loadRoutes","window","altrpPages","routes","_data","push","routeFabric","dispatch","getAll","then","routesData","pages","catch","err","console","error","SET_AREAS","defaultAreas","page_areas","map","a","altrpHelpers","Area","areaFactory","areasReducer","areas","action","type","CHANGE_CURRENT_EMAIL_TEMPLATE","changeCurrentEmailTemplate","template","defaultTemplate","currentEmailTemplateReducer","CHANGE_CURRENT_TITLE","changeCurrentTitle","title","document","global","defaultTitle","currentTitleReducer","CHANGE_FORM_FIELD_VALUE","CLEAR_FORM_FIELD_VALUE","defaultState","formsStoreReducer","state","formId","fieldName","value","changedField","_","get","cloneDeep","set","ADD_IMAGE","REMOVE_IMAGE","addImageToLightboxStorage","image","storeName","removeImageFromLightbox","mutate","initialStore","lightboxImagesReducer","store","isNumber","lightboxImages","find","i","filter","TRIGGER_POPUP","togglePopup","payload","initialState","popupID","popupReducer","combineReducers","appRoutesReducer","currentModelReducer","currentUserReducer","currentDataStorageReducer","scrollReducer","elementsStorageReducer","hideTriggersReducer","responsesStorageReducer","elementReducer","altrpMetaReducer","altrpPageStateReducer","fontsReducer","changeLocalStorageReducer","exportDashboard","mediaScreenReducer","currentPageReducer","menusReducer","elementsSettingsReducer","appRoutes","currentModel","formsStore","currentUser","currentDataStorage","scrollPosition","popupTrigger","elements","hideTriggers","altrpresponses","editElement","altrpMeta","altrpPageState","altrpFonts","userLocalStorage","currentScreen","currentTitle","currentEmailTemplate","altrpPage","altrpMenus","elementsSettings","ADD_RESPONSE_DATA","CLEAR_ALL_RESPONSE_DATA","AltrpModel","setAltrpIndex","defaultResponsesStorage","responsesStorage","data","isArray","setProperty","CHANGE_APP_ROUTES","SET_SCROLL_TOP","setScrollValue","top","pageUpdater","startUpdating","createStore","rootReducer","preloadedState","__PRELOADED_STATE__","ALTRP_DEBUG","_dis","bind","CHANGE_USER_LOCAL_STORAGE","changeStorageData","user","defaultLocalStorage","element","result"],"sourceRoot":""}